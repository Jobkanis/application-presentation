<?xml version="1.0" encoding="UTF-8"?>

<!--
 * See the NOTICE file distributed with this work for additional
 * information regarding copyright ownership.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the Free
 * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
-->

<xwikidoc>
  <web>Presentation</web>
  <name>PresentationSkin</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <parent>Presentation.WebHome</parent>
  <creator>xwiki:XWiki.Admin</creator>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <creationDate>1319289514000</creationDate>
  <date>1319563278000</date>
  <contentUpdateDate>1319563278000</contentUpdateDate>
  <version>1.1</version>
  <title>Presentation Skin</title>
  <template/>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.0</syntaxId>
  <hidden>false</hidden>
  <attachment>
    <filename>logobig.png</filename>
    <filesize>3754</filesize>
    <author>xwiki:XWiki.Admin</author>
    <date>1357463160000</date>
    <version>1.1</version>
    <comment/>
    <content>iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAABnlBMVEUAAAD/eAAAh8r/AABwtwBQ
UFJAQEBPT1IAh8dQUFJQUFJgYGBQUFJVVVVQUFBRUVJQUFJQUFJVVVVQUFNQUFAAhsxNTU1PT1JS
UlJPT1NOTlVPT1JRUVFPT1JQUFJRUVP/dwBRUVFQUFRQUFJQUFFQUFL/AABQUFNPT1JPT1JQUFJQ
UFJRUVFSUlJQUFJQUFMAiMtOTlNQUFJQUFJQUFJPT1JRUVFQUFNQUFFQUFNQUFJQUFJQUFJRUVJR
UVFQUFJRUVNQUFL/dwD/AAAAh8v/eQD/AABxtwAAgL//gABzuQBTU1P/dwD/AAD/AABwtwCAvwBR
UVFPT1FPT1MAhsr/dwD/AABxtwD/dwAAh8v/AAD/dQD/dgAAiMwAh8v/dwD/AABwtwD/dwD/eAAA
icj/dgD/AAAAhstwtgD/AAAAhs1wtwBQUFD/AABPT1JttgD/AABwtwBwtwBvuQAAh8v/AAD/dwBw
twAAiMz/AAD/dwBxtwBvtwAAhspRUVNQUFJQUFJPT1P/AABPT1H/AAAAh8v/dwBQUFJwtwD////M
OmDDAAAAhHRSTlMAYGBgYPsE9yCf3wjvDBCb6/MYzzAoFOcclyTXaLdgeIcsQNOjfFRsp2S72zw4
gFxYNOODj8dIUL+zr8uTq0zDi3BYWPMoKFgEBCgo8/ME8wRYdESDg4OD4+MgTByL29vj44sgHFTb
VFSLTIsgHFQcTNsgTPv7+/t4eHh4h4f3+vb3h4ddWm4uAAAAAWJLR0SJHGEmzAAADCpJREFUeF7s
1KEOwjAURuGKmio0hgSBHY/RpIgWVT1HsoVlTEwgMfexCYKErS0TJCRLzqeP+nNz1boBAAAAAIDg
rLYuLIfoYi8vdXNbKDF4efOXryXuo3yIqgzDKBPl20LnZcoX/xaizDWFEqGXuTrkUzhJuXwKKymb
T6ElpdWPGAuMxVinY7Uxpjq3axurvR62xjx2e/UnT3bupqd1KwgD8CzqY8VO4sRB+cYREJQACQgS
uIRvVpXKok276Lq7SrVStV100e7u4u3P7gqpvQJyRvEcTwLPL7BehPJ6zhmnkyM8O5u01yesdP/I
e37w4CElec2Ch//yCu31CKseffng4nF1q/hS9WAdwppX8KXqgCSZCC+JjPqwWnhJPyQ5Q7ysYJSH
FeFlt4akTPGaG91h3eA1EQk5wesGmsMa4HUHJCKu4A2J3rDmHl5XbZOEAt7ijbSGNfLxliEJSD28
qdLWGVbawNsk2nwPSwRNjWHFAZY4puzdY5m9ur6wytdYpkaZa3pY6t5oC8scYrknytocFvpGWVgF
WEgoa/uwcaMrrAfYOKastWClqymsxIONSKBlWfEu9IQ18mGlQFmLYMcbaQlrq4K8wurBUqOpI6z4
DBZkitYCtvZKGsIKz2FrTllrw9phKf+wzAzWdihzHVgb5h9WBGsBZW8Ce8d5h9WDvSllr+nD3kG+
YSUerHkpCZiCIZENiz/tczxYLldhzxvlF9bIh71qTCK6YKi08worbYBhQEJuwBA08wkrDsDQMiRl
CIZaKY+wwnMwHIYkJrwHw63JIawhGK5LJKgegCFyH1YLDGdNEvVUBMO+67C6YKjukLBdDwwLt2H9
wGo3FyQuAYM/dhnWVhEMXXJgAobijruwnipgeCAnIjAEsauwyh3mT7XCtGplN2GVrllZheTKDAyH
xsk6yhXzmZwp1cDQcrHodAyGTpkcinkvq/IrdAMwNNrk1FYVDIn0cubc4/UZx+481nRLdu137POa
snOPYChuSS2U8wvW95SDFhiCOln5639Z/S1QsCJDeZjxpltSH8EIz6VLg/sCMTRCn1fpy5cG9wWi
YEQ+3PMgUBoUFIh9EtATGIJoKBBIKHMnAuM1MYlA3WIY+wKlQU4iULeEJliPlLt9gbolMsGakAJ9
gbolULCGhhQwlzk98xAM9yFJEprn3uRyq+coJiXaFTB0cygNxSdSY+Q7r1uLKuz5u6TIJ9d1a8z8
86jS49UttwVrQsp8dlm3yh2JAxP90y35grUdkjrhJRi2aQVXYLgMSaHyHhgeHP3Hd+qkUtpw8lrb
BUMjJQEKDhMljghPSa0LVt0ay20RPvtEinXBUDwlth2hNyv9dessJaZmAIbPpFwfgNgep1E/weLX
Lak9TjOTLFj661ZEDC3ZgqW/bvXIWk+6YOmvWwdkKREvWPrrFu7IyqmvpWDpr1tbTgqW/rpVTGmp
5plAwdIiynYWWOoIFCw9ZlnuSJptgWmfImENDH0jtdKhH39XeZrdfD+mNfRUyWix4EBgDU2dXR/2
vDvGxqX241T5oeZWFhuXJ6SM1NtcvPqWUI/WWGvVmy7lPRXHqfqPXvkFy9BaC2ur7JeaoVDB0l+3
+DfdpvoLlpobxQMFBUt13ZrTM1r4CgqW6rrljRkDV+mCpf+mW8qYYEkXLP17nDH/h6FFm8Oc8+oW
95MW54Y2SPmIOd3qyy256JdWwBC1sFaX3PNddlO/cSl/VV7GgjbQI0Q80kaaQsCUNtQtMndlaEOF
M/DwDxzfWTll1tcNVg5gQcdHWfXvccqU0Y9y6u/Sxlt4yMacbH2U0x7Z+iinEb0TM6zsskTvRLmG
Fe3V6d1oBlhJo01q/Evcvaw0DERhAJ4EarVaL9jUheAddCVxo6K2i5BAAllpAi21LdRKQbIspRS8
ITPz2i67S3P+IZzvAWYRhjMnJ/yT0HHtwlwnFGSNLW1gD4iTRYFnFeYFkShmnAwkSbe/LqheKhpW
aQuq13SoSDqjN1HAhy/J/Alw7xbsUlD1YkUWv4uV5lOJSATVtQZgKcLFTCHSlftqKjGTsv7yav77
5d5MYVbsrbEvQT65bq1daUCrTq5XsQLF+XUrkbA+nOMsOXGZKthI5AgHEtYNwRxnyYnLaKhgnbwO
wpEGHCzHWXbiMlAGgpyFXWnAFXSNL03wjSQuPWXAy1nYlgZs5GH9aIJf5GFZyoDFtLPwKy3wrIn5
zuKvWXiBP2/y1Cz+07D+qMn2myynIX+f1cI+QTP0Wfwd/JOG7DB08Ozvhs8adMz9brg0l5BPQdSu
atSdIFooyAn7PGuZJIBVbxnmWYyT0uxAG9jNGCalbDP4rKaN1LLSZ/D/7F3fS+NoFL0gSUnStKYr
aWzVZV07nU79QW1r1c7YiuBLaWFG8MGneRoQ4uCLD/NsYP/tYR4W1w3L9uPk9ub74nkvhNNCTs+9
9xzKC2x8FOZTQWCfAzThxUzaRa/g2CMTgQssvPLobR++Q9oBEFgoTkgT4N35OIINMhphN9MF3BoZ
jIqCgwW4W2YAEFhA7IXR179Qw6rBd+U4DkkU8lWIb3LrhOuU9aI4AgtHoHWuCu5g9VvABoT28JTG
qe8Vowq6PmkLPJRV/RNFdbDGPhGRNwF2Jw0XWOmLy9AtpNwaWcrvNnWDolNAB6t0k/qgqe4WPiIc
pcrigWGidgibQPxH29ysI3x9exPatDn1iuRgndnw53XGAA1l9ceFSbNT+ovnRngo7GFRBNYsC7ti
VIw01//USTclYHdLBoK9jR2g0FsT1JqZXVz2gVR5o6tk8DvOpm+2gzX5v5KiiZK7pRtbTrZHJpXf
DHa3vmTtodfqxu5ubSkJLIbKvkutR4R4pMWuBai2/OKPAI20wBsmrQNNBFYXF1h4bEY5Ig1Q4SvG
doxLjdpWK93mE2+nhkUCNyukBF+t8khAbvHF8RzHpIioa1CP7Y7FvP4yKxvTkHxhsVtPuyVdgvVx
lY2Hsn4HAu+EgBdjt1ZVeZRLVJpA35wKpkpeYC7lljdcWer9tvaZ8Xur6230x5qXuw9WeXQTdrUe
vV6udgIzW9c44PtIyWzaJRi9krabbvullfc2fga+HlE06mpuHwz1wtaG1gILx0BHueWdCq2snwOj
SSHYZ0r+JSCwMHdr29aubzWSK/R2NBunrjckN6Fb8i06orVCPZ3crV6g9LDSX9a+PvtqLcGtCvlN
t5qS2+fYtBwW11drV9cLjhdMPSIh+GOOlf6H22/JL3y9v6NlYH/QIqXsnMPBepwnf2P+juE7E5Jb
VY5Nzx9PyT9wy+BnOxJs9Tl6Gx+fkld4x9AwORXYweKwSB7myWvM7xgsok6+Yxp2aDncJv/GPYP5
WNqQj2nABdbiW4qsrwtwmCgfBBE2WQYG10ka1xwZ4G6NVgZ7wnMFeJWkccUiZIa+8JI7PiJcS9JY
45HIn3K5g+VGhJGFuFvyu1sdCxBYjGTRDD1D08cUwcmiA2Aix4ID4LCUmywaWfiqvLyRi5PFILfW
Z8SKyp+AwILI4pBbzZAY4Q+BihyALDbfyM9LtfjQIwGyvElOMvirgMBCyQLklsgd5xbgYMFkccmt
NrEgCgCBBZPFJbeCWP7seURyZNHIkp7qxxb648bJ4rjjtDhWt56BCyOELPYBwYCyRxd4xSBksbtI
bvbyYQYcBEBk8YdwZG/JH6kEjcqTRWFXcNrTh5YvcLIY5dZUTL0HPcoHWbRRFhMPDhBpwUwWmlLm
SP2yOiRAFjh6dYSyDqckQBbqBfazt96BazUxsmhPxoyPLWBfTYwsb5lNN4ZTFRcINGEkC08pq0uM
Vo9jyh9ZFLkS49bYAsQoQBb3RrXVEPCz9imfZFHPErhSicvANBwgi3ffIGgQC44AB0uSLDqU2Jnc
BFaAJcmiqkTlXxXiCidL/sFxtqo25Zws2pTYiW8HaVNmy6bck0U75fSDt23iReS81luW0yDSgCwK
Uw8eEz/i5xdRXH+eEelBFlHcf3lwd9D42c4dqjAIRmEY/kEYnGQx2RYUTAZvYCDYNrAYlkyCsIHF
YB1e+LLpCz94EN7nBg58/T3hJPe6MbOmFgcdxhI+fZGaParsFhx4jOWPsRiLsaBzFOjQCXEJHXSc
CZ39Ij4ox3bY6hcQ8QQD6r0K9OOeKwMAAAAAAH9jOCbZJ+wumQAAAABJRU5ErkJggg==
</content>
  </attachment>
  <attachment>
    <filename>slides.js</filename>
    <filesize>14970</filesize>
    <author>xwiki:XWiki.Admin</author>
    <date>1319551075000</date>
    <version>1.1</version>
    <comment/>
    <content>LyoKICBHb29nbGUgSFRNTDUgc2xpZGVzIHRlbXBsYXRlCgogIEF1dGhvcnM6IEx1a2UgTWFow6kg
KGNvZGUpCiAgICAgICAgICAgTWFyY2luIFdpY2hhcnkgKGNvZGUgYW5kIGRlc2lnbikKCiAgICAg
ICAgICAgRG9taW5pYyBNYXp6b25pIChicm93c2VyIGNvbXBhdGliaWxpdHkpCiAgICAgICAgICAg
Q2hhcmxlcyBDaGVuIChDaHJvbWVWb3ggc3VwcG9ydCkKCiAgVVJMOiBodHRwOi8vY29kZS5nb29n
bGUuY29tL3AvaHRtbDVzbGlkZXMvCiovCgp2YXIgU0xJREVfQ0xBU1NFUyA9IFsnZmFyLXBhc3Qn
LCAncGFzdCcsICdjdXJyZW50JywgJ25leHQnLCAnZmFyLW5leHQnXTsKCnZhciBQTV9UT1VDSF9T
RU5TSVRJVklUWSA9IDE1OwoKdmFyIGN1clNsaWRlOwoKLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwovKiBj
bGFzc0xpc3QgcG9seWZpbGwgYnkgRWxpIEdyZXkgCiAqIChodHRwOi8vcHVybC5lbGlncmV5LmNv
bS9naXRodWIvY2xhc3NMaXN0LmpzL2Jsb2IvbWFzdGVyL2NsYXNzTGlzdC5qcykgKi8KCmlmICh0
eXBlb2YgZG9jdW1lbnQgIT09ICJ1bmRlZmluZWQiICYmICEoImNsYXNzTGlzdCIgaW4gZG9jdW1l
bnQuY3JlYXRlRWxlbWVudCgiYSIpKSkgewoKKGZ1bmN0aW9uICh2aWV3KSB7Cgp2YXIKICAgIGNs
YXNzTGlzdFByb3AgPSAiY2xhc3NMaXN0IgogICwgcHJvdG9Qcm9wID0gInByb3RvdHlwZSIKICAs
IGVsZW1DdHJQcm90byA9ICh2aWV3LkhUTUxFbGVtZW50IHx8IHZpZXcuRWxlbWVudClbcHJvdG9Q
cm9wXQogICwgb2JqQ3RyID0gT2JqZWN0CiAgICBzdHJUcmltID0gU3RyaW5nW3Byb3RvUHJvcF0u
dHJpbSB8fCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXHMrfFxzKyQv
ZywgIiIpOwogIH0KICAsIGFyckluZGV4T2YgPSBBcnJheVtwcm90b1Byb3BdLmluZGV4T2YgfHwg
ZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmxlbmd0aDsg
aSA8IGxlbjsgaSsrKSB7CiAgICAgIGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkg
ewogICAgICAgIHJldHVybiBpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gLTE7CiAgfQogIC8v
IFZlbmRvcnM6IHBsZWFzZSBhbGxvdyBjb250ZW50IGNvZGUgdG8gaW5zdGFudGlhdGUgRE9NRXhj
ZXB0aW9ucwogICwgRE9NRXggPSBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkgewogICAgdGhpcy5u
YW1lID0gdHlwZTsKICAgIHRoaXMuY29kZSA9IERPTUV4Y2VwdGlvblt0eXBlXTsKICAgIHRoaXMu
bWVzc2FnZSA9IG1lc3NhZ2U7CiAgfQogICwgY2hlY2tUb2tlbkFuZEdldEluZGV4ID0gZnVuY3Rp
b24gKGNsYXNzTGlzdCwgdG9rZW4pIHsKICAgIGlmICh0b2tlbiA9PT0gIiIpIHsKICAgICAgdGhy
b3cgbmV3IERPTUV4KAogICAgICAgICAgIlNZTlRBWF9FUlIiCiAgICAgICAgLCAiQW4gaW52YWxp
ZCBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkIgogICAgICApOwogICAgfQogICAgaWYg
KC9ccy8udGVzdCh0b2tlbikpIHsKICAgICAgdGhyb3cgbmV3IERPTUV4KAogICAgICAgICAgIklO
VkFMSURfQ0hBUkFDVEVSX0VSUiIKICAgICAgICAsICJTdHJpbmcgY29udGFpbnMgYW4gaW52YWxp
ZCBjaGFyYWN0ZXIiCiAgICAgICk7CiAgICB9CiAgICByZXR1cm4gYXJySW5kZXhPZi5jYWxsKGNs
YXNzTGlzdCwgdG9rZW4pOwogIH0KICAsIENsYXNzTGlzdCA9IGZ1bmN0aW9uIChlbGVtKSB7CiAg
ICB2YXIKICAgICAgICB0cmltbWVkQ2xhc3NlcyA9IHN0clRyaW0uY2FsbChlbGVtLmNsYXNzTmFt
ZSkKICAgICAgLCBjbGFzc2VzID0gdHJpbW1lZENsYXNzZXMgPyB0cmltbWVkQ2xhc3Nlcy5zcGxp
dCgvXHMrLykgOiBbXQogICAgOwogICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNsYXNzZXMubGVu
Z3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgdGhpcy5wdXNoKGNsYXNzZXNbaV0pOwogICAgfQog
ICAgdGhpcy5fdXBkYXRlQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkgewogICAgICBlbGVtLmNsYXNz
TmFtZSA9IHRoaXMudG9TdHJpbmcoKTsKICAgIH07CiAgfQogICwgY2xhc3NMaXN0UHJvdG8gPSBD
bGFzc0xpc3RbcHJvdG9Qcm9wXSA9IFtdCiAgLCBjbGFzc0xpc3RHZXR0ZXIgPSBmdW5jdGlvbiAo
KSB7CiAgICByZXR1cm4gbmV3IENsYXNzTGlzdCh0aGlzKTsKICB9CjsKLy8gTW9zdCBET01FeGNl
cHRpb24gaW1wbGVtZW50YXRpb25zIGRvbid0IGFsbG93IGNhbGxpbmcgRE9NRXhjZXB0aW9uJ3Mg
dG9TdHJpbmcoKQovLyBvbiBub24tRE9NRXhjZXB0aW9ucy4gRXJyb3IncyB0b1N0cmluZygpIGlz
IHN1ZmZpY2llbnQgaGVyZS4KRE9NRXhbcHJvdG9Qcm9wXSA9IEVycm9yW3Byb3RvUHJvcF07CmNs
YXNzTGlzdFByb3RvLml0ZW0gPSBmdW5jdGlvbiAoaSkgewogIHJldHVybiB0aGlzW2ldIHx8IG51
bGw7Cn07CmNsYXNzTGlzdFByb3RvLmNvbnRhaW5zID0gZnVuY3Rpb24gKHRva2VuKSB7CiAgdG9r
ZW4gKz0gIiI7CiAgcmV0dXJuIGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgIT09
IC0xOwp9OwpjbGFzc0xpc3RQcm90by5hZGQgPSBmdW5jdGlvbiAodG9rZW4pIHsKICB0b2tlbiAr
PSAiIjsKICBpZiAoY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSA9PT0gLTEpIHsK
ICAgIHRoaXMucHVzaCh0b2tlbik7CiAgICB0aGlzLl91cGRhdGVDbGFzc05hbWUoKTsKICB9Cn07
CmNsYXNzTGlzdFByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uICh0b2tlbikgewogIHRva2VuICs9ICIi
OwogIHZhciBpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7CiAgaWYg
KGluZGV4ICE9PSAtMSkgewogICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgdGhpcy5fdXBk
YXRlQ2xhc3NOYW1lKCk7CiAgfQp9OwpjbGFzc0xpc3RQcm90by50b2dnbGUgPSBmdW5jdGlvbiAo
dG9rZW4pIHsKICB0b2tlbiArPSAiIjsKICBpZiAoY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMs
IHRva2VuKSA9PT0gLTEpIHsKICAgIHRoaXMuYWRkKHRva2VuKTsKICB9IGVsc2UgewogICAgdGhp
cy5yZW1vdmUodG9rZW4pOwogIH0KfTsKY2xhc3NMaXN0UHJvdG8udG9TdHJpbmcgPSBmdW5jdGlv
biAoKSB7CiAgcmV0dXJuIHRoaXMuam9pbigiICIpOwp9OwoKaWYgKG9iakN0ci5kZWZpbmVQcm9w
ZXJ0eSkgewogIHZhciBjbGFzc0xpc3RQcm9wRGVzYyA9IHsKICAgICAgZ2V0OiBjbGFzc0xpc3RH
ZXR0ZXIKICAgICwgZW51bWVyYWJsZTogdHJ1ZQogICAgLCBjb25maWd1cmFibGU6IHRydWUKICB9
OwogIHRyeSB7CiAgICBvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xp
c3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7CiAgfSBjYXRjaCAoZXgpIHsgLy8gSUUgOCBkb2Vz
bid0IHN1cHBvcnQgZW51bWVyYWJsZTp0cnVlCiAgICBpZiAoZXgubnVtYmVyID09PSAtMHg3RkY1
RUM1NCkgewogICAgICBjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlID0gZmFsc2U7CiAgICAg
IG9iakN0ci5kZWZpbmVQcm9wZXJ0eShlbGVtQ3RyUHJvdG8sIGNsYXNzTGlzdFByb3AsIGNsYXNz
TGlzdFByb3BEZXNjKTsKICAgIH0KICB9Cn0gZWxzZSBpZiAob2JqQ3RyW3Byb3RvUHJvcF0uX19k
ZWZpbmVHZXR0ZXJfXykgewogIGVsZW1DdHJQcm90by5fX2RlZmluZUdldHRlcl9fKGNsYXNzTGlz
dFByb3AsIGNsYXNzTGlzdEdldHRlcik7Cn0KCn0oc2VsZikpOwoKfQovKiAtLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
ICovCgovKiBTbGlkZSBtb3ZlbWVudCAqLwoKZnVuY3Rpb24gZ2V0U2xpZGVFbChubykgewogIGlm
ICgobm8gPCAwKSB8fCAobm8gPj0gc2xpZGVFbHMubGVuZ3RoKSkgeyAKICAgIHJldHVybiBudWxs
OwogIH0gZWxzZSB7CiAgICByZXR1cm4gc2xpZGVFbHNbbm9dOwogIH0KfTsKCmZ1bmN0aW9uIHVw
ZGF0ZVNsaWRlQ2xhc3Moc2xpZGVObywgY2xhc3NOYW1lKSB7CiAgdmFyIGVsID0gZ2V0U2xpZGVF
bChzbGlkZU5vKTsKICAKICBpZiAoIWVsKSB7CiAgICByZXR1cm47CiAgfQogIAogIGlmIChjbGFz
c05hbWUpIHsKICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsKICB9CiAgICAKICBmb3Ig
KHZhciBpID0gMDsgaSA8IFNMSURFX0NMQVNTRVMubGVuZ3RoOyBpKyspIHsKICAgIGlmIChjbGFz
c05hbWUgIT0gU0xJREVfQ0xBU1NFU1tpXSkgewogICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFNM
SURFX0NMQVNTRVNbaV0pOwogICAgfQogIH0KfTsKCmZ1bmN0aW9uIHVwZGF0ZVNsaWRlcygpIHsK
ICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlRWxzLmxlbmd0aDsgaSsrKSB7CiAgICBzd2l0Y2gg
KGkpIHsKICAgICAgY2FzZSBjdXJTbGlkZSAtIDI6CiAgICAgICAgdXBkYXRlU2xpZGVDbGFzcyhp
LCAnZmFyLXBhc3QnKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSBjdXJTbGlkZSAtIDE6CiAg
ICAgICAgdXBkYXRlU2xpZGVDbGFzcyhpLCAncGFzdCcpOwogICAgICAgIGJyZWFrOwogICAgICBj
YXNlIGN1clNsaWRlOiAKICAgICAgICB1cGRhdGVTbGlkZUNsYXNzKGksICdjdXJyZW50Jyk7CiAg
ICAgICAgYnJlYWs7CiAgICAgIGNhc2UgY3VyU2xpZGUgKyAxOgogICAgICAgIHVwZGF0ZVNsaWRl
Q2xhc3MoaSwgJ25leHQnKTsgICAgICAKICAgICAgICBicmVhazsKICAgICAgY2FzZSBjdXJTbGlk
ZSArIDI6CiAgICAgICAgdXBkYXRlU2xpZGVDbGFzcyhpLCAnZmFyLW5leHQnKTsgICAgICAKICAg
ICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICB1cGRhdGVTbGlkZUNsYXNzKGkpOwog
ICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgdHJpZ2dlckxlYXZlRXZlbnQoY3VyU2xpZGUgLSAx
KTsKICB0cmlnZ2VyRW50ZXJFdmVudChjdXJTbGlkZSk7CgogIHdpbmRvdy5zZXRUaW1lb3V0KGZ1
bmN0aW9uKCkgewogICAgLy8gSGlkZSBhZnRlciB0aGUgc2xpZGUKICAgIGRpc2FibGVTbGlkZUZy
YW1lcyhjdXJTbGlkZSAtIDIpOwogIH0sIDMwMSk7CgogIGVuYWJsZVNsaWRlRnJhbWVzKGN1clNs
aWRlIC0gMSk7CiAgZW5hYmxlU2xpZGVGcmFtZXMoY3VyU2xpZGUgKyAyKTsKICAKICBpZiAoaXND
aHJvbWVWb3hBY3RpdmUoKSkgewogICAgc3BlYWtBbmRTeW5jVG9Ob2RlKHNsaWRlRWxzW2N1clNs
aWRlXSk7CiAgfSAgCgogIHVwZGF0ZUhhc2goKTsKfTsKCmZ1bmN0aW9uIGJ1aWxkTmV4dEl0ZW0o
KSB7CiAgdmFyIHRvQnVpbGQgID0gc2xpZGVFbHNbY3VyU2xpZGVdLnF1ZXJ5U2VsZWN0b3JBbGwo
Jy50by1idWlsZCcpOwoKICBpZiAoIXRvQnVpbGQubGVuZ3RoKSB7CiAgICByZXR1cm4gZmFsc2U7
CiAgfQoKICB0b0J1aWxkWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ3RvLWJ1aWxkJywgJycpOwoKICBp
ZiAoaXNDaHJvbWVWb3hBY3RpdmUoKSkgewogICAgc3BlYWtBbmRTeW5jVG9Ob2RlKHRvQnVpbGRb
MF0pOwogIH0KCiAgcmV0dXJuIHRydWU7Cn07CgpmdW5jdGlvbiBwcmV2U2xpZGUoKSB7CiAgaWYg
KGN1clNsaWRlID4gMCkgewogICAgY3VyU2xpZGUtLTsKCiAgICB1cGRhdGVTbGlkZXMoKTsKICB9
Cn07CgpmdW5jdGlvbiBuZXh0U2xpZGUoKSB7CiAgaWYgKGJ1aWxkTmV4dEl0ZW0oKSkgewogICAg
cmV0dXJuOwogIH0KCiAgaWYgKGN1clNsaWRlIDwgc2xpZGVFbHMubGVuZ3RoIC0gMSkgewogICAg
Y3VyU2xpZGUrKzsKCiAgICB1cGRhdGVTbGlkZXMoKTsKICB9Cn07CgovKiBTbGlkZSBldmVudHMg
Ki8KCmZ1bmN0aW9uIHRyaWdnZXJFbnRlckV2ZW50KG5vKSB7CiAgdmFyIGVsID0gZ2V0U2xpZGVF
bChubyk7CiAgaWYgKCFlbCkgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIG9uRW50ZXIgPSBlbC5n
ZXRBdHRyaWJ1dGUoJ29uc2xpZGVlbnRlcicpOwogIGlmIChvbkVudGVyKSB7CiAgICBuZXcgRnVu
Y3Rpb24ob25FbnRlcikuY2FsbChlbCk7CiAgfQoKICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRl
RXZlbnQoJ0V2ZW50Jyk7CiAgZXZ0LmluaXRFdmVudCgnc2xpZGVlbnRlcicsIHRydWUsIHRydWUp
OwogIGV2dC5zbGlkZU51bWJlciA9IG5vICsgMTsgLy8gTWFrZSBpdCByZWFkYWJsZQoKICBlbC5k
aXNwYXRjaEV2ZW50KGV2dCk7Cn07CgpmdW5jdGlvbiB0cmlnZ2VyTGVhdmVFdmVudChubykgewog
IHZhciBlbCA9IGdldFNsaWRlRWwobm8pOwogIGlmICghZWwpIHsKICAgIHJldHVybjsKICB9Cgog
IHZhciBvbkxlYXZlID0gZWwuZ2V0QXR0cmlidXRlKCdvbnNsaWRlbGVhdmUnKTsKICBpZiAob25M
ZWF2ZSkgewogICAgbmV3IEZ1bmN0aW9uKG9uTGVhdmUpLmNhbGwoZWwpOwogIH0KCiAgdmFyIGV2
dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpOwogIGV2dC5pbml0RXZlbnQoJ3NsaWRl
bGVhdmUnLCB0cnVlLCB0cnVlKTsKICBldnQuc2xpZGVOdW1iZXIgPSBubyArIDE7IC8vIE1ha2Ug
aXQgcmVhZGFibGUKICAKICBlbC5kaXNwYXRjaEV2ZW50KGV2dCk7Cn07CgovKiBUb3VjaCBldmVu
dHMgKi8KCmZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHsKICBpZiAoZXZlbnQudG91
Y2hlcy5sZW5ndGggPT0gMSkgewogICAgdG91Y2hEWCA9IDA7CiAgICB0b3VjaERZID0gMDsKCiAg
ICB0b3VjaFN0YXJ0WCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7CiAgICB0b3VjaFN0YXJ0WSA9
IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVk7CgogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3Rl
bmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUsIHRydWUpOwogICAgZG9jdW1lbnQuYm9k
eS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kLCB0cnVlKTsKICB9
Cn07CgpmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHsKICBpZiAoZXZlbnQudG91Y2hl
cy5sZW5ndGggPiAxKSB7CiAgICBjYW5jZWxUb3VjaCgpOwogIH0gZWxzZSB7CiAgICB0b3VjaERY
ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIHRvdWNoU3RhcnRYOwogICAgdG91Y2hEWSA9IGV2
ZW50LnRvdWNoZXNbMF0ucGFnZVkgLSB0b3VjaFN0YXJ0WTsKICB9Cn07CgpmdW5jdGlvbiBoYW5k
bGVUb3VjaEVuZChldmVudCkgewogIHZhciBkeCA9IE1hdGguYWJzKHRvdWNoRFgpOwogIHZhciBk
eSA9IE1hdGguYWJzKHRvdWNoRFkpOwoKICBpZiAoKGR4ID4gUE1fVE9VQ0hfU0VOU0lUSVZJVFkp
ICYmIChkeSA8IChkeCAqIDIgLyAzKSkpIHsKICAgIGlmICh0b3VjaERYID4gMCkgewogICAgICBw
cmV2U2xpZGUoKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHRTbGlkZSgpOwogICAgfQogIH0KICAK
ICBjYW5jZWxUb3VjaCgpOwp9OwoKZnVuY3Rpb24gY2FuY2VsVG91Y2goKSB7CiAgZG9jdW1lbnQu
Ym9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBoYW5kbGVUb3VjaE1vdmUsIHRy
dWUpOwogIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBoYW5k
bGVUb3VjaEVuZCwgdHJ1ZSk7ICAKfTsKCi8qIFByZWxvYWRpbmcgZnJhbWVzICovCgpmdW5jdGlv
biBkaXNhYmxlU2xpZGVGcmFtZXMobm8pIHsKICB2YXIgZWwgPSBnZXRTbGlkZUVsKG5vKTsKICBp
ZiAoIWVsKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgZnJhbWVzID0gZWwuZ2V0RWxlbWVudHNC
eVRhZ05hbWUoJ2lmcmFtZScpOwogIGZvciAodmFyIGkgPSAwLCBmcmFtZTsgZnJhbWUgPSBmcmFt
ZXNbaV07IGkrKykgewogICAgZGlzYWJsZUZyYW1lKGZyYW1lKTsKICB9Cn07CgpmdW5jdGlvbiBl
bmFibGVTbGlkZUZyYW1lcyhubykgewogIHZhciBlbCA9IGdldFNsaWRlRWwobm8pOwogIGlmICgh
ZWwpIHsKICAgIHJldHVybjsKICB9CgogIHZhciBmcmFtZXMgPSBlbC5nZXRFbGVtZW50c0J5VGFn
TmFtZSgnaWZyYW1lJyk7CiAgZm9yICh2YXIgaSA9IDAsIGZyYW1lOyBmcmFtZSA9IGZyYW1lc1tp
XTsgaSsrKSB7CiAgICBlbmFibGVGcmFtZShmcmFtZSk7CiAgfQp9OwoKZnVuY3Rpb24gZGlzYWJs
ZUZyYW1lKGZyYW1lKSB7CiAgZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJzsKfTsKCmZ1bmN0aW9u
IGVuYWJsZUZyYW1lKGZyYW1lKSB7CiAgdmFyIHNyYyA9IGZyYW1lLl9zcmM7CgogIGlmIChmcmFt
ZS5zcmMgIT0gc3JjICYmIHNyYyAhPSAnYWJvdXQ6YmxhbmsnKSB7CiAgICBmcmFtZS5zcmMgPSBz
cmM7CiAgfQp9OwoKZnVuY3Rpb24gc2V0dXBGcmFtZXMoKSB7CiAgdmFyIGZyYW1lcyA9IGRvY3Vt
ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lmcmFtZScpOwogIGZvciAodmFyIGkgPSAwLCBmcmFtZTsg
ZnJhbWUgPSBmcmFtZXNbaV07IGkrKykgewogICAgZnJhbWUuX3NyYyA9IGZyYW1lLnNyYzsKICAg
IGRpc2FibGVGcmFtZShmcmFtZSk7CiAgfQogIAogIGVuYWJsZVNsaWRlRnJhbWVzKGN1clNsaWRl
KTsKICBlbmFibGVTbGlkZUZyYW1lcyhjdXJTbGlkZSArIDEpOwogIGVuYWJsZVNsaWRlRnJhbWVz
KGN1clNsaWRlICsgMik7ICAKfTsKCmZ1bmN0aW9uIHNldHVwSW50ZXJhY3Rpb24oKSB7CiAgLyog
Q2xpY2tpbmcgYW5kIHRhcHBpbmcgKi8KICAKICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVt
ZW50KCdkaXYnKTsKICBlbC5jbGFzc05hbWUgPSAnc2xpZGUtYXJlYSc7CiAgZWwuaWQgPSAncHJl
di1zbGlkZS1hcmVhJzsgIAogIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldlNsaWRl
LCBmYWxzZSk7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5zbGlkZXMnKS5hcHBl
bmRDaGlsZChlbCk7CgogIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwog
IGVsLmNsYXNzTmFtZSA9ICdzbGlkZS1hcmVhJzsKICBlbC5pZCA9ICduZXh0LXNsaWRlLWFyZWEn
OyAgCiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBuZXh0U2xpZGUsIGZhbHNlKTsKICBk
b2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uLnNsaWRlcycpLmFwcGVuZENoaWxkKGVsKTsg
IAogIAogIC8qIFN3aXBpbmcgKi8KICAKICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIo
J3RvdWNoc3RhcnQnLCBoYW5kbGVUb3VjaFN0YXJ0LCBmYWxzZSk7Cn0KCi8qIENocm9tZVZveCBz
dXBwb3J0ICovCgpmdW5jdGlvbiBpc0Nocm9tZVZveEFjdGl2ZSgpIHsKICBpZiAodHlwZW9mKGN2
b3gpID09ICd1bmRlZmluZWQnKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfSBlbHNlIHsKICAgIHJl
dHVybiB0cnVlOwogIH0KfTsKCmZ1bmN0aW9uIHNwZWFrQW5kU3luY1RvTm9kZShub2RlKSB7CiAg
aWYgKCFpc0Nocm9tZVZveEFjdGl2ZSgpKSB7CiAgICByZXR1cm47CiAgfQogIAogIGN2b3guQ2hy
b21lVm94Lm5hdmlnYXRpb25NYW5hZ2VyLnN3aXRjaFRvU3RyYXRlZ3koCiAgICAgIGN2b3guQ2hy
b21lVm94TmF2aWdhdGlvbk1hbmFnZXIuU1RSQVRFR0lFUy5MSU5FQVJET00sIDAsIHRydWUpOyAg
CiAgY3ZveC5DaHJvbWVWb3gubmF2aWdhdGlvbk1hbmFnZXIuc3luY1RvTm9kZShub2RlKTsKICBj
dm94LkNocm9tZVZveFVzZXJDb21tYW5kcy5maW5pc2hOYXZDb21tYW5kKCcnKTsKICB2YXIgdGFy
Z2V0ID0gbm9kZTsKICB3aGlsZSAodGFyZ2V0LmZpcnN0Q2hpbGQpIHsKICAgIHRhcmdldCA9IHRh
cmdldC5maXJzdENoaWxkOwogIH0KICBjdm94LkNocm9tZVZveC5uYXZpZ2F0aW9uTWFuYWdlci5z
eW5jVG9Ob2RlKHRhcmdldCk7Cn07CgpmdW5jdGlvbiBzcGVha05leHRJdGVtKCkgewogIGlmICgh
aXNDaHJvbWVWb3hBY3RpdmUoKSkgewogICAgcmV0dXJuOwogIH0KICAKICBjdm94LkNocm9tZVZv
eC5uYXZpZ2F0aW9uTWFuYWdlci5zd2l0Y2hUb1N0cmF0ZWd5KAogICAgICBjdm94LkNocm9tZVZv
eE5hdmlnYXRpb25NYW5hZ2VyLlNUUkFURUdJRVMuTElORUFSRE9NLCAwLCB0cnVlKTsKICBjdm94
LkNocm9tZVZveC5uYXZpZ2F0aW9uTWFuYWdlci5uZXh0KHRydWUpOwogIGlmICghY3ZveC5Eb21V
dGlsLmlzRGVzY2VuZGFudE9mTm9kZSgKICAgICAgY3ZveC5DaHJvbWVWb3gubmF2aWdhdGlvbk1h
bmFnZXIuZ2V0Q3VycmVudE5vZGUoKSwgc2xpZGVFbHNbY3VyU2xpZGVdKSl7CiAgICB2YXIgdGFy
Z2V0ID0gc2xpZGVFbHNbY3VyU2xpZGVdOwogICAgd2hpbGUgKHRhcmdldC5maXJzdENoaWxkKSB7
CiAgICAgIHRhcmdldCA9IHRhcmdldC5maXJzdENoaWxkOwogICAgfQogICAgY3ZveC5DaHJvbWVW
b3gubmF2aWdhdGlvbk1hbmFnZXIuc3luY1RvTm9kZSh0YXJnZXQpOwogICAgY3ZveC5DaHJvbWVW
b3gubmF2aWdhdGlvbk1hbmFnZXIubmV4dCh0cnVlKTsKICB9CiAgY3ZveC5DaHJvbWVWb3hVc2Vy
Q29tbWFuZHMuZmluaXNoTmF2Q29tbWFuZCgnJyk7Cn07CgpmdW5jdGlvbiBzcGVha1ByZXZJdGVt
KCkgewogIGlmICghaXNDaHJvbWVWb3hBY3RpdmUoKSkgewogICAgcmV0dXJuOwogIH0KICAKICBj
dm94LkNocm9tZVZveC5uYXZpZ2F0aW9uTWFuYWdlci5zd2l0Y2hUb1N0cmF0ZWd5KAogICAgICBj
dm94LkNocm9tZVZveE5hdmlnYXRpb25NYW5hZ2VyLlNUUkFURUdJRVMuTElORUFSRE9NLCAwLCB0
cnVlKTsKICBjdm94LkNocm9tZVZveC5uYXZpZ2F0aW9uTWFuYWdlci5wcmV2aW91cyh0cnVlKTsK
ICBpZiAoIWN2b3guRG9tVXRpbC5pc0Rlc2NlbmRhbnRPZk5vZGUoCiAgICAgIGN2b3guQ2hyb21l
Vm94Lm5hdmlnYXRpb25NYW5hZ2VyLmdldEN1cnJlbnROb2RlKCksIHNsaWRlRWxzW2N1clNsaWRl
XSkpewogICAgdmFyIHRhcmdldCA9IHNsaWRlRWxzW2N1clNsaWRlXTsKICAgIHdoaWxlICh0YXJn
ZXQubGFzdENoaWxkKXsKICAgICAgdGFyZ2V0ID0gdGFyZ2V0Lmxhc3RDaGlsZDsKICAgIH0KICAg
IGN2b3guQ2hyb21lVm94Lm5hdmlnYXRpb25NYW5hZ2VyLnN5bmNUb05vZGUodGFyZ2V0KTsKICAg
IGN2b3guQ2hyb21lVm94Lm5hdmlnYXRpb25NYW5hZ2VyLnByZXZpb3VzKHRydWUpOwogIH0KICBj
dm94LkNocm9tZVZveFVzZXJDb21tYW5kcy5maW5pc2hOYXZDb21tYW5kKCcnKTsKfTsKCi8qIEhh
c2ggZnVuY3Rpb25zICovCgpmdW5jdGlvbiBnZXRDdXJTbGlkZUZyb21IYXNoKCkgewogIHZhciBz
bGlkZU5vID0gcGFyc2VJbnQobG9jYXRpb24uaGFzaC5zdWJzdHIoMSkpOwoKICBpZiAoc2xpZGVO
bykgewogICAgY3VyU2xpZGUgPSBzbGlkZU5vIC0gMTsKICB9IGVsc2UgewogICAgY3VyU2xpZGUg
PSAwOwogIH0KfTsKCmZ1bmN0aW9uIHVwZGF0ZUhhc2goKSB7CiAgbG9jYXRpb24ucmVwbGFjZSgn
IycgKyAoY3VyU2xpZGUgKyAxKSk7Cn07CgovKiBFdmVudCBsaXN0ZW5lcnMgKi8KCmZ1bmN0aW9u
IGhhbmRsZUJvZHlLZXlEb3duKGV2ZW50KSB7CiAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7CiAg
ICBjYXNlIDM5OiAvLyByaWdodCBhcnJvdwogICAgY2FzZSAxMzogLy8gRW50ZXIKICAgIGNhc2Ug
MzI6IC8vIHNwYWNlCiAgICBjYXNlIDM0OiAvLyBQZ0RuCiAgICAgIG5leHRTbGlkZSgpOwogICAg
ICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBicmVhazsKCiAgICBjYXNlIDM3OiAvLyBs
ZWZ0IGFycm93CiAgICBjYXNlIDg6IC8vIEJhY2tzcGFjZQogICAgY2FzZSAzMzogLy8gUGdVcAog
ICAgICBwcmV2U2xpZGUoKTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgYnJl
YWs7CgogICAgY2FzZSA0MDogLy8gZG93biBhcnJvdwogICAgICBpZiAoaXNDaHJvbWVWb3hBY3Rp
dmUoKSkgewogICAgICAgIHNwZWFrTmV4dEl0ZW0oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBu
ZXh0U2xpZGUoKTsKICAgICAgfQogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBi
cmVhazsKCiAgICBjYXNlIDM4OiAvLyB1cCBhcnJvdwogICAgICBpZiAoaXNDaHJvbWVWb3hBY3Rp
dmUoKSkgewogICAgICAgIHNwZWFrUHJldkl0ZW0oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBw
cmV2U2xpZGUoKTsKICAgICAgfQogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBi
cmVhazsKICB9Cn07CgpmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygpIHsKICBkb2N1bWVudC5h
ZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlQm9keUtleURvd24sIGZhbHNlKTsgIAp9
OwoKLyogSW5pdGlhbGl6YXRpb24gKi8KCmZ1bmN0aW9uIGFkZFByZXR0aWZ5KCkgewogIHZhciBl
bHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwcmUnKTsKICBmb3IgKHZhciBpID0gMCwg
ZWw7IGVsID0gZWxzW2ldOyBpKyspIHsKICAgIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdu
b3ByZXR0eXByaW50JykpIHsKICAgICAgZWwuY2xhc3NMaXN0LmFkZCgncHJldHR5cHJpbnQnKTsK
ICAgIH0KICB9CiAgCiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7
CiAgZWwudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwogIGVsLnNyYyA9ICIkeHdpa2kuZ2V0QXR0
YWNobWVudFVSTCgnUHJlc2VudGF0aW9uLlByZXNlbnRhdGlvblNraW4nLCAncHJldHRpZnkuanMn
KSI7CiAgZWwub25sb2FkID0gZnVuY3Rpb24oKSB7CiAgICBwcmV0dHlQcmludCgpOwogIH0KICBk
b2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTsKfTsKCmZ1bmN0aW9uIGFkZEZvbnRTdHlsZSgp
IHsKICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7CiAgZWwucmVsID0g
J3N0eWxlc2hlZXQnOwogIGVsLnR5cGUgPSAndGV4dC9jc3MnOwogIGVsLmhyZWYgPSAnaHR0cDov
L2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9JyArCiAgICAgICAgICAgICdPcGVuK1Nh
bnM6cmVndWxhcixzZW1pYm9sZCxpdGFsaWMsaXRhbGljc2VtaWJvbGR8RHJvaWQrU2FucytNb25v
JzsKCiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbCk7Cn07CgpmdW5jdGlvbiBhZGRHZW5l
cmFsU3R5bGUoKSB7CiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpOwog
IGVsLnJlbCA9ICdzdHlsZXNoZWV0JzsKICBlbC50eXBlID0gJ3RleHQvY3NzJzsKICBlbC5ocmVm
ID0gIiR4d2lraS5nZXRBdHRhY2htZW50VVJMKCdQcmVzZW50YXRpb24uUHJlc2VudGF0aW9uU2tp
bicsICdzdHlsZXMuY3NzJykiOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWwpOwogIAog
IHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKTsKICBlbC5uYW1lID0gJ3Zp
ZXdwb3J0JzsKICBlbC5jb250ZW50ID0gJ3dpZHRoPTExMDAsaGVpZ2h0PTc1MCc7CiAgZG9jdW1l
bnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKGVsKTsKICAKICB2YXIgZWwgPSBk
b2N1bWVudC5jcmVhdGVFbGVtZW50KCdtZXRhJyk7CiAgZWwubmFtZSA9ICdhcHBsZS1tb2JpbGUt
d2ViLWFwcC1jYXBhYmxlJzsKICBlbC5jb250ZW50ID0gJ3llcyc7CiAgZG9jdW1lbnQucXVlcnlT
ZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKGVsKTsKfTsKCmZ1bmN0aW9uIG1ha2VCdWlsZExp
c3RzKCkgewogIGZvciAodmFyIGkgPSBjdXJTbGlkZSwgc2xpZGU7IHNsaWRlID0gc2xpZGVFbHNb
aV07IGkrKykgewogICAgdmFyIGl0ZW1zID0gc2xpZGUucXVlcnlTZWxlY3RvckFsbCgnLmJ1aWxk
ID4gKicpOwogICAgZm9yICh2YXIgaiA9IDAsIGl0ZW07IGl0ZW0gPSBpdGVtc1tqXTsgaisrKSB7
CiAgICAgIGlmIChpdGVtLmNsYXNzTGlzdCkgewogICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgn
dG8tYnVpbGQnKTsKICAgICAgfQogICAgfQogIH0KfTsKCmZ1bmN0aW9uIGhhbmRsZURvbUxvYWRl
ZCgpIHsKICBzbGlkZUVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24uc2xp
ZGVzID4gYXJ0aWNsZScpOwoKICAvLyBBZGQgdGhlIHRvdGFsIHNsaWRlIGNvdW50IGFzIGFuIGF0
dHJpYnV0ZSB0byBlYWNoIHNsaWRlLCBzbyB0aGF0IGl0IGNhbiBiZSBkaXNwbGF5ZWQgdXNpbmcg
Q1NTLgogIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVFbHMubGVuZ3RoOyArK2kpIHsKICAgIHNs
aWRlRWxzW2ldLnNldEF0dHJpYnV0ZSgndHBuJywgc2xpZGVFbHMubGVuZ3RoKTsKICB9CgogIHNl
dHVwRnJhbWVzKCk7CgogIGFkZEZvbnRTdHlsZSgpOwogIGFkZEdlbmVyYWxTdHlsZSgpOwogIGFk
ZFByZXR0aWZ5KCk7CiAgYWRkRXZlbnRMaXN0ZW5lcnMoKTsKCiAgdXBkYXRlU2xpZGVzKCk7Cgog
IHNldHVwSW50ZXJhY3Rpb24oKTsKICBtYWtlQnVpbGRMaXN0cygpOwoKICBkb2N1bWVudC5ib2R5
LmNsYXNzTGlzdC5hZGQoJ2xvYWRlZCcpOwp9OwoKZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHsKICBn
ZXRDdXJTbGlkZUZyb21IYXNoKCk7CgogIGlmICh3aW5kb3dbJ19EQ0wnXSkgewogICAgaGFuZGxl
RG9tTG9hZGVkKCk7CiAgfSBlbHNlIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RP
TUNvbnRlbnRMb2FkZWQnLCBoYW5kbGVEb21Mb2FkZWQsIGZhbHNlKTsKICB9Cn0KCi8vIElmID9k
ZWJ1ZyBleGlzdHMgdGhlbiBsb2FkIHRoZSBzY3JpcHQgcmVsYXRpdmUgaW5zdGVhZCBvZiBhYnNv
bHV0ZQppZiAoIXdpbmRvd1snX0RFQlVHJ10gJiYgZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRl
eE9mKCc/ZGVidWcnKSAhPT0gLTEpIHsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01D
b250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7CiAgICAvLyBBdm9pZCBtaXNzaW5nIHRoZSBEb21D
b250ZW50TG9hZGVkIGV2ZW50CiAgICB3aW5kb3dbJ19EQ0wnXSA9IHRydWUKICB9LCBmYWxzZSk7
CgogIHdpbmRvd1snX0RFQlVHJ10gPSB0cnVlOwogIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVh
dGVFbGVtZW50KCdzY3JpcHQnKTsKICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOwog
IHNjcmlwdC5zcmMgPSAnLi4vc2xpZGVzLmpzJzsKICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1l
bnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsKICBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNj
cmlwdCwgcyk7CgogIC8vIFJlbW92ZSB0aGlzIHNjcmlwdAogIHMucGFyZW50Tm9kZS5yZW1vdmVD
aGlsZChzKTsKfSBlbHNlIHsKICBpbml0aWFsaXplKCk7Cn0K
</content>
  </attachment>
  <attachment>
    <filename>styles.css</filename>
    <filesize>9908</filesize>
    <author>xwiki:XWiki.Admin</author>
    <date>1319556984000</date>
    <version>1.1</version>
    <comment/>
    <content>LyoKICBHb29nbGUgSFRNTDUgc2xpZGVzIHRlbXBsYXRlCgogIEF1dGhvcnM6IEx1a2UgTWFow6kg
KGNvZGUpCiAgICAgICAgICAgTWFyY2luIFdpY2hhcnkgKGNvZGUgYW5kIGRlc2lnbikKCiAgICAg
ICAgICAgRG9taW5pYyBNYXp6b25pIChicm93c2VyIGNvbXBhdGliaWxpdHkpCiAgICAgICAgICAg
Q2hhcmxlcyBDaGVuIChDaHJvbWVWb3ggc3VwcG9ydCkKCiAgVVJMOiBodHRwOi8vY29kZS5nb29n
bGUuY29tL3AvaHRtbDVzbGlkZXMvCiovCgovKiBGcmFtZXdvcmsgKi8KCmh0bWwgewogIGhlaWdo
dDogMTAwJTsKfQoKYm9keSB7CiAgbWFyZ2luOiAwOwogIHBhZGRpbmc6IDA7CgogIGRpc3BsYXk6
IGJsb2NrICFpbXBvcnRhbnQ7CgogIGhlaWdodDogMTAwJTsKICBtaW4taGVpZ2h0OiA3NDBweDsK
CiAgb3ZlcmZsb3cteDogaGlkZGVuOwogIG92ZXJmbG93LXk6IGF1dG87CgogIGJhY2tncm91bmQ6
IC1vLXJhZGlhbC1ncmFkaWVudChyZ2IoMjQwLCAyNDAsIDI0MCksIHJnYigxOTAsIDE5MCwgMTkw
KSk7CiAgYmFja2dyb3VuZDogLW1vei1yYWRpYWwtZ3JhZGllbnQocmdiKDI0MCwgMjQwLCAyNDAp
LCByZ2IoMTkwLCAxOTAsIDE5MCkpOwogIGJhY2tncm91bmQ6IC13ZWJraXQtcmFkaWFsLWdyYWRp
ZW50KHJnYigyNDAsIDI0MCwgMjQwKSwgcmdiKDE5MCwgMTkwLCAxOTApKTsKICBiYWNrZ3JvdW5k
OiByYWRpYWwtZ3JhZGllbnQocmdiKDI0MCwgMjQwLCAyNDApLCByZ2IoMTkwLCAxOTAsIDE5MCkp
OwoKICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsKfQoKLnNsaWRlcyB7CiAg
d2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwoKICBwb3Np
dGlvbjogYWJzb2x1dGU7CgogIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAw
KTsKfQoKLnNsaWRlcyA+IGFydGljbGUgewogIGRpc3BsYXk6IGJsb2NrOwoKICBwb3NpdGlvbjog
YWJzb2x1dGU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKCiAgd2lkdGg6IDkwMHB4OwogIGhlaWdodDog
NzAwcHg7CgogIGxlZnQ6IDUwJTsKICB0b3A6IDUwJTsKCiAgbWFyZ2luLWxlZnQ6IC00NTBweDsK
ICBtYXJnaW4tdG9wOiAtMzUwcHg7CgogIHBhZGRpbmc6IDQwcHggNTBweDsKCiAgLW1vei1ib3gt
c2l6aW5nOiBib3JkZXItYm94OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CgogIGJvcmRlci1y
YWRpdXM6IDEwcHg7CgogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwoKICBib3gtc2hhZG93OiAw
IDJweCA2cHggcmdiYSgwLCAwLCAwLCAuMSk7CiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAw
LCAwLCAuMyk7CgogIC1vLXRyYW5zaXRpb246IC1vLXRyYW5zZm9ybSAuM3MgZWFzZS1vdXQ7CiAg
LW1vei10cmFuc2l0aW9uOiAtbW96LXRyYW5zZm9ybSAuM3MgZWFzZS1vdXQ7CiAgLXdlYmtpdC10
cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAuM3MgZWFzZS1vdXQ7CiAgdHJhbnNpdGlvbjog
dHJhbnNmb3JtIC4zcyBlYXNlLW91dDsKfQouc2xpZGVzLmxheW91dC13aWRlc2NyZWVuID4gYXJ0
aWNsZSB7CiAgbWFyZ2luLWxlZnQ6IC01NTBweDsKICB3aWR0aDogMTEwMHB4Owp9Ci5zbGlkZXMu
bGF5b3V0LWZhdXgtd2lkZXNjcmVlbiA+IGFydGljbGUgewogIG1hcmdpbi1sZWZ0OiAtNTUwcHg7
CiAgd2lkdGg6IDExMDBweDsKCiAgcGFkZGluZzogNDBweCAxNjBweDsKfQoKLnNsaWRlcy50ZW1w
bGF0ZS1kZWZhdWx0ID4gYXJ0aWNsZTpub3QoLm5vYmFja2dyb3VuZCk6bm90KC5iaWdsb2dvKSB7
CiAgYmFja2dyb3VuZDogdXJsKCcveHdpa2kvYmluL2Rvd25sb2FkL1ByZXNlbnRhdGlvbi9QcmVz
ZW50YXRpb25Ta2luL2xvZ28ucG5nJykgcmlnaHQgMjBweCBib3R0b20gMjBweCBuby1yZXBlYXQg
d2hpdGU7Cn0KCi8qIENsaWNrYWJsZS90YXBwYWJsZSBhcmVhcyAqLwoKLnNsaWRlLWFyZWEgewog
IHotaW5kZXg6IDEwMDA7CgogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIHRvcDog
MDsKICB3aWR0aDogMTUwcHg7CiAgaGVpZ2h0OiA3MDBweDsKCiAgbGVmdDogNTAlOwogIHRvcDog
NTAlOwoKICBjdXJzb3I6IHBvaW50ZXI7CiAgbWFyZ2luLXRvcDogLTM1MHB4OwoKICAtby10YXAt
aGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICAtbW96LXRhcC1oaWdobGlnaHQtY29sb3I6
IHRyYW5zcGFyZW50OwogIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7
CiAgdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7Cn0KI3ByZXYtc2xpZGUtYXJlYSB7
CiAgbWFyZ2luLWxlZnQ6IC01NTBweDsKfQojbmV4dC1zbGlkZS1hcmVhIHsKICBtYXJnaW4tbGVm
dDogNDAwcHg7Cn0KLnNsaWRlcy5sYXlvdXQtd2lkZXNjcmVlbiAjcHJldi1zbGlkZS1hcmVhLAou
c2xpZGVzLmxheW91dC1mYXV4LXdpZGVzY3JlZW4gI3ByZXYtc2xpZGUtYXJlYSB7CiAgbWFyZ2lu
LWxlZnQ6IC02NTBweDsKfQouc2xpZGVzLmxheW91dC13aWRlc2NyZWVuICNuZXh0LXNsaWRlLWFy
ZWEsCi5zbGlkZXMubGF5b3V0LWZhdXgtd2lkZXNjcmVlbiAjbmV4dC1zbGlkZS1hcmVhIHsKICBt
YXJnaW4tbGVmdDogNTAwcHg7Cn0KCi8qIFNsaWRlIHN0eWxlcyAqLwoKLnNsaWRlcy50ZW1wbGF0
ZS1kZWZhdWx0IGFydGljbGUuYmlnbG9nbyB7CiAgYmFja2dyb3VuZDogdXJsKCcveHdpa2kvYmlu
L2Rvd25sb2FkL1ByZXNlbnRhdGlvbi9QcmVzZW50YXRpb25Ta2luL2xvZ29iaWcucG5nJykgNTAl
IDUwJSBuby1yZXBlYXQgd2hpdGU7Cn0KCi8qIFNsaWRlcyAqLwoKLnNsaWRlcyA+IGFydGljbGUg
ewogIHZpc2liaWxpdHk6IGhpZGRlbjsKICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC0y
NTAwcHgpOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC0yNTAwcHgpOwp9Ci5zbGlkZXMgPiBhcnRp
Y2xlLmZhci1uZXh0IH4gYXJ0aWNsZSB7CiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgy
NTAwcHgpOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKDI1MDBweCk7Cn0KLnNsaWRlcyA+IGFydGlj
bGUuZmFyLXBhc3QgewogIHZpc2liaWxpdHk6IHZpc2libGU7CiAgLXdlYmtpdC10cmFuc2Zvcm06
IHRyYW5zbGF0ZSgtMjA0MHB4KTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMjA0MHB4KTsKfQou
c2xpZGVzID4gYXJ0aWNsZS5wYXN0IHsKICB2aXNpYmlsaXR5OiB2aXNpYmxlOwogIC13ZWJraXQt
dHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEwMjBweCk7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEw
MjBweCk7Cn0KLnNsaWRlcyA+IGFydGljbGUuY3VycmVudCB7CiAgdmlzaWJpbGl0eTogdmlzaWJs
ZTsKICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDApOwogIHRyYW5zZm9ybTogdHJhbnNs
YXRlKDApOwp9Ci5zbGlkZXMgPiBhcnRpY2xlLm5leHQgewogIHZpc2liaWxpdHk6IHZpc2libGU7
CiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgxMDIwcHgpOwogIHRyYW5zZm9ybTogdHJh
bnNsYXRlKDEwMjBweCk7Cn0KLnNsaWRlcyA+IGFydGljbGUuZmFyLW5leHQgewogIHZpc2liaWxp
dHk6IHZpc2libGU7CiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgyMDQwcHgpOwogIHRy
YW5zZm9ybTogdHJhbnNsYXRlKDIwNDBweCk7Cn0KCi5zbGlkZXMubGF5b3V0LXdpZGVzY3JlZW4g
PiBhcnRpY2xlLmZhci1wYXN0LAouc2xpZGVzLmxheW91dC1mYXV4LXdpZGVzY3JlZW4gPiBhcnRp
Y2xlLmZhci1wYXN0IHsKICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC0yMjYwcHgpOwog
IHRyYW5zZm9ybTogdHJhbnNsYXRlKC0yMjYwcHgpOwp9Ci5zbGlkZXMubGF5b3V0LXdpZGVzY3Jl
ZW4gPiBhcnRpY2xlLnBhc3QsCi5zbGlkZXMubGF5b3V0LWZhdXgtd2lkZXNjcmVlbiA+IGFydGlj
bGUucGFzdCB7CiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMTEzMHB4KTsKICB0cmFu
c2Zvcm06IHRyYW5zbGF0ZSgtMTEzMHB4KTsKfQouc2xpZGVzLmxheW91dC13aWRlc2NyZWVuID4g
YXJ0aWNsZS5uZXh0LAouc2xpZGVzLmxheW91dC1mYXV4LXdpZGVzY3JlZW4gPiBhcnRpY2xlLm5l
eHQgewogIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMTEzMHB4KTsKICB0cmFuc2Zvcm06
IHRyYW5zbGF0ZSgxMTMwcHgpOwp9Ci5zbGlkZXMubGF5b3V0LXdpZGVzY3JlZW4gPiBhcnRpY2xl
LmZhci1uZXh0LAouc2xpZGVzLmxheW91dC1mYXV4LXdpZGVzY3JlZW4gPiBhcnRpY2xlLmZhci1u
ZXh0IHsKICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKDIyNjBweCk7CiAgdHJhbnNmb3Jt
OiB0cmFuc2xhdGUoMjI2MHB4KTsKfQoKLyogU3R5bGVzIGZvciBzbGlkZXMgKi8KCi5zbGlkZXMg
PiBhcnRpY2xlIHsKICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIEFyaWFsLCBzYW5zLXNlcmlm
OwoKICBjb2xvcjogcmdiKDEwMiwgMTAyLCAxMDIpOwogIHRleHQtc2hhZG93OiAwIDFweCAxcHgg
cmdiYSgwLCAwLCAwLCAuMSk7CgogIGZvbnQtc2l6ZTogMzBweDsKICBsaW5lLWhlaWdodDogMzZw
eDsKCiAgbGV0dGVyLXNwYWNpbmc6IC0xcHg7Cn0KCmIgewogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0K
Ci5ibHVlIHsKICBjb2xvcjogcmdiKDAsIDEwMiwgMjA0KTsKfQoueWVsbG93IHsKICBjb2xvcjog
cmdiKDI1NSwgMjExLCAyNSk7Cn0KLmdyZWVuIHsKICBjb2xvcjogcmdiKDAsIDEzOCwgNTMpOwp9
Ci5yZWQgewogIGNvbG9yOiByZ2IoMjU1LCAwLCAwKTsKfQouYmxhY2sgewogIGNvbG9yOiBibGFj
azsKfQoud2hpdGUgewogIGNvbG9yOiB3aGl0ZTsKfQoKYSB7CiAgY29sb3I6IHJnYigwLCAxMDIs
IDIwNCk7Cn0KYTp2aXNpdGVkIHsKICBjb2xvcjogcmdiYSgwLCAxMDIsIDIwNCwgLjc1KTsKfQph
OmhvdmVyIHsKICBjb2xvcjogYmxhY2s7Cn0KCnAgewogIG1hcmdpbjogMDsKICBwYWRkaW5nOiAw
Owp9CnA6Zmlyc3QtY2hpbGQgewogIG1hcmdpbi10b3A6IDA7Cn0KCmgxIHsKICBmb250LXNpemU6
IDYwcHg7CiAgbGluZS1oZWlnaHQ6IDYwcHg7CgogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwog
IG1hcmdpbi10b3A6IDIwMHB4OwogIHBhZGRpbmctcmlnaHQ6IDQwcHg7CgogIGZvbnQtd2VpZ2h0
OiA2MDA7CgogIGxldHRlci1zcGFjaW5nOiAtM3B4OwoKICBjb2xvcjogcmdiKDUxLCA1MSwgNTEp
Owp9CgpoMiB7CiAgZm9udC1zaXplOiA0NXB4OwogIGxpbmUtaGVpZ2h0OiA0NXB4OwoKICBwb3Np
dGlvbjogYWJzb2x1dGU7CiAgYm90dG9tOiAxNTBweDsKCiAgcGFkZGluZzogMDsKICBtYXJnaW46
IDA7CiAgcGFkZGluZy1yaWdodDogNDBweDsKCiAgZm9udC13ZWlnaHQ6IDYwMDsKCiAgbGV0dGVy
LXNwYWNpbmc6IC0ycHg7CgogIGNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7Cn0KCmgzIHsKICBmb250
LXNpemU6IDMwcHg7CiAgbGluZS1oZWlnaHQ6IDM2cHg7CgogIHBhZGRpbmc6IDA7CiAgbWFyZ2lu
OiAwOwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgcGFkZGluZy1yaWdodDogNDBweDsKCiAgZm9u
dC13ZWlnaHQ6IDYwMDsKCiAgbGV0dGVyLXNwYWNpbmc6IC0xcHg7CgogIGNvbG9yOiByZ2IoNTEs
IDUxLCA1MSk7Cn0KCmFydGljbGUuZmlsbCBoMyB7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1
NSwgMjU1LCAuNzUpOwogIHBhZGRpbmctdG9wOiAuMmVtOwogIHBhZGRpbmctYm90dG9tOiAuM2Vt
OwogIG1hcmdpbi10b3A6IC0uMmVtOwogIG1hcmdpbi1sZWZ0OiAtNjBweDsKICBwYWRkaW5nLWxl
ZnQ6IDYwcHg7CiAgbWFyZ2luLXJpZ2h0OiAtNjBweDsKICBwYWRkaW5nLXJpZ2h0OiA2MHB4Owp9
Cgp1bCB7CiAgbGlzdC1zdHlsZTogbm9uZTsKICBtYXJnaW46IDA7CiAgcGFkZGluZzogMDsKCiAg
bWFyZ2luLXRvcDogNDBweDsKCiAgbWFyZ2luLWxlZnQ6IC43NWVtOwp9CnVsOmZpcnN0LWNoaWxk
IHsKICBtYXJnaW4tdG9wOiAwOwp9CnVsIHVsIHsKICBtYXJnaW4tdG9wOiAuNWVtOwp9CmxpIHsK
ICBwYWRkaW5nOiAwOwogIG1hcmdpbjogMDsKCiAgbWFyZ2luLWJvdHRvbTogLjVlbTsKfQp1bD5s
aTo6YmVmb3JlIHsKICBjb250ZW50OiAnwrcnOwoKICB3aWR0aDogLjc1ZW07CiAgbWFyZ2luLWxl
ZnQ6IC0uNzVlbTsKCiAgcG9zaXRpb246IGFic29sdXRlOwp9CgpwcmUgewogIGZvbnQtZmFtaWx5
OiAnRHJvaWQgU2FucyBNb25vJywgJ0NvdXJpZXIgTmV3JywgbW9ub3NwYWNlOwoKICBmb250LXNp
emU6IDIwcHg7CiAgbGluZS1oZWlnaHQ6IDI4cHg7CiAgcGFkZGluZzogNXB4IDEwcHg7CgogIGxl
dHRlci1zcGFjaW5nOiAtMXB4OwoKICBtYXJnaW4tdG9wOiA0MHB4OwogIG1hcmdpbi1ib3R0b206
IDQwcHg7CgogIGNvbG9yOiBibGFjazsKICBiYWNrZ3JvdW5kOiByZ2IoMjQwLCAyNDAsIDI0MCk7
CiAgYm9yZGVyOiAxcHggc29saWQgcmdiKDIyNCwgMjI0LCAyMjQpOwogIGJveC1zaGFkb3c6IGlu
c2V0IDAgMnB4IDZweCByZ2JhKDAsIDAsIDAsIC4xKTsKCiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoK
Y29kZSB7CiAgZm9udC1zaXplOiA5NSU7CiAgZm9udC1mYW1pbHk6ICdEcm9pZCBTYW5zIE1vbm8n
LCAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7CgogIGNvbG9yOiBibGFjazsKfQoKaWZyYW1lIHsK
ICB3aWR0aDogMTAwJTsKCiAgaGVpZ2h0OiA2MjBweDsKCiAgYmFja2dyb3VuZDogd2hpdGU7CiAg
Ym9yZGVyOiAxcHggc29saWQgcmdiKDE5MiwgMTkyLCAxOTIpOwogIG1hcmdpbjogLTFweDsKICAv
KmJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDZweCByZ2JhKDAsIDAsIDAsIC4xKTsqLwp9CgpoMyAr
IGlmcmFtZSB7CiAgbWFyZ2luLXRvcDogNDBweDsKICBoZWlnaHQ6IDU0MHB4Owp9CgphcnRpY2xl
LmZpbGwgaWZyYW1lIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMDsKICB0b3A6IDA7
CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwoKICBib3JkZXI6IDA7CiAgbWFyZ2luOiAw
OwoKICBib3JkZXItcmFkaXVzOiAxMHB4OwoKICB6LWluZGV4OiAtMTsKfQoKYXJ0aWNsZS5maWxs
IGltZyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDA7CiAgdG9wOiAwOwogIG1pbi13
aWR0aDogMTAwJTsKICBtaW4taGVpZ2h0OiAxMDAlOwoKICBib3JkZXItcmFkaXVzOiAxMHB4OwoK
ICB6LWluZGV4OiAtMTsKfQppbWcuY2VudGVyZWQgewogIG1hcmdpbjogMCBhdXRvOwogIGRpc3Bs
YXk6IGJsb2NrOwp9Cgp0YWJsZSB7CiAgd2lkdGg6IDEwMCU7CiAgYm9yZGVyLWNvbGxhcHNlOiBj
b2xsYXBzZTsKICBtYXJnaW4tdG9wOiA0MHB4Owp9CnRoIHsKICBmb250LXdlaWdodDogNjAwOwog
IHRleHQtYWxpZ246IGxlZnQ7Cn0KdGQsCnRoIHsKICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjI0
LCAyMjQsIDIyNCk7CiAgcGFkZGluZzogNXB4IDEwcHg7CiAgdmVydGljYWwtYWxpZ246IHRvcDsK
fQoKLnNvdXJjZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGxlZnQ6IDYwcHg7CiAgdG9wOiA2
NDRweDsKICBwYWRkaW5nLXJpZ2h0OiAxNzVweDsKCiAgZm9udC1zaXplOiAxNXB4OwogIGxldHRl
ci1zcGFjaW5nOiAwOwogIGxpbmUtaGVpZ2h0OiAxOHB4Owp9CgpxLCBibG9ja3F1b3RlIHsKICBk
aXNwbGF5OiBibG9jazsKICBmb250LXNpemU6IDYwcHg7CiAgbGluZS1oZWlnaHQ6IDcycHg7Cgog
IG1hcmdpbi1sZWZ0OiAyMHB4OwoKICBtYXJnaW4tdG9wOiAxMDBweDsKICBtYXJnaW4tcmlnaHQ6
IDIwcHg7Cn0KYmxvY2txdW90ZT4qOmZpcnN0LWNoaWxkOjpiZWZvcmUsIHE6OmJlZm9yZSB7CiAg
Y29udGVudDogJ+KAnCc7CgogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBkaXNwbGF5OiBpbmxpbmUt
YmxvY2s7CiAgbWFyZ2luLWxlZnQ6IC0yLjFlbTsKICB3aWR0aDogMmVtOwogIHRleHQtYWxpZ246
IHJpZ2h0OwoKICBmb250LXNpemU6IDkwcHg7CiAgY29sb3I6IHJnYigxOTIsIDE5MiwgMTkyKTsK
fQpibG9ja3F1b3RlPio6Zmlyc3QtY2hpbGQ6OmFmdGVyLCBxOjphZnRlciB7CiAgY29udGVudDog
J+KAnSc7CgogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBtYXJnaW4tbGVmdDogLjFlbTsKCiAgZm9u
dC1zaXplOiA5MHB4OwogIGNvbG9yOiByZ2IoMTkyLCAxOTIsIDE5Mik7Cn0KLmF1dGhvciB7CiAg
dGV4dC1hbGlnbjogcmlnaHQ7CiAgZm9udC1zaXplOiA0MHB4OwoKICBtYXJnaW4tdG9wOiAyMHB4
OwogIG1hcmdpbi1yaWdodDogMTUwcHg7Cn0KLmF1dGhvcjo6YmVmb3JlIHsKICBjb250ZW50OiAn
4oCUJzsKfQoKLyogU2l6ZSB2YXJpYW50cyAqLwoKYXJ0aWNsZS5zbWFsbGVyIHAsCmFydGljbGUu
c21hbGxlciB1bCB7CiAgZm9udC1zaXplOiAyMHB4OwogIGxpbmUtaGVpZ2h0OiAyNHB4OwogIGxl
dHRlci1zcGFjaW5nOiAwOwp9CmFydGljbGUuc21hbGxlciB0YWJsZSB7CiAgZm9udC1zaXplOiAy
MHB4OwogIGxpbmUtaGVpZ2h0OiAyNHB4OwogIGxldHRlci1zcGFjaW5nOiAwOwp9CmFydGljbGUu
c21hbGxlciBwcmUsIGFydGljbGUuc21hbGxlciAuY29kZSB7CiAgZm9udC1zaXplOiAxNXB4Owog
IGxpbmUtaGVpZ2h0OiAyMHB4OwogIGxldHRlci1zcGFjaW5nOiAwOwp9CmFydGljbGUuc21hbGxl
ciBxIHsKICBmb250LXNpemU6IDQwcHg7CiAgbGluZS1oZWlnaHQ6IDQ4cHg7Cn0KYXJ0aWNsZS5z
bWFsbGVyIHE6OmJlZm9yZSwKYXJ0aWNsZS5zbWFsbGVyIHE6OmFmdGVyIHsKICBmb250LXNpemU6
IDYwcHg7Cn0KCi8qIEJ1aWxkcyAqLwoKLmJ1aWxkID4gKiB7CiAgLW8tdHJhbnNpdGlvbjogb3Bh
Y2l0eSAwLjVzIGVhc2UtaW4tb3V0IDAuMnM7CiAgLW1vei10cmFuc2l0aW9uOiBvcGFjaXR5IDAu
NXMgZWFzZS1pbi1vdXQgMC4yczsKICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgMC41cyBl
YXNlLWluLW91dCAwLjJzOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMC41cyBlYXNlLWluLW91dCAw
LjJzOwp9CgoudG8tYnVpbGQgewogIG9wYWNpdHk6IDA7Cn0KCi8qIFByZXR0eSBwcmludCAqLwoK
LnByZXR0eXByaW50IC5zdHIsIC8qIHN0cmluZyBjb250ZW50ICovCi5wcmV0dHlwcmludCAuYXR2
IHsgLyogYSBtYXJrdXAgYXR0cmlidXRlIHZhbHVlICovCiAgY29sb3I6IHJnYigwLCAxMzgsIDUz
KTsKfQoucHJldHR5cHJpbnQgLmt3ZCwgLyogYSBrZXl3b3JkICovCi5wcmV0dHlwcmludCAudGFn
IHsgLyogYSBtYXJrdXAgdGFnIG5hbWUgKi8KICBjb2xvcjogcmdiKDAsIDEwMiwgMjA0KTsKfQou
cHJldHR5cHJpbnQgLmNvbSB7IC8qIGEgY29tbWVudCAqLwogIGNvbG9yOiByZ2IoMTI3LCAxMjcs
IDEyNyk7CiAgZm9udC1zdHlsZTogaXRhbGljOwp9Ci5wcmV0dHlwcmludCAubGl0IHsgLyogYSBs
aXRlcmFsIHZhbHVlICovCiAgY29sb3I6IHJnYigxMjcsIDAsIDApOwp9Ci5wcmV0dHlwcmludCAu
cHVuLCAvKiBwdW5jdHVhdGlvbiwgbGlzcCBvcGVuIGJyYWNrZXQsIGxpc3AgY2xvc2UgYnJhY2tl
dCAqLwoucHJldHR5cHJpbnQgLm9wbiwKLnByZXR0eXByaW50IC5jbG8gewogIGNvbG9yOiByZ2Io
MTI3LCAxMjcsIDEyNyk7Cn0KLnByZXR0eXByaW50IC50eXAsIC8qIGEgdHlwZSBuYW1lICovCi5w
cmV0dHlwcmludCAuYXRuLCAvKiBhIG1hcmt1cCBhdHRyaWJ1dGUgbmFtZSAqLwoucHJldHR5cHJp
bnQgLmRlYywKLnByZXR0eXByaW50IC52YXIgeyAvKiBhIGRlY2xhcmF0aW9uOyBhIHZhcmlhYmxl
IG5hbWUgKi8KICBjb2xvcjogcmdiKDEyNywgMCwgMTI3KTsKfQoKYXJ0aWNsZSB7CiAgY291bnRl
ci1pbmNyZW1lbnQ6IHBubzsKfQphcnRpY2xlOm5vdCgubm9iYWNrZ3JvdW5kKTpub3QoLmZpbGwp
Om5vdCguYmlnbG9nbyk6YWZ0ZXIgewogIGJvdHRvbTogMjBweDsKICBjb250ZW50OiBjb3VudGVy
KHBubykgIi8iIGF0dHIodHBuKTsKICBsZWZ0OiAyMHB4OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsK
fQphcnRpY2xlLm5vdGl0bGUgaDIsIGFydGljbGUubm90aXRsZSBoMyB7CiAgZGlzcGxheTogbm9u
ZTsKfQoKYXJ0aWNsZSAuc3ZnLWJ1dHRvbnMgewogIGRpc3BsYXk6IG5vbmU7Cn0=
</content>
  </attachment>
  <attachment>
    <filename>prettify.js</filename>
    <filesize>53996</filesize>
    <author>xwiki:XWiki.Admin</author>
    <date>1319372338000</date>
    <version>1.1</version>
    <comment/>
    <content>Ly8gQ29weXJpZ2h0IChDKSAyMDA2IEdvb2dsZSBJbmMuCi8vCi8vIExpY2Vuc2VkIHVuZGVyIHRo
ZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwovLyB5b3UgbWF5
IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2Uu
Ci8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAovLwovLyAgICAgIGh0
dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAovLwovLyBVbmxlc3MgcmVx
dWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJl
Ci8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJB
UyBJUyIgQkFTSVMsCi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBL
SU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgovLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRo
ZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCi8vIGxpbWl0YXRp
b25zIHVuZGVyIHRoZSBMaWNlbnNlLgoKCi8qKgogKiBAZmlsZW92ZXJ2aWV3CiAqIHNvbWUgZnVu
Y3Rpb25zIGZvciBicm93c2VyLXNpZGUgcHJldHR5IHByaW50aW5nIG9mIGNvZGUgY29udGFpbmVk
IGluIGh0bWwuCiAqCiAqIDxwPgogKiBGb3IgYSBmYWlybHkgY29tcHJlaGVuc2l2ZSBzZXQgb2Yg
bGFuZ3VhZ2VzIHNlZSB0aGUKICogPGEgaHJlZj0iaHR0cDovL2dvb2dsZS1jb2RlLXByZXR0aWZ5
Lmdvb2dsZWNvZGUuY29tL3N2bi90cnVuay9SRUFETUUuaHRtbCNsYW5ncyI+UkVBRE1FPC9hPgog
KiBmaWxlIHRoYXQgY2FtZSB3aXRoIHRoaXMgc291cmNlLiAgQXQgYSBtaW5pbXVtLCB0aGUgbGV4
ZXIgc2hvdWxkIHdvcmsgb24gYQogKiBudW1iZXIgb2YgbGFuZ3VhZ2VzIGluY2x1ZGluZyBDIGFu
ZCBmcmllbmRzLCBKYXZhLCBQeXRob24sIEJhc2gsIFNRTCwgSFRNTCwKICogWE1MLCBDU1MsIEph
dmFzY3JpcHQsIGFuZCBNYWtlZmlsZXMuICBJdCB3b3JrcyBwYXNzYWJseSBvbiBSdWJ5LCBQSFAg
YW5kIEF3awogKiBhbmQgYSBzdWJzZXQgb2YgUGVybCwgYnV0LCBiZWNhdXNlIG9mIGNvbW1lbnRp
bmcgY29udmVudGlvbnMsIGRvZXNuJ3Qgd29yayBvbgogKiBTbWFsbHRhbGssIExpc3AtbGlrZSwg
b3IgQ0FNTC1saWtlIGxhbmd1YWdlcyB3aXRob3V0IGFuIGV4cGxpY2l0IGxhbmcgY2xhc3MuCiAq
IDxwPgogKiBVc2FnZTogPG9sPgogKiA8bGk+IGluY2x1ZGUgdGhpcyBzb3VyY2UgZmlsZSBpbiBh
biBodG1sIHBhZ2UgdmlhCiAqICAge0Bjb2RlIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0
IiBzcmM9Ii9wYXRoL3RvL3ByZXR0aWZ5LmpzIj48L3NjcmlwdD59CiAqIDxsaT4gZGVmaW5lIHN0
eWxlIHJ1bGVzLiAgU2VlIHRoZSBleGFtcGxlIHBhZ2UgZm9yIGV4YW1wbGVzLgogKiA8bGk+IG1h
cmsgdGhlIHtAY29kZSA8cHJlPn0gYW5kIHtAY29kZSA8Y29kZT59IHRhZ3MgaW4geW91ciBzb3Vy
Y2Ugd2l0aAogKiAgICB7QGNvZGUgY2xhc3M9cHJldHR5cHJpbnQufQogKiAgICBZb3UgY2FuIGFs
c28gdXNlIHRoZSAoaHRtbCBkZXByZWNhdGVkKSB7QGNvZGUgPHhtcD59IHRhZywgYnV0IHRoZSBw
cmV0dHkKICogICAgcHJpbnRlciBuZWVkcyB0byBkbyBtb3JlIHN1YnN0YW50aWFsIERPTSBtYW5p
cHVsYXRpb25zIHRvIHN1cHBvcnQgdGhhdCwgc28KICogICAgc29tZSBjc3Mgc3R5bGVzIG1heSBu
b3QgYmUgcHJlc2VydmVkLgogKiA8L29sPgogKiBUaGF0J3MgaXQuICBJIHdhbnRlZCB0byBrZWVw
IHRoZSBBUEkgYXMgc2ltcGxlIGFzIHBvc3NpYmxlLCBzbyB0aGVyZSdzIG5vCiAqIG5lZWQgdG8g
c3BlY2lmeSB3aGljaCBsYW5ndWFnZSB0aGUgY29kZSBpcyBpbiwgYnV0IGlmIHlvdSB3aXNoLCB5
b3UgY2FuIGFkZAogKiBhbm90aGVyIGNsYXNzIHRvIHRoZSB7QGNvZGUgPHByZT59IG9yIHtAY29k
ZSA8Y29kZT59IGVsZW1lbnQgdG8gc3BlY2lmeSB0aGUKICogbGFuZ3VhZ2UsIGFzIGluIHtAY29k
ZSA8cHJlIGNsYXNzPSJwcmV0dHlwcmludCBsYW5nLWphdmEiPn0uICBBbnkgY2xhc3MgdGhhdAog
KiBzdGFydHMgd2l0aCAibGFuZy0iIGZvbGxvd2VkIGJ5IGEgZmlsZSBleHRlbnNpb24sIHNwZWNp
ZmllcyB0aGUgZmlsZSB0eXBlLgogKiBTZWUgdGhlICJsYW5nLSouanMiIGZpbGVzIGluIHRoaXMg
ZGlyZWN0b3J5IGZvciBjb2RlIHRoYXQgaW1wbGVtZW50cwogKiBwZXItbGFuZ3VhZ2UgZmlsZSBo
YW5kbGVycy4KICogPHA+CiAqIENoYW5nZSBsb2c6PGJyPgogKiBjYmV1c3QsIDIwMDYvMDgvMjIK
ICogPGJsb2NrcXVvdGU+CiAqICAgSmF2YSBhbm5vdGF0aW9ucyAoc3RhcnQgd2l0aCAiQCIpIGFy
ZSBub3cgY2FwdHVyZWQgYXMgbGl0ZXJhbHMgKCJsaXQiKQogKiA8L2Jsb2NrcXVvdGU+CiAqIEBy
ZXF1aXJlcyBjb25zb2xlCiAqLwoKLy8gSlNMaW50IGRlY2xhcmF0aW9ucwovKmdsb2JhbCBjb25z
b2xlLCBkb2N1bWVudCwgbmF2aWdhdG9yLCBzZXRUaW1lb3V0LCB3aW5kb3cgKi8KCi8qKgogKiBT
cGxpdCB7QGNvZGUgcHJldHR5UHJpbnR9IGludG8gbXVsdGlwbGUgdGltZW91dHMgc28gYXMgbm90
IHRvIGludGVyZmVyZSB3aXRoCiAqIFVJIGV2ZW50cy4KICogSWYgc2V0IHRvIHtAY29kZSBmYWxz
ZX0sIHtAY29kZSBwcmV0dHlQcmludCgpfSBpcyBzeW5jaHJvbm91cy4KICovCndpbmRvd1snUFJf
U0hPVUxEX1VTRV9DT05USU5VQVRJT04nXSA9IHRydWU7CgovKiogdGhlIG51bWJlciBvZiBjaGFy
YWN0ZXJzIGJldHdlZW4gdGFiIGNvbHVtbnMgKi8Kd2luZG93WydQUl9UQUJfV0lEVEgnXSA9IDg7
CgovKiogQ29udGFpbnMgZnVuY3Rpb25zIGZvciBjcmVhdGluZyBhbmQgcmVnaXN0ZXJpbmcgbmV3
IGxhbmd1YWdlIGhhbmRsZXJzLgogICogQHR5cGUge09iamVjdH0KICAqLwp3aW5kb3dbJ1BSJ10K
Ci8qKiBQcmV0dHkgcHJpbnQgYSBjaHVuayBvZiBjb2RlLgogICoKICAqIEBwYXJhbSB7c3RyaW5n
fSBzb3VyY2VDb2RlSHRtbCBjb2RlIGFzIGh0bWwKICAqIEByZXR1cm4ge3N0cmluZ30gY29kZSBh
cyBodG1sLCBidXQgcHJldHRpZXIKICAqLwogID0gd2luZG93WydwcmV0dHlQcmludE9uZSddCi8q
KiBGaW5kIGFsbCB0aGUge0Bjb2RlIDxwcmU+fSBhbmQge0Bjb2RlIDxjb2RlPn0gdGFncyBpbiB0
aGUgRE9NIHdpdGgKICAqIHtAY29kZSBjbGFzcz1wcmV0dHlwcmludH0gYW5kIHByZXR0aWZ5IHRo
ZW0uCiAgKiBAcGFyYW0ge0Z1bmN0aW9uP30gb3B0X3doZW5Eb25lIGlmIHNwZWNpZmllZCwgY2Fs
bGVkIHdoZW4gdGhlIGxhc3QgZW50cnkKICAqICAgICBoYXMgYmVlbiBmaW5pc2hlZC4KICAqLwog
ID0gd2luZG93WydwcmV0dHlQcmludCddID0gdm9pZCAwOwoKCihmdW5jdGlvbiAoKSB7CiAgLy8g
S2V5d29yZCBsaXN0cyBmb3IgdmFyaW91cyBsYW5ndWFnZXMuCiAgdmFyIEZMT1dfQ09OVFJPTF9L
RVlXT1JEUyA9CiAgICAgICJicmVhayBjb250aW51ZSBkbyBlbHNlIGZvciBpZiByZXR1cm4gd2hp
bGUgIjsKICB2YXIgQ19LRVlXT1JEUyA9IEZMT1dfQ09OVFJPTF9LRVlXT1JEUyArICJhdXRvIGNh
c2UgY2hhciBjb25zdCBkZWZhdWx0ICIgKwogICAgICAiZG91YmxlIGVudW0gZXh0ZXJuIGZsb2F0
IGdvdG8gaW50IGxvbmcgcmVnaXN0ZXIgc2hvcnQgc2lnbmVkIHNpemVvZiAiICsKICAgICAgInN0
YXRpYyBzdHJ1Y3Qgc3dpdGNoIHR5cGVkZWYgdW5pb24gdW5zaWduZWQgdm9pZCB2b2xhdGlsZSAi
OwogIHZhciBDT01NT05fS0VZV09SRFMgPSBDX0tFWVdPUkRTICsgImNhdGNoIGNsYXNzIGRlbGV0
ZSBmYWxzZSBpbXBvcnQgIiArCiAgICAgICJuZXcgb3BlcmF0b3IgcHJpdmF0ZSBwcm90ZWN0ZWQg
cHVibGljIHRoaXMgdGhyb3cgdHJ1ZSB0cnkgdHlwZW9mICI7CiAgdmFyIENQUF9LRVlXT1JEUyA9
IENPTU1PTl9LRVlXT1JEUyArICJhbGlnbm9mIGFsaWduX3VuaW9uIGFzbSBheGlvbSBib29sICIg
KwogICAgICAiY29uY2VwdCBjb25jZXB0X21hcCBjb25zdF9jYXN0IGNvbnN0ZXhwciBkZWNsdHlw
ZSAiICsKICAgICAgImR5bmFtaWNfY2FzdCBleHBsaWNpdCBleHBvcnQgZnJpZW5kIGlubGluZSBs
YXRlX2NoZWNrICIgKwogICAgICAibXV0YWJsZSBuYW1lc3BhY2UgbnVsbHB0ciByZWludGVycHJl
dF9jYXN0IHN0YXRpY19hc3NlcnQgc3RhdGljX2Nhc3QgIiArCiAgICAgICJ0ZW1wbGF0ZSB0eXBl
aWQgdHlwZW5hbWUgdXNpbmcgdmlydHVhbCB3Y2hhcl90IHdoZXJlICI7CiAgdmFyIEpBVkFfS0VZ
V09SRFMgPSBDT01NT05fS0VZV09SRFMgKwogICAgICAiYWJzdHJhY3QgYm9vbGVhbiBieXRlIGV4
dGVuZHMgZmluYWwgZmluYWxseSBpbXBsZW1lbnRzIGltcG9ydCAiICsKICAgICAgImluc3RhbmNl
b2YgbnVsbCBuYXRpdmUgcGFja2FnZSBzdHJpY3RmcCBzdXBlciBzeW5jaHJvbml6ZWQgdGhyb3dz
ICIgKwogICAgICAidHJhbnNpZW50ICI7CiAgdmFyIENTSEFSUF9LRVlXT1JEUyA9IEpBVkFfS0VZ
V09SRFMgKwogICAgICAiYXMgYmFzZSBieSBjaGVja2VkIGRlY2ltYWwgZGVsZWdhdGUgZGVzY2Vu
ZGluZyBkeW5hbWljIGV2ZW50ICIgKwogICAgICAiZml4ZWQgZm9yZWFjaCBmcm9tIGdyb3VwIGlt
cGxpY2l0IGluIGludGVyZmFjZSBpbnRlcm5hbCBpbnRvIGlzIGxvY2sgIiArCiAgICAgICJvYmpl
Y3Qgb3V0IG92ZXJyaWRlIG9yZGVyYnkgcGFyYW1zIHBhcnRpYWwgcmVhZG9ubHkgcmVmIHNieXRl
IHNlYWxlZCAiICsKICAgICAgInN0YWNrYWxsb2Mgc3RyaW5nIHNlbGVjdCB1aW50IHVsb25nIHVu
Y2hlY2tlZCB1bnNhZmUgdXNob3J0IHZhciAiOwogIHZhciBDT0ZGRUVfS0VZV09SRFMgPSAiYWxs
IGFuZCBieSBjYXRjaCBjbGFzcyBlbHNlIGV4dGVuZHMgZmFsc2UgZmluYWxseSAiICsKICAgICAg
ImZvciBpZiBpbiBpcyBpc250IGxvb3AgbmV3IG5vIG5vdCBudWxsIG9mIG9mZiBvbiBvciByZXR1
cm4gc3VwZXIgdGhlbiAiICsKICAgICAgInRydWUgdHJ5IHVubGVzcyB1bnRpbCB3aGVuIHdoaWxl
IHllcyAiOwogIHZhciBKU0NSSVBUX0tFWVdPUkRTID0gQ09NTU9OX0tFWVdPUkRTICsKICAgICAg
ImRlYnVnZ2VyIGV2YWwgZXhwb3J0IGZ1bmN0aW9uIGdldCBudWxsIHNldCB1bmRlZmluZWQgdmFy
IHdpdGggIiArCiAgICAgICJJbmZpbml0eSBOYU4gIjsKICB2YXIgUEVSTF9LRVlXT1JEUyA9ICJj
YWxsZXIgZGVsZXRlIGRpZSBkbyBkdW1wIGVsc2lmIGV2YWwgZXhpdCBmb3JlYWNoIGZvciAiICsK
ICAgICAgImdvdG8gaWYgaW1wb3J0IGxhc3QgbG9jYWwgbXkgbmV4dCBubyBvdXIgcHJpbnQgcGFj
a2FnZSByZWRvIHJlcXVpcmUgIiArCiAgICAgICJzdWIgdW5kZWYgdW5sZXNzIHVudGlsIHVzZSB3
YW50YXJyYXkgd2hpbGUgQkVHSU4gRU5EICI7CiAgdmFyIFBZVEhPTl9LRVlXT1JEUyA9IEZMT1df
Q09OVFJPTF9LRVlXT1JEUyArICJhbmQgYXMgYXNzZXJ0IGNsYXNzIGRlZiBkZWwgIiArCiAgICAg
ICJlbGlmIGV4Y2VwdCBleGVjIGZpbmFsbHkgZnJvbSBnbG9iYWwgaW1wb3J0IGluIGlzIGxhbWJk
YSAiICsKICAgICAgIm5vbmxvY2FsIG5vdCBvciBwYXNzIHByaW50IHJhaXNlIHRyeSB3aXRoIHlp
ZWxkICIgKwogICAgICAiRmFsc2UgVHJ1ZSBOb25lICI7CiAgdmFyIFJVQllfS0VZV09SRFMgPSBG
TE9XX0NPTlRST0xfS0VZV09SRFMgKyAiYWxpYXMgYW5kIGJlZ2luIGNhc2UgY2xhc3MgZGVmIiAr
CiAgICAgICIgZGVmaW5lZCBlbHNpZiBlbmQgZW5zdXJlIGZhbHNlIGluIG1vZHVsZSBuZXh0IG5p
bCBub3Qgb3IgcmVkbyByZXNjdWUgIiArCiAgICAgICJyZXRyeSBzZWxmIHN1cGVyIHRoZW4gdHJ1
ZSB1bmRlZiB1bmxlc3MgdW50aWwgd2hlbiB5aWVsZCBCRUdJTiBFTkQgIjsKICB2YXIgU0hfS0VZ
V09SRFMgPSBGTE9XX0NPTlRST0xfS0VZV09SRFMgKyAiY2FzZSBkb25lIGVsaWYgZXNhYyBldmFs
IGZpICIgKwogICAgICAiZnVuY3Rpb24gaW4gbG9jYWwgc2V0IHRoZW4gdW50aWwgIjsKICB2YXIg
QUxMX0tFWVdPUkRTID0gKAogICAgICBDUFBfS0VZV09SRFMgKyBDU0hBUlBfS0VZV09SRFMgKyBK
U0NSSVBUX0tFWVdPUkRTICsgUEVSTF9LRVlXT1JEUyArCiAgICAgIFBZVEhPTl9LRVlXT1JEUyAr
IFJVQllfS0VZV09SRFMgKyBTSF9LRVlXT1JEUyk7CgogIC8vIHRva2VuIHN0eWxlIG5hbWVzLiAg
Y29ycmVzcG9uZCB0byBjc3MgY2xhc3NlcwogIC8qKiB0b2tlbiBzdHlsZSBmb3IgYSBzdHJpbmcg
bGl0ZXJhbCAqLwogIHZhciBQUl9TVFJJTkcgPSAnc3RyJzsKICAvKiogdG9rZW4gc3R5bGUgZm9y
IGEga2V5d29yZCAqLwogIHZhciBQUl9LRVlXT1JEID0gJ2t3ZCc7CiAgLyoqIHRva2VuIHN0eWxl
IGZvciBhIGNvbW1lbnQgKi8KICB2YXIgUFJfQ09NTUVOVCA9ICdjb20nOwogIC8qKiB0b2tlbiBz
dHlsZSBmb3IgYSB0eXBlICovCiAgdmFyIFBSX1RZUEUgPSAndHlwJzsKICAvKiogdG9rZW4gc3R5
bGUgZm9yIGEgbGl0ZXJhbCB2YWx1ZS4gIGUuZy4gMSwgbnVsbCwgdHJ1ZS4gKi8KICB2YXIgUFJf
TElURVJBTCA9ICdsaXQnOwogIC8qKiB0b2tlbiBzdHlsZSBmb3IgYSBwdW5jdHVhdGlvbiBzdHJp
bmcuICovCiAgdmFyIFBSX1BVTkNUVUFUSU9OID0gJ3B1bic7CiAgLyoqIHRva2VuIHN0eWxlIGZv
ciBhIHB1bmN0dWF0aW9uIHN0cmluZy4gKi8KICB2YXIgUFJfUExBSU4gPSAncGxuJzsKCiAgLyoq
IHRva2VuIHN0eWxlIGZvciBhbiBzZ21sIHRhZy4gKi8KICB2YXIgUFJfVEFHID0gJ3RhZyc7CiAg
LyoqIHRva2VuIHN0eWxlIGZvciBhIG1hcmt1cCBkZWNsYXJhdGlvbiBzdWNoIGFzIGEgRE9DVFlQ
RS4gKi8KICB2YXIgUFJfREVDTEFSQVRJT04gPSAnZGVjJzsKICAvKiogdG9rZW4gc3R5bGUgZm9y
IGVtYmVkZGVkIHNvdXJjZS4gKi8KICB2YXIgUFJfU09VUkNFID0gJ3NyYyc7CiAgLyoqIHRva2Vu
IHN0eWxlIGZvciBhbiBzZ21sIGF0dHJpYnV0ZSBuYW1lLiAqLwogIHZhciBQUl9BVFRSSUJfTkFN
RSA9ICdhdG4nOwogIC8qKiB0b2tlbiBzdHlsZSBmb3IgYW4gc2dtbCBhdHRyaWJ1dGUgdmFsdWUu
ICovCiAgdmFyIFBSX0FUVFJJQl9WQUxVRSA9ICdhdHYnOwoKICAvKioKICAgKiBBIGNsYXNzIHRo
YXQgaW5kaWNhdGVzIGEgc2VjdGlvbiBvZiBtYXJrdXAgdGhhdCBpcyBub3QgY29kZSwgZS5nLiB0
byBhbGxvdwogICAqIGVtYmVkZGluZyBvZiBsaW5lIG51bWJlcnMgd2l0aGluIGNvZGUgbGlzdGlu
Z3MuCiAgICovCiAgdmFyIFBSX05PQ09ERSA9ICdub2NvZGUnOwoKICAvKiogQSBzZXQgb2YgdG9r
ZW5zIHRoYXQgY2FuIHByZWNlZGUgYSByZWd1bGFyIGV4cHJlc3Npb24gbGl0ZXJhbCBpbgogICAg
KiBqYXZhc2NyaXB0LgogICAgKiBodHRwOi8vd3d3Lm1vemlsbGEub3JnL2pzL2xhbmd1YWdlL2pz
MjAvcmF0aW9uYWxlL3N5bnRheC5odG1sIGhhcyB0aGUgZnVsbAogICAgKiBsaXN0LCBidXQgSSd2
ZSByZW1vdmVkIG9uZXMgdGhhdCBtaWdodCBiZSBwcm9ibGVtYXRpYyB3aGVuIHNlZW4gaW4KICAg
ICogbGFuZ3VhZ2VzIHRoYXQgZG9uJ3Qgc3VwcG9ydCByZWd1bGFyIGV4cHJlc3Npb24gbGl0ZXJh
bHMuCiAgICAqCiAgICAqIDxwPlNwZWNpZmljYWxseSwgSSd2ZSByZW1vdmVkIGFueSBrZXl3b3Jk
cyB0aGF0IGNhbid0IHByZWNlZGUgYSByZWdleHAKICAgICogbGl0ZXJhbCBpbiBhIHN5bnRhY3Rp
Y2FsbHkgbGVnYWwgamF2YXNjcmlwdCBwcm9ncmFtLCBhbmQgSSd2ZSByZW1vdmVkIHRoZQogICAg
KiAiaW4iIGtleXdvcmQgc2luY2UgaXQncyBub3QgYSBrZXl3b3JkIGluIG1hbnkgbGFuZ3VhZ2Vz
LCBhbmQgbWlnaHQgYmUgdXNlZAogICAgKiBhcyBhIGNvdW50IG9mIGluY2hlcy4KICAgICoKICAg
ICogPHA+VGhlIGxpbmsgYSBhYm92ZSBkb2VzIG5vdCBhY2N1cmF0ZWx5IGRlc2NyaWJlIEVjbWFT
Y3JpcHQgcnVsZXMgc2luY2UKICAgICogaXQgZmFpbHMgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiAo
YT0rKy9iL2kpIGFuZCAoYSsrL2IvaSkgYnV0IGl0IHdvcmtzCiAgICAqIHZlcnkgd2VsbCBpbiBw
cmFjdGljZS4KICAgICoKICAgICogQHByaXZhdGUKICAgICovCiAgdmFyIFJFR0VYUF9QUkVDRURF
Ul9QQVRURVJOID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgcHJlY2VkZXJzID0gWwogICAgICAg
ICAgIiEiLCAiIT0iLCAiIT09IiwgIiMiLCAiJSIsICIlPSIsICImIiwgIiYmIiwgIiYmPSIsCiAg
ICAgICAgICAiJj0iLCAiKCIsICIqIiwgIio9IiwgLyogIisiLCAqLyAiKz0iLCAiLCIsIC8qICIt
IiwgKi8gIi09IiwKICAgICAgICAgICItPiIsIC8qIi4iLCAiLi4iLCAiLi4uIiwgaGFuZGxlZCBi
ZWxvdyAqLyAiLyIsICIvPSIsICI6IiwgIjo6IiwgIjsiLAogICAgICAgICAgIjwiLCAiPDwiLCAi
PDw9IiwgIjw9IiwgIj0iLCAiPT0iLCAiPT09IiwgIj4iLAogICAgICAgICAgIj49IiwgIj4+Iiwg
Ij4+PSIsICI+Pj4iLCAiPj4+PSIsICI/IiwgIkAiLCAiWyIsCiAgICAgICAgICAiXiIsICJePSIs
ICJeXiIsICJeXj0iLCAieyIsICJ8IiwgInw9IiwgInx8IiwKICAgICAgICAgICJ8fD0iLCAifiIg
LyogaGFuZGxlcyA9fiBhbmQgIX4gKi8sCiAgICAgICAgICAiYnJlYWsiLCAiY2FzZSIsICJjb250
aW51ZSIsICJkZWxldGUiLAogICAgICAgICAgImRvIiwgImVsc2UiLCAiZmluYWxseSIsICJpbnN0
YW5jZW9mIiwKICAgICAgICAgICJyZXR1cm4iLCAidGhyb3ciLCAidHJ5IiwgInR5cGVvZiIKICAg
ICAgICAgIF07CiAgICAgIHZhciBwYXR0ZXJuID0gJyg/Ol5efFsrLV0nOwogICAgICBmb3IgKHZh
ciBpID0gMDsgaSA8IHByZWNlZGVycy5sZW5ndGg7ICsraSkgewogICAgICAgIHBhdHRlcm4gKz0g
J3wnICsgcHJlY2VkZXJzW2ldLnJlcGxhY2UoLyhbXj08PjomYS16XSkvZywgJ1xcJDEnKTsKICAg
ICAgfQogICAgICBwYXR0ZXJuICs9ICcpXFxzKic7ICAvLyBtYXRjaGVzIGF0IGVuZCwgYW5kIG1h
dGNoZXMgZW1wdHkgc3RyaW5nCiAgICAgIHJldHVybiBwYXR0ZXJuOwogICAgICAvLyBDQVZFQVQ6
IHRoaXMgZG9lcyBub3QgcHJvcGVybHkgaGFuZGxlIHRoZSBjYXNlIHdoZXJlIGEgcmVndWxhcgog
ICAgICAvLyBleHByZXNzaW9uIGltbWVkaWF0ZWx5IGZvbGxvd3MgYW5vdGhlciBzaW5jZSBhIHJl
Z3VsYXIgZXhwcmVzc2lvbiBtYXkKICAgICAgLy8gaGF2ZSBmbGFncyBmb3IgY2FzZS1zZW5zaXRp
dml0eSBhbmQgdGhlIGxpa2UuICBIYXZpbmcgcmVnZXhwIHRva2VucwogICAgICAvLyBhZGphY2Vu
dCBpcyBub3QgdmFsaWQgaW4gYW55IGxhbmd1YWdlIEknbSBhd2FyZSBvZiwgc28gSSdtIHB1bnRp
bmcuCiAgICAgIC8vIFRPRE86IG1heWJlIHN0eWxlIHNwZWNpYWwgY2hhcmFjdGVycyBpbnNpZGUg
YSByZWdleHAgYXMgcHVuY3R1YXRpb24uCiAgICB9KCk7CgogIAogIC8qKgogICAqIEdpdmVuIGEg
Z3JvdXAgb2Yge0BsaW5rIFJlZ0V4cH1zLCByZXR1cm5zIGEge0Bjb2RlIFJlZ0V4cH0gdGhhdCBn
bG9iYWxseQogICAqIG1hdGNoZXMgdGhlIHVuaW9uIG9mIHRoZSBzZXRzIG9mIHN0cmluZ3MgbWF0
Y2hlZCBieSB0aGUgaW5wdXQgUmVnRXhwLgogICAqIFNpbmNlIGl0IG1hdGNoZXMgZ2xvYmFsbHks
IGlmIHRoZSBpbnB1dCBzdHJpbmdzIGhhdmUgYSBzdGFydC1vZi1pbnB1dAogICAqIGFuY2hvciAo
L14uLi4vKSwgaXQgaXMgaWdub3JlZCBmb3IgdGhlIHB1cnBvc2VzIG9mIHVuaW9uaW5nLgogICAq
IEBwYXJhbSB7QXJyYXkuPFJlZ0V4cD59IHJlZ2V4cyBub24gbXVsdGlsaW5lLCBub24tZ2xvYmFs
IHJlZ2V4cy4KICAgKiBAcmV0dXJuIHtSZWdFeHB9IGEgZ2xvYmFsIHJlZ2V4LgogICAqLwogIGZ1
bmN0aW9uIGNvbWJpbmVQcmVmaXhQYXR0ZXJucyhyZWdleHMpIHsKICAgIHZhciBjYXB0dXJlZEdy
b3VwSW5kZXggPSAwOwogIAogICAgdmFyIG5lZWRUb0ZvbGRDYXNlID0gZmFsc2U7CiAgICB2YXIg
aWdub3JlQ2FzZSA9IGZhbHNlOwogICAgZm9yICh2YXIgaSA9IDAsIG4gPSByZWdleHMubGVuZ3Ro
OyBpIDwgbjsgKytpKSB7CiAgICAgIHZhciByZWdleCA9IHJlZ2V4c1tpXTsKICAgICAgaWYgKHJl
Z2V4Lmlnbm9yZUNhc2UpIHsKICAgICAgICBpZ25vcmVDYXNlID0gdHJ1ZTsKICAgICAgfSBlbHNl
IGlmICgvW2Etel0vaS50ZXN0KHJlZ2V4LnNvdXJjZS5yZXBsYWNlKAogICAgICAgICAgICAgICAg
ICAgICAvXFx1WzAtOWEtZl17NH18XFx4WzAtOWEtZl17Mn18XFxbXnV4XS9naSwgJycpKSkgewog
ICAgICAgIG5lZWRUb0ZvbGRDYXNlID0gdHJ1ZTsKICAgICAgICBpZ25vcmVDYXNlID0gZmFsc2U7
CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICAKICAgIGZ1bmN0aW9uIGRlY29kZUVzY2Fw
ZShjaGFyc2V0UGFydCkgewogICAgICBpZiAoY2hhcnNldFBhcnQuY2hhckF0KDApICE9PSAnXFwn
KSB7IHJldHVybiBjaGFyc2V0UGFydC5jaGFyQ29kZUF0KDApOyB9CiAgICAgIHN3aXRjaCAoY2hh
cnNldFBhcnQuY2hhckF0KDEpKSB7CiAgICAgICAgY2FzZSAnYic6IHJldHVybiA4OwogICAgICAg
IGNhc2UgJ3QnOiByZXR1cm4gOTsKICAgICAgICBjYXNlICduJzogcmV0dXJuIDB4YTsKICAgICAg
ICBjYXNlICd2JzogcmV0dXJuIDB4YjsKICAgICAgICBjYXNlICdmJzogcmV0dXJuIDB4YzsKICAg
ICAgICBjYXNlICdyJzogcmV0dXJuIDB4ZDsKICAgICAgICBjYXNlICd1JzogY2FzZSAneCc6CiAg
ICAgICAgICByZXR1cm4gcGFyc2VJbnQoY2hhcnNldFBhcnQuc3Vic3RyaW5nKDIpLCAxNikKICAg
ICAgICAgICAgICB8fCBjaGFyc2V0UGFydC5jaGFyQ29kZUF0KDEpOwogICAgICAgIGNhc2UgJzAn
OiBjYXNlICcxJzogY2FzZSAnMic6IGNhc2UgJzMnOiBjYXNlICc0JzoKICAgICAgICBjYXNlICc1
JzogY2FzZSAnNic6IGNhc2UgJzcnOgogICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNoYXJzZXRQ
YXJ0LnN1YnN0cmluZygxKSwgOCk7CiAgICAgICAgZGVmYXVsdDogcmV0dXJuIGNoYXJzZXRQYXJ0
LmNoYXJDb2RlQXQoMSk7CiAgICAgIH0KICAgIH0KICAKICAgIGZ1bmN0aW9uIGVuY29kZUVzY2Fw
ZShjaGFyQ29kZSkgewogICAgICBpZiAoY2hhckNvZGUgPCAweDIwKSB7CiAgICAgICAgcmV0dXJu
IChjaGFyQ29kZSA8IDB4MTAgPyAnXFx4MCcgOiAnXFx4JykgKyBjaGFyQ29kZS50b1N0cmluZygx
Nik7CiAgICAgIH0KICAgICAgdmFyIGNoID0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7
CiAgICAgIGlmIChjaCA9PT0gJ1xcJyB8fCBjaCA9PT0gJy0nIHx8IGNoID09PSAnWycgfHwgY2gg
PT09ICddJykgewogICAgICAgIGNoID0gJ1xcJyArIGNoOwogICAgICB9CiAgICAgIHJldHVybiBj
aDsKICAgIH0KICAKICAgIGZ1bmN0aW9uIGNhc2VGb2xkQ2hhcnNldChjaGFyU2V0KSB7CiAgICAg
IHZhciBjaGFyc2V0UGFydHMgPSBjaGFyU2V0LnN1YnN0cmluZygxLCBjaGFyU2V0Lmxlbmd0aCAt
IDEpLm1hdGNoKAogICAgICAgICAgbmV3IFJlZ0V4cCgKICAgICAgICAgICAgICAnXFxcXHVbMC05
QS1GYS1mXXs0fScKICAgICAgICAgICAgICArICd8XFxcXHhbMC05QS1GYS1mXXsyfScKICAgICAg
ICAgICAgICArICd8XFxcXFswLTNdWzAtN117MCwyfScKICAgICAgICAgICAgICArICd8XFxcXFsw
LTddezEsMn0nCiAgICAgICAgICAgICAgKyAnfFxcXFxbXFxzXFxTXScKICAgICAgICAgICAgICAr
ICd8LScKICAgICAgICAgICAgICArICd8W14tXFxcXF0nLAogICAgICAgICAgICAgICdnJykpOwog
ICAgICB2YXIgZ3JvdXBzID0gW107CiAgICAgIHZhciByYW5nZXMgPSBbXTsKICAgICAgdmFyIGlu
dmVyc2UgPSBjaGFyc2V0UGFydHNbMF0gPT09ICdeJzsKICAgICAgZm9yICh2YXIgaSA9IGludmVy
c2UgPyAxIDogMCwgbiA9IGNoYXJzZXRQYXJ0cy5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAg
ICB2YXIgcCA9IGNoYXJzZXRQYXJ0c1tpXTsKICAgICAgICBzd2l0Y2ggKHApIHsKICAgICAgICAg
IGNhc2UgJ1xcQic6IGNhc2UgJ1xcYic6CiAgICAgICAgICBjYXNlICdcXEQnOiBjYXNlICdcXGQn
OgogICAgICAgICAgY2FzZSAnXFxTJzogY2FzZSAnXFxzJzoKICAgICAgICAgIGNhc2UgJ1xcVyc6
IGNhc2UgJ1xcdyc6CiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKHApOwogICAgICAgICAgICBjb250
aW51ZTsKICAgICAgICB9CiAgICAgICAgdmFyIHN0YXJ0ID0gZGVjb2RlRXNjYXBlKHApOwogICAg
ICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKGkgKyAyIDwgbiAmJiAnLScgPT09IGNoYXJzZXRQYXJ0
c1tpICsgMV0pIHsKICAgICAgICAgIGVuZCA9IGRlY29kZUVzY2FwZShjaGFyc2V0UGFydHNbaSAr
IDJdKTsKICAgICAgICAgIGkgKz0gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZW5kID0g
c3RhcnQ7CiAgICAgICAgfQogICAgICAgIHJhbmdlcy5wdXNoKFtzdGFydCwgZW5kXSk7CiAgICAg
ICAgLy8gSWYgdGhlIHJhbmdlIG1pZ2h0IGludGVyc2VjdCBsZXR0ZXJzLCB0aGVuIGV4cGFuZCBp
dC4KICAgICAgICBpZiAoIShlbmQgPCA2NSB8fCBzdGFydCA+IDEyMikpIHsKICAgICAgICAgIGlm
ICghKGVuZCA8IDY1IHx8IHN0YXJ0ID4gOTApKSB7CiAgICAgICAgICAgIHJhbmdlcy5wdXNoKFtN
YXRoLm1heCg2NSwgc3RhcnQpIHwgMzIsIE1hdGgubWluKGVuZCwgOTApIHwgMzJdKTsKICAgICAg
ICAgIH0KICAgICAgICAgIGlmICghKGVuZCA8IDk3IHx8IHN0YXJ0ID4gMTIyKSkgewogICAgICAg
ICAgICByYW5nZXMucHVzaChbTWF0aC5tYXgoOTcsIHN0YXJ0KSAmIH4zMiwgTWF0aC5taW4oZW5k
LCAxMjIpICYgfjMyXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgCiAgICAgIC8v
IFtbMSwgMTBdLCBbMywgNF0sIFs4LCAxMl0sIFsxNCwgMTRdLCBbMTYsIDE2XSwgWzE3LCAxN11d
CiAgICAgIC8vIC0+IFtbMSwgMTJdLCBbMTQsIDE0XSwgWzE2LCAxN11dCiAgICAgIHJhbmdlcy5z
b3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYVswXSAtIGJbMF0pIHx8IChiWzFdICAtIGFb
MV0pOyB9KTsKICAgICAgdmFyIGNvbnNvbGlkYXRlZFJhbmdlcyA9IFtdOwogICAgICB2YXIgbGFz
dFJhbmdlID0gW05hTiwgTmFOXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVu
Z3RoOyArK2kpIHsKICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07CiAgICAgICAgaWYgKHJh
bmdlWzBdIDw9IGxhc3RSYW5nZVsxXSArIDEpIHsKICAgICAgICAgIGxhc3RSYW5nZVsxXSA9IE1h
dGgubWF4KGxhc3RSYW5nZVsxXSwgcmFuZ2VbMV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAg
ICBjb25zb2xpZGF0ZWRSYW5nZXMucHVzaChsYXN0UmFuZ2UgPSByYW5nZSk7CiAgICAgICAgfQog
ICAgICB9CiAgCiAgICAgIHZhciBvdXQgPSBbJ1snXTsKICAgICAgaWYgKGludmVyc2UpIHsgb3V0
LnB1c2goJ14nKTsgfQogICAgICBvdXQucHVzaC5hcHBseShvdXQsIGdyb3Vwcyk7CiAgICAgIGZv
ciAodmFyIGkgPSAwOyBpIDwgY29uc29saWRhdGVkUmFuZ2VzLmxlbmd0aDsgKytpKSB7CiAgICAg
ICAgdmFyIHJhbmdlID0gY29uc29saWRhdGVkUmFuZ2VzW2ldOwogICAgICAgIG91dC5wdXNoKGVu
Y29kZUVzY2FwZShyYW5nZVswXSkpOwogICAgICAgIGlmIChyYW5nZVsxXSA+IHJhbmdlWzBdKSB7
CiAgICAgICAgICBpZiAocmFuZ2VbMV0gKyAxID4gcmFuZ2VbMF0pIHsgb3V0LnB1c2goJy0nKTsg
fQogICAgICAgICAgb3V0LnB1c2goZW5jb2RlRXNjYXBlKHJhbmdlWzFdKSk7CiAgICAgICAgfQog
ICAgICB9CiAgICAgIG91dC5wdXNoKCddJyk7CiAgICAgIHJldHVybiBvdXQuam9pbignJyk7CiAg
ICB9CiAgCiAgICBmdW5jdGlvbiBhbGxvd0FueXdoZXJlRm9sZENhc2VBbmRSZW51bWJlckdyb3Vw
cyhyZWdleCkgewogICAgICAvLyBTcGxpdCBpbnRvIGNoYXJhY3RlciBzZXRzLCBlc2NhcGUgc2Vx
dWVuY2VzLCBwdW5jdHVhdGlvbiBzdHJpbmdzCiAgICAgIC8vIGxpa2UgKCcoJywgJyg/OicsICcp
JywgJ14nKSwgYW5kIHJ1bnMgb2YgY2hhcmFjdGVycyB0aGF0IGRvIG5vdAogICAgICAvLyBpbmNs
dWRlIGFueSBvZiB0aGUgYWJvdmUuCiAgICAgIHZhciBwYXJ0cyA9IHJlZ2V4LnNvdXJjZS5tYXRj
aCgKICAgICAgICAgIG5ldyBSZWdFeHAoCiAgICAgICAgICAgICAgJyg/OicKICAgICAgICAgICAg
ICArICdcXFsoPzpbXlxceDVDXFx4NURdfFxcXFxbXFxzXFxTXSkqXFxdJyAgLy8gYSBjaGFyYWN0
ZXIgc2V0CiAgICAgICAgICAgICAgKyAnfFxcXFx1W0EtRmEtZjAtOV17NH0nICAvLyBhIHVuaWNv
ZGUgZXNjYXBlCiAgICAgICAgICAgICAgKyAnfFxcXFx4W0EtRmEtZjAtOV17Mn0nICAvLyBhIGhl
eCBlc2NhcGUKICAgICAgICAgICAgICArICd8XFxcXFswLTldKycgIC8vIGEgYmFjay1yZWZlcmVu
Y2Ugb3Igb2N0YWwgZXNjYXBlCiAgICAgICAgICAgICAgKyAnfFxcXFxbXnV4MC05XScgIC8vIG90
aGVyIGVzY2FwZSBzZXF1ZW5jZQogICAgICAgICAgICAgICsgJ3xcXChcXD9bOiE9XScgIC8vIHN0
YXJ0IG9mIGEgbm9uLWNhcHR1cmluZyBncm91cAogICAgICAgICAgICAgICsgJ3xbXFwoXFwpXFxe
XScgIC8vIHN0YXJ0L2VtZCBvZiBhIGdyb3VwLCBvciBsaW5lIHN0YXJ0CiAgICAgICAgICAgICAg
KyAnfFteXFx4NUJcXHg1Q1xcKFxcKVxcXl0rJyAgLy8gcnVuIG9mIG90aGVyIGNoYXJhY3RlcnMK
ICAgICAgICAgICAgICArICcpJywKICAgICAgICAgICAgICAnZycpKTsKICAgICAgdmFyIG4gPSBw
YXJ0cy5sZW5ndGg7CiAgCiAgICAgIC8vIE1hcHMgY2FwdHVyZWQgZ3JvdXAgbnVtYmVycyB0byB0
aGUgbnVtYmVyIHRoZXkgd2lsbCBvY2N1cHkgaW4KICAgICAgLy8gdGhlIG91dHB1dCBvciB0byAt
MSBpZiB0aGF0IGhhcyBub3QgYmVlbiBkZXRlcm1pbmVkLCBvciB0bwogICAgICAvLyB1bmRlZmlu
ZWQgaWYgdGhleSBuZWVkIG5vdCBiZSBjYXB0dXJpbmcgaW4gdGhlIG91dHB1dC4KICAgICAgdmFy
IGNhcHR1cmVkR3JvdXBzID0gW107CiAgCiAgICAgIC8vIFdhbGsgb3ZlciBhbmQgaWRlbnRpZnkg
YmFjayByZWZlcmVuY2VzIHRvIGJ1aWxkIHRoZSBjYXB0dXJlZEdyb3VwcwogICAgICAvLyBtYXBw
aW5nLgogICAgICBmb3IgKHZhciBpID0gMCwgZ3JvdXBJbmRleCA9IDA7IGkgPCBuOyArK2kpIHsK
ICAgICAgICB2YXIgcCA9IHBhcnRzW2ldOwogICAgICAgIGlmIChwID09PSAnKCcpIHsKICAgICAg
ICAgIC8vIGdyb3VwcyBhcmUgMS1pbmRleGVkLCBzbyBtYXggZ3JvdXAgaW5kZXggaXMgY291bnQg
b2YgJygnCiAgICAgICAgICArK2dyb3VwSW5kZXg7CiAgICAgICAgfSBlbHNlIGlmICgnXFwnID09
PSBwLmNoYXJBdCgwKSkgewogICAgICAgICAgdmFyIGRlY2ltYWxWYWx1ZSA9ICtwLnN1YnN0cmlu
ZygxKTsKICAgICAgICAgIGlmIChkZWNpbWFsVmFsdWUgJiYgZGVjaW1hbFZhbHVlIDw9IGdyb3Vw
SW5kZXgpIHsKICAgICAgICAgICAgY2FwdHVyZWRHcm91cHNbZGVjaW1hbFZhbHVlXSA9IC0xOwog
ICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogIAogICAgICAvLyBSZW51bWJlciBncm91cHMg
YW5kIHJlZHVjZSBjYXB0dXJpbmcgZ3JvdXBzIHRvIG5vbi1jYXB0dXJpbmcgZ3JvdXBzCiAgICAg
IC8vIHdoZXJlIHBvc3NpYmxlLgogICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGNhcHR1cmVkR3Jv
dXBzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgaWYgKC0xID09PSBjYXB0dXJlZEdyb3Vwc1tpXSkg
ewogICAgICAgICAgY2FwdHVyZWRHcm91cHNbaV0gPSArK2NhcHR1cmVkR3JvdXBJbmRleDsKICAg
ICAgICB9CiAgICAgIH0KICAgICAgZm9yICh2YXIgaSA9IDAsIGdyb3VwSW5kZXggPSAwOyBpIDwg
bjsgKytpKSB7CiAgICAgICAgdmFyIHAgPSBwYXJ0c1tpXTsKICAgICAgICBpZiAocCA9PT0gJygn
KSB7CiAgICAgICAgICArK2dyb3VwSW5kZXg7CiAgICAgICAgICBpZiAoY2FwdHVyZWRHcm91cHNb
Z3JvdXBJbmRleF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBwYXJ0c1tpXSA9ICcoPzon
OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoJ1xcJyA9PT0gcC5jaGFyQXQoMCkpIHsK
ICAgICAgICAgIHZhciBkZWNpbWFsVmFsdWUgPSArcC5zdWJzdHJpbmcoMSk7CiAgICAgICAgICBp
ZiAoZGVjaW1hbFZhbHVlICYmIGRlY2ltYWxWYWx1ZSA8PSBncm91cEluZGV4KSB7CiAgICAgICAg
ICAgIHBhcnRzW2ldID0gJ1xcJyArIGNhcHR1cmVkR3JvdXBzW2dyb3VwSW5kZXhdOwogICAgICAg
ICAgfQogICAgICAgIH0KICAgICAgfQogIAogICAgICAvLyBSZW1vdmUgYW55IHByZWZpeCBhbmNo
b3JzIHNvIHRoYXQgdGhlIG91dHB1dCB3aWxsIG1hdGNoIGFueXdoZXJlLgogICAgICAvLyBeXiBy
ZWFsbHkgZG9lcyBtZWFuIGFuIGFuY2hvcmVkIG1hdGNoIHRob3VnaC4KICAgICAgZm9yICh2YXIg
aSA9IDAsIGdyb3VwSW5kZXggPSAwOyBpIDwgbjsgKytpKSB7CiAgICAgICAgaWYgKCdeJyA9PT0g
cGFydHNbaV0gJiYgJ14nICE9PSBwYXJ0c1tpICsgMV0pIHsgcGFydHNbaV0gPSAnJzsgfQogICAg
ICB9CiAgCiAgICAgIC8vIEV4cGFuZCBsZXR0ZXJzIHRvIGdyb3VwcyB0byBoYW5kbGUgbWl4aW5n
IG9mIGNhc2Utc2Vuc2l0aXZlIGFuZAogICAgICAvLyBjYXNlLWluc2Vuc2l0aXZlIHBhdHRlcm5z
IGlmIG5lY2Vzc2FyeS4KICAgICAgaWYgKHJlZ2V4Lmlnbm9yZUNhc2UgJiYgbmVlZFRvRm9sZENh
c2UpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSkgewogICAgICAgICAgdmFy
IHAgPSBwYXJ0c1tpXTsKICAgICAgICAgIHZhciBjaDAgPSBwLmNoYXJBdCgwKTsKICAgICAgICAg
IGlmIChwLmxlbmd0aCA+PSAyICYmIGNoMCA9PT0gJ1snKSB7CiAgICAgICAgICAgIHBhcnRzW2ld
ID0gY2FzZUZvbGRDaGFyc2V0KHApOwogICAgICAgICAgfSBlbHNlIGlmIChjaDAgIT09ICdcXCcp
IHsKICAgICAgICAgICAgLy8gVE9ETzogaGFuZGxlIGxldHRlcnMgaW4gbnVtZXJpYyBlc2NhcGVz
LgogICAgICAgICAgICBwYXJ0c1tpXSA9IHAucmVwbGFjZSgKICAgICAgICAgICAgICAgIC9bYS16
QS1aXS9nLAogICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNoKSB7CiAgICAgICAgICAgICAgICAg
IHZhciBjYyA9IGNoLmNoYXJDb2RlQXQoMCk7CiAgICAgICAgICAgICAgICAgIHJldHVybiAnWycg
KyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNjICYgfjMyLCBjYyB8IDMyKSArICddJzsKICAgICAgICAg
ICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogIAogICAgICByZXR1cm4g
cGFydHMuam9pbignJyk7CiAgICB9CiAgCiAgICB2YXIgcmV3cml0dGVuID0gW107CiAgICBmb3Ig
KHZhciBpID0gMCwgbiA9IHJlZ2V4cy5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAgdmFyIHJl
Z2V4ID0gcmVnZXhzW2ldOwogICAgICBpZiAocmVnZXguZ2xvYmFsIHx8IHJlZ2V4Lm11bHRpbGlu
ZSkgeyB0aHJvdyBuZXcgRXJyb3IoJycgKyByZWdleCk7IH0KICAgICAgcmV3cml0dGVuLnB1c2go
CiAgICAgICAgICAnKD86JyArIGFsbG93QW55d2hlcmVGb2xkQ2FzZUFuZFJlbnVtYmVyR3JvdXBz
KHJlZ2V4KSArICcpJyk7CiAgICB9CiAgCiAgICByZXR1cm4gbmV3IFJlZ0V4cChyZXdyaXR0ZW4u
am9pbignfCcpLCBpZ25vcmVDYXNlID8gJ2dpJyA6ICdnJyk7CiAgfQoKCiAgLyoqCiAgICogU3Bs
aXQgbWFya3VwIGludG8gYSBzdHJpbmcgb2Ygc291cmNlIGNvZGUgYW5kIGFuIGFycmF5IG1hcHBp
bmcgcmFuZ2VzIGluCiAgICogdGhhdCBzdHJpbmcgdG8gdGhlIHRleHQgbm9kZXMgaW4gd2hpY2gg
dGhleSBhcHBlYXIuCiAgICoKICAgKiA8cD4KICAgKiBUaGUgSFRNTCBET00gc3RydWN0dXJlOjwv
cD4KICAgKiA8cHJlPgogICAqIChFbGVtZW50ICAgInAiCiAgICogICAoRWxlbWVudCAiYiIKICAg
KiAgICAgKFRleHQgICJwcmludCAiKSkgICAgICAgOyAjMQogICAqICAgKFRleHQgICAgIidIZWxs
byAnIikgICAgICA7ICMyCiAgICogICAoRWxlbWVudCAiYnIiKSAgICAgICAgICAgIDsgIzMKICAg
KiAgIChUZXh0ICAgICIgICsgJ1dvcmxkJzsiKSkgOyAjNAogICAqIDwvcHJlPgogICAqIDxwPgog
ICAqIGNvcnJlc3BvbmRzIHRvIHRoZSBIVE1MCiAgICoge0Bjb2RlIDxwPjxiPnByaW50IDwvYj4n
SGVsbG8gJzxicj4gICsgJ1dvcmxkJzs8L3A+fS48L3A+CiAgICoKICAgKiA8cD4KICAgKiBJdCB3
aWxsIHByb2R1Y2UgdGhlIG91dHB1dDo8L3A+CiAgICogPHByZT4KICAgKiB7CiAgICogICBzb3Vy
Y2U6ICJwcmludCAnSGVsbG8gJ1xuICArICdXb3JsZCc7IiwKICAgKiAgIC8vICAgICAgICAgICAg
ICAgICAxICAgICAgICAgMgogICAqICAgLy8gICAgICAgMDEyMzQ1Njc4OTAxMjM0IDU2Nzg5MDEy
MzQ1NjcKICAgKiAgIHNwYW5zOiBbMCwgIzEsIDYsICMyLCAxNCwgIzMsIDE1LCAjNF0KICAgKiB9
CiAgICogPC9wcmU+CiAgICogPHA+CiAgICogd2hlcmUgIzEgaXMgYSByZWZlcmVuY2UgdG8gdGhl
IHtAY29kZSAicHJpbnQgIn0gdGV4dCBub2RlIGFib3ZlLCBhbmQgc28KICAgKiBvbiBmb3IgdGhl
IG90aGVyIHRleHQgbm9kZXMuCiAgICogPC9wPgogICAqCiAgICogPHA+CiAgICogVGhlIHtAY29k
ZX0gc3BhbnMgYXJyYXkgaXMgYW4gYXJyYXkgb2YgcGFpcnMuICBFdmVuIGVsZW1lbnRzIGFyZSB0
aGUgc3RhcnQKICAgKiBpbmRpY2VzIG9mIHN1YnN0cmluZ3MsIGFuZCBvZGQgZWxlbWVudHMgYXJl
IHRoZSB0ZXh0IG5vZGVzIChvciBCUiBlbGVtZW50cykKICAgKiB0aGF0IGNvbnRhaW4gdGhlIHRl
eHQgZm9yIHRob3NlIHN1YnN0cmluZ3MuCiAgICogU3Vic3RyaW5ncyBjb250aW51ZSB1bnRpbCB0
aGUgbmV4dCBpbmRleCBvciB0aGUgZW5kIG9mIHRoZSBzb3VyY2UuCiAgICogPC9wPgogICAqCiAg
ICogQHBhcmFtIHtOb2RlfSBub2RlIGFuIEhUTUwgRE9NIHN1YnRyZWUgY29udGFpbmluZyBzb3Vy
Y2UtY29kZS4KICAgKiBAcmV0dXJuIHtPYmplY3R9IHNvdXJjZSBjb2RlIGFuZCB0aGUgdGV4dCBu
b2RlcyBpbiB3aGljaCB0aGV5IG9jY3VyLgogICAqLwogIGZ1bmN0aW9uIGV4dHJhY3RTb3VyY2VT
cGFucyhub2RlKSB7CiAgICB2YXIgbm9jb2RlID0gLyg/Ol58XHMpbm9jb2RlKD86XHN8JCkvOwog
IAogICAgdmFyIGNodW5rcyA9IFtdOwogICAgdmFyIGxlbmd0aCA9IDA7CiAgICB2YXIgc3BhbnMg
PSBbXTsKICAgIHZhciBrID0gMDsKICAKICAgIHZhciB3aGl0ZXNwYWNlOwogICAgaWYgKG5vZGUu
Y3VycmVudFN0eWxlKSB7CiAgICAgIHdoaXRlc3BhY2UgPSBub2RlLmN1cnJlbnRTdHlsZS53aGl0
ZVNwYWNlOwogICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkgewogICAgICB3
aGl0ZXNwYWNlID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBu
dWxsKQogICAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoJ3doaXRlLXNwYWNlJyk7CiAgICB9CiAg
ICB2YXIgaXNQcmVmb3JtYXR0ZWQgPSB3aGl0ZXNwYWNlICYmICdwcmUnID09PSB3aGl0ZXNwYWNl
LnN1YnN0cmluZygwLCAzKTsKICAKICAgIGZ1bmN0aW9uIHdhbGsobm9kZSkgewogICAgICBzd2l0
Y2ggKG5vZGUubm9kZVR5cGUpIHsKICAgICAgICBjYXNlIDE6ICAvLyBFbGVtZW50CiAgICAgICAg
ICBpZiAobm9jb2RlLnRlc3Qobm9kZS5jbGFzc05hbWUpKSB7IHJldHVybjsgfQogICAgICAgICAg
Zm9yICh2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5l
eHRTaWJsaW5nKSB7CiAgICAgICAgICAgIHdhbGsoY2hpbGQpOwogICAgICAgICAgfQogICAgICAg
ICAgdmFyIG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZTsKICAgICAgICAgIGlmICgnQlInID09PSBu
b2RlTmFtZSB8fCAnTEknID09PSBub2RlTmFtZSkgewogICAgICAgICAgICBjaHVua3Nba10gPSAn
XG4nOwogICAgICAgICAgICBzcGFuc1trIDw8IDFdID0gbGVuZ3RoKys7CiAgICAgICAgICAgIHNw
YW5zWyhrKysgPDwgMSkgfCAxXSA9IG5vZGU7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsK
ICAgICAgICBjYXNlIDM6IGNhc2UgNDogIC8vIFRleHQKICAgICAgICAgIHZhciB0ZXh0ID0gbm9k
ZS5ub2RlVmFsdWU7CiAgICAgICAgICBpZiAodGV4dC5sZW5ndGgpIHsKICAgICAgICAgICAgaWYg
KCFpc1ByZWZvcm1hdHRlZCkgewogICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1sg
XHRcclxuXSsvZywgJyAnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0ZXh0
ID0gdGV4dC5yZXBsYWNlKC9cclxuPy9nLCAnXG4nKTsgIC8vIE5vcm1hbGl6ZSBuZXdsaW5lcy4K
ICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgdGFicyBoZXJlPwogICAg
ICAgICAgICBjaHVua3Nba10gPSB0ZXh0OwogICAgICAgICAgICBzcGFuc1trIDw8IDFdID0gbGVu
Z3RoOwogICAgICAgICAgICBsZW5ndGggKz0gdGV4dC5sZW5ndGg7CiAgICAgICAgICAgIHNwYW5z
WyhrKysgPDwgMSkgfCAxXSA9IG5vZGU7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAg
ICAgfQogICAgfQogIAogICAgd2Fsayhub2RlKTsKICAKICAgIHJldHVybiB7CiAgICAgIHNvdXJj
ZTogY2h1bmtzLmpvaW4oJycpLnJlcGxhY2UoL1xuJC8sICcnKSwKICAgICAgc3BhbnM6IHNwYW5z
CiAgICB9OwogIH0KCgogIC8qKgogICAqIEFwcGx5IHRoZSBnaXZlbiBsYW5ndWFnZSBoYW5kbGVy
IHRvIHNvdXJjZUNvZGUgYW5kIGFkZCB0aGUgcmVzdWx0aW5nCiAgICogZGVjb3JhdGlvbnMgdG8g
b3V0LgogICAqIEBwYXJhbSB7bnVtYmVyfSBiYXNlUG9zIHRoZSBpbmRleCBvZiBzb3VyY2VDb2Rl
IHdpdGhpbiB0aGUgY2h1bmsgb2Ygc291cmNlCiAgICogICAgd2hvc2UgZGVjb3JhdGlvbnMgYXJl
IGFscmVhZHkgcHJlc2VudCBvbiBvdXQuCiAgICovCiAgZnVuY3Rpb24gYXBwZW5kRGVjb3JhdGlv
bnMoYmFzZVBvcywgc291cmNlQ29kZSwgbGFuZ0hhbmRsZXIsIG91dCkgewogICAgaWYgKCFzb3Vy
Y2VDb2RlKSB7IHJldHVybjsgfQogICAgdmFyIGpvYiA9IHsKICAgICAgc291cmNlOiBzb3VyY2VD
b2RlLAogICAgICBiYXNlUG9zOiBiYXNlUG9zCiAgICB9OwogICAgbGFuZ0hhbmRsZXIoam9iKTsK
ICAgIG91dC5wdXNoLmFwcGx5KG91dCwgam9iLmRlY29yYXRpb25zKTsKICB9CgogIC8qKiBHaXZl
biB0cmlwbGVzIG9mIFtzdHlsZSwgcGF0dGVybiwgY29udGV4dF0gcmV0dXJucyBhIGxleGluZyBm
dW5jdGlvbiwKICAgICogVGhlIGxleGluZyBmdW5jdGlvbiBpbnRlcnByZXRzIHRoZSBwYXR0ZXJu
cyB0byBmaW5kIHRva2VuIGJvdW5kYXJpZXMgYW5kCiAgICAqIHJldHVybnMgYSBkZWNvcmF0aW9u
IGxpc3Qgb2YgdGhlIGZvcm0KICAgICogW2luZGV4XzAsIHN0eWxlXzAsIGluZGV4XzEsIHN0eWxl
XzEsIC4uLiwgaW5kZXhfbiwgc3R5bGVfbl0KICAgICogd2hlcmUgaW5kZXhfbiBpcyBhbiBpbmRl
eCBpbnRvIHRoZSBzb3VyY2VDb2RlLCBhbmQgc3R5bGVfbiBpcyBhIHN0eWxlCiAgICAqIGNvbnN0
YW50IGxpa2UgUFJfUExBSU4uICBpbmRleF9uLTEgPD0gaW5kZXhfbiwgYW5kIHN0eWxlX24tMSBh
cHBsaWVzIHRvCiAgICAqIGFsbCBjaGFyYWN0ZXJzIGluIHNvdXJjZUNvZGVbaW5kZXhfbi0xOmlu
ZGV4X25dLgogICAgKgogICAgKiBUaGUgc3R5bGVQYXR0ZXJucyBpcyBhIGxpc3Qgd2hvc2UgZWxl
bWVudHMgaGF2ZSB0aGUgZm9ybQogICAgKiBbc3R5bGUgOiBzdHJpbmcsIHBhdHRlcm4gOiBSZWdF
eHAsIERFUFJFQ0FURUQsIHNob3J0Y3V0IDogc3RyaW5nXS4KICAgICoKICAgICogU3R5bGUgaXMg
YSBzdHlsZSBjb25zdGFudCBsaWtlIFBSX1BMQUlOLCBvciBjYW4gYmUgYSBzdHJpbmcgb2YgdGhl
CiAgICAqIGZvcm0gJ2xhbmctRk9PJywgd2hlcmUgRk9PIGlzIGEgbGFuZ3VhZ2UgZXh0ZW5zaW9u
IGRlc2NyaWJpbmcgdGhlCiAgICAqIGxhbmd1YWdlIG9mIHRoZSBwb3J0aW9uIG9mIHRoZSB0b2tl
biBpbiAkMSBhZnRlciBwYXR0ZXJuIGV4ZWN1dGVzLgogICAgKiBFLmcuLCBpZiBzdHlsZSBpcyAn
bGFuZy1saXNwJywgYW5kIGdyb3VwIDEgY29udGFpbnMgdGhlIHRleHQKICAgICogJyhoZWxsbyAo
d29ybGQpKScsIHRoZW4gdGhhdCBwb3J0aW9uIG9mIHRoZSB0b2tlbiB3aWxsIGJlIHBhc3NlZCB0
byB0aGUKICAgICogcmVnaXN0ZXJlZCBsaXNwIGhhbmRsZXIgZm9yIGZvcm1hdHRpbmcuCiAgICAq
IFRoZSB0ZXh0IGJlZm9yZSBhbmQgYWZ0ZXIgZ3JvdXAgMSB3aWxsIGJlIHJlc3R5bGVkIHVzaW5n
IHRoaXMgZGVjb3JhdG9yCiAgICAqIHNvIGRlY29yYXRvcnMgc2hvdWxkIHRha2UgY2FyZSB0aGF0
IHRoaXMgZG9lc24ndCByZXN1bHQgaW4gaW5maW5pdGUKICAgICogcmVjdXJzaW9uLiAgRm9yIGV4
YW1wbGUsIHRoZSBIVE1MIGxleGVyIHJ1bGUgZm9yIFNDUklQVCBlbGVtZW50cyBsb29rcwogICAg
KiBzb21ldGhpbmcgbGlrZSBbJ2xhbmctanMnLCAvPFtzXWNyaXB0PiguKz8pPFwvc2NyaXB0Pi9d
LiAgVGhpcyBtYXkgbWF0Y2gKICAgICogJzxzY3JpcHQ+Zm9vKCk8XC9zY3JpcHQ+Jywgd2hpY2gg
d291bGQgY2F1c2UgdGhlIGN1cnJlbnQgZGVjb3JhdG9yIHRvCiAgICAqIGJlIGNhbGxlZCB3aXRo
ICc8c2NyaXB0Picgd2hpY2ggd291bGQgbm90IG1hdGNoIHRoZSBzYW1lIHJ1bGUgc2luY2UKICAg
ICogZ3JvdXAgMSBtdXN0IG5vdCBiZSBlbXB0eSwgc28gaXQgd291bGQgYmUgaW5zdGVhZCBzdHls
ZWQgYXMgUFJfVEFHIGJ5CiAgICAqIHRoZSBnZW5lcmljIHRhZyBydWxlLiAgVGhlIGhhbmRsZXIg
cmVnaXN0ZXJlZCBmb3IgdGhlICdqcycgZXh0ZW5zaW9uIHdvdWxkCiAgICAqIHRoZW4gYmUgY2Fs
bGVkIHdpdGggJ2ZvbygpJywgYW5kIGZpbmFsbHksIHRoZSBjdXJyZW50IGRlY29yYXRvciB3b3Vs
ZAogICAgKiBiZSBjYWxsZWQgd2l0aCAnPFwvc2NyaXB0Picgd2hpY2ggd291bGQgbm90IG1hdGNo
IHRoZSBvcmlnaW5hbCBydWxlIGFuZAogICAgKiBzbyB0aGUgZ2VuZXJpYyB0YWcgcnVsZSB3b3Vs
ZCBpZGVudGlmeSBpdCBhcyBhIHRhZy4KICAgICoKICAgICogUGF0dGVybiBtdXN0IG9ubHkgbWF0
Y2ggcHJlZml4ZXMsIGFuZCBpZiBpdCBtYXRjaGVzIGEgcHJlZml4LCB0aGVuIHRoYXQKICAgICog
bWF0Y2ggaXMgY29uc2lkZXJlZCBhIHRva2VuIHdpdGggdGhlIHNhbWUgc3R5bGUuCiAgICAqCiAg
ICAqIENvbnRleHQgaXMgYXBwbGllZCB0byB0aGUgbGFzdCBub24td2hpdGVzcGFjZSwgbm9uLWNv
bW1lbnQgdG9rZW4KICAgICogcmVjb2duaXplZC4KICAgICoKICAgICogU2hvcnRjdXQgaXMgYW4g
b3B0aW9uYWwgc3RyaW5nIG9mIGNoYXJhY3RlcnMsIGFueSBvZiB3aGljaCwgaWYgdGhlIGZpcnN0
CiAgICAqIGNoYXJhY3RlciwgZ3VyYW50ZWUgdGhhdCB0aGlzIHBhdHRlcm4gYW5kIG9ubHkgdGhp
cyBwYXR0ZXJuIG1hdGNoZXMuCiAgICAqCiAgICAqIEBwYXJhbSB7QXJyYXl9IHNob3J0Y3V0U3R5
bGVQYXR0ZXJucyBwYXR0ZXJucyB0aGF0IGFsd2F5cyBzdGFydCB3aXRoCiAgICAqICAgYSBrbm93
biBjaGFyYWN0ZXIuICBNdXN0IGhhdmUgYSBzaG9ydGN1dCBzdHJpbmcuCiAgICAqIEBwYXJhbSB7
QXJyYXl9IGZhbGx0aHJvdWdoU3R5bGVQYXR0ZXJucyBwYXR0ZXJucyB0aGF0IHdpbGwgYmUgdHJp
ZWQgaW4KICAgICogICBvcmRlciBpZiB0aGUgc2hvcnRjdXQgb25lcyBmYWlsLiAgTWF5IGhhdmUg
c2hvcnRjdXRzLgogICAgKgogICAgKiBAcmV0dXJuIHtmdW5jdGlvbiAoT2JqZWN0KX0gYQogICAg
KiAgIGZ1bmN0aW9uIHRoYXQgdGFrZXMgc291cmNlIGNvZGUgYW5kIHJldHVybnMgYSBsaXN0IG9m
IGRlY29yYXRpb25zLgogICAgKi8KICBmdW5jdGlvbiBjcmVhdGVTaW1wbGVMZXhlcihzaG9ydGN1
dFN0eWxlUGF0dGVybnMsIGZhbGx0aHJvdWdoU3R5bGVQYXR0ZXJucykgewogICAgdmFyIHNob3J0
Y3V0cyA9IHt9OwogICAgdmFyIHRva2VuaXplcjsKICAgIChmdW5jdGlvbiAoKSB7CiAgICAgIHZh
ciBhbGxQYXR0ZXJucyA9IHNob3J0Y3V0U3R5bGVQYXR0ZXJucy5jb25jYXQoZmFsbHRocm91Z2hT
dHlsZVBhdHRlcm5zKTsKICAgICAgdmFyIGFsbFJlZ2V4cyA9IFtdOwogICAgICB2YXIgcmVnZXhL
ZXlzID0ge307CiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gYWxsUGF0dGVybnMubGVuZ3RoOyBp
IDwgbjsgKytpKSB7CiAgICAgICAgdmFyIHBhdHRlcm5QYXJ0cyA9IGFsbFBhdHRlcm5zW2ldOwog
ICAgICAgIHZhciBzaG9ydGN1dENoYXJzID0gcGF0dGVyblBhcnRzWzNdOwogICAgICAgIGlmIChz
aG9ydGN1dENoYXJzKSB7CiAgICAgICAgICBmb3IgKHZhciBjID0gc2hvcnRjdXRDaGFycy5sZW5n
dGg7IC0tYyA+PSAwOykgewogICAgICAgICAgICBzaG9ydGN1dHNbc2hvcnRjdXRDaGFycy5jaGFy
QXQoYyldID0gcGF0dGVyblBhcnRzOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB2YXIg
cmVnZXggPSBwYXR0ZXJuUGFydHNbMV07CiAgICAgICAgdmFyIGsgPSAnJyArIHJlZ2V4OwogICAg
ICAgIGlmICghcmVnZXhLZXlzLmhhc093blByb3BlcnR5KGspKSB7CiAgICAgICAgICBhbGxSZWdl
eHMucHVzaChyZWdleCk7CiAgICAgICAgICByZWdleEtleXNba10gPSBudWxsOwogICAgICAgIH0K
ICAgICAgfQogICAgICBhbGxSZWdleHMucHVzaCgvW1wwLVx1ZmZmZl0vKTsKICAgICAgdG9rZW5p
emVyID0gY29tYmluZVByZWZpeFBhdHRlcm5zKGFsbFJlZ2V4cyk7CiAgICB9KSgpOwoKICAgIHZh
ciBuUGF0dGVybnMgPSBmYWxsdGhyb3VnaFN0eWxlUGF0dGVybnMubGVuZ3RoOwogICAgdmFyIG5v
dFdzID0gL1xTLzsKCiAgICAvKioKICAgICAqIExleGVzIGpvYi5zb3VyY2UgYW5kIHByb2R1Y2Vz
IGFuIG91dHB1dCBhcnJheSBqb2IuZGVjb3JhdGlvbnMgb2Ygc3R5bGUKICAgICAqIGNsYXNzZXMg
cHJlY2VkZWQgYnkgdGhlIHBvc2l0aW9uIGF0IHdoaWNoIHRoZXkgc3RhcnQgaW4gam9iLnNvdXJj
ZSBpbgogICAgICogb3JkZXIuCiAgICAgKgogICAgICogQHBhcmFtIHtPYmplY3R9IGpvYiBhbiBv
YmplY3QgbGlrZSB7QGNvZGUKICAgICAqICAgIHNvdXJjZToge3N0cmluZ30gc291cmNlVGV4dCBw
bGFpbiB0ZXh0LAogICAgICogICAgYmFzZVBvczoge2ludH0gcG9zaXRpb24gb2Ygam9iLnNvdXJj
ZSBpbiB0aGUgbGFyZ2VyIGNodW5rIG9mCiAgICAgKiAgICAgICAgc291cmNlQ29kZS4KICAgICAq
IH0KICAgICAqLwogICAgdmFyIGRlY29yYXRlID0gZnVuY3Rpb24gKGpvYikgewogICAgICB2YXIg
c291cmNlQ29kZSA9IGpvYi5zb3VyY2UsIGJhc2VQb3MgPSBqb2IuYmFzZVBvczsKICAgICAgLyoq
IEV2ZW4gZW50cmllcyBhcmUgcG9zaXRpb25zIGluIHNvdXJjZSBpbiBhc2NlbmRpbmcgb3JkZXIu
ICBPZGQgZW50aWVzCiAgICAgICAgKiBhcmUgc3R5bGUgbWFya2VycyAoZS5nLiwgUFJfQ09NTUVO
VCkgdGhhdCBydW4gZnJvbSB0aGF0IHBvc2l0aW9uIHVudGlsCiAgICAgICAgKiB0aGUgZW5kLgog
ICAgICAgICogQHR5cGUge0FycmF5LjxudW1iZXJ8c3RyaW5nPn0KICAgICAgICAqLwogICAgICB2
YXIgZGVjb3JhdGlvbnMgPSBbYmFzZVBvcywgUFJfUExBSU5dOwogICAgICB2YXIgcG9zID0gMDsg
IC8vIGluZGV4IGludG8gc291cmNlQ29kZQogICAgICB2YXIgdG9rZW5zID0gc291cmNlQ29kZS5t
YXRjaCh0b2tlbml6ZXIpIHx8IFtdOwogICAgICB2YXIgc3R5bGVDYWNoZSA9IHt9OwoKICAgICAg
Zm9yICh2YXIgdGkgPSAwLCBuVG9rZW5zID0gdG9rZW5zLmxlbmd0aDsgdGkgPCBuVG9rZW5zOyAr
K3RpKSB7CiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW3RpXTsKICAgICAgICB2YXIgc3R5bGUg
PSBzdHlsZUNhY2hlW3Rva2VuXTsKICAgICAgICB2YXIgbWF0Y2ggPSB2b2lkIDA7CgogICAgICAg
IHZhciBpc0VtYmVkZGVkOwogICAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7
CiAgICAgICAgICBpc0VtYmVkZGVkID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAg
IHZhciBwYXR0ZXJuUGFydHMgPSBzaG9ydGN1dHNbdG9rZW4uY2hhckF0KDApXTsKICAgICAgICAg
IGlmIChwYXR0ZXJuUGFydHMpIHsKICAgICAgICAgICAgbWF0Y2ggPSB0b2tlbi5tYXRjaChwYXR0
ZXJuUGFydHNbMV0pOwogICAgICAgICAgICBzdHlsZSA9IHBhdHRlcm5QYXJ0c1swXTsKICAgICAg
ICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgblBhdHRlcm5zOyAr
K2kpIHsKICAgICAgICAgICAgICBwYXR0ZXJuUGFydHMgPSBmYWxsdGhyb3VnaFN0eWxlUGF0dGVy
bnNbaV07CiAgICAgICAgICAgICAgbWF0Y2ggPSB0b2tlbi5tYXRjaChwYXR0ZXJuUGFydHNbMV0p
OwogICAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgc3R5bGUgPSBwYXR0
ZXJuUGFydHNbMF07CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAg
ICAgICAgIH0KCiAgICAgICAgICAgIGlmICghbWF0Y2gpIHsgIC8vIG1ha2Ugc3VyZSB0aGF0IHdl
IG1ha2UgcHJvZ3Jlc3MKICAgICAgICAgICAgICBzdHlsZSA9IFBSX1BMQUlOOwogICAgICAgICAg
ICB9CiAgICAgICAgICB9CgogICAgICAgICAgaXNFbWJlZGRlZCA9IHN0eWxlLmxlbmd0aCA+PSA1
ICYmICdsYW5nLScgPT09IHN0eWxlLnN1YnN0cmluZygwLCA1KTsKICAgICAgICAgIGlmIChpc0Vt
YmVkZGVkICYmICEobWF0Y2ggJiYgdHlwZW9mIG1hdGNoWzFdID09PSAnc3RyaW5nJykpIHsKICAg
ICAgICAgICAgaXNFbWJlZGRlZCA9IGZhbHNlOwogICAgICAgICAgICBzdHlsZSA9IFBSX1NPVVJD
RTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoIWlzRW1iZWRkZWQpIHsgc3R5bGVDYWNoZVt0
b2tlbl0gPSBzdHlsZTsgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHRva2VuU3RhcnQgPSBwb3M7
CiAgICAgICAgcG9zICs9IHRva2VuLmxlbmd0aDsKCiAgICAgICAgaWYgKCFpc0VtYmVkZGVkKSB7
CiAgICAgICAgICBkZWNvcmF0aW9ucy5wdXNoKGJhc2VQb3MgKyB0b2tlblN0YXJ0LCBzdHlsZSk7
CiAgICAgICAgfSBlbHNlIHsgIC8vIFRyZWF0IGdyb3VwIDEgYXMgYW4gZW1iZWRkZWQgYmxvY2sg
b2Ygc291cmNlIGNvZGUuCiAgICAgICAgICB2YXIgZW1iZWRkZWRTb3VyY2UgPSBtYXRjaFsxXTsK
ICAgICAgICAgIHZhciBlbWJlZGRlZFNvdXJjZVN0YXJ0ID0gdG9rZW4uaW5kZXhPZihlbWJlZGRl
ZFNvdXJjZSk7CiAgICAgICAgICB2YXIgZW1iZWRkZWRTb3VyY2VFbmQgPSBlbWJlZGRlZFNvdXJj
ZVN0YXJ0ICsgZW1iZWRkZWRTb3VyY2UubGVuZ3RoOwogICAgICAgICAgaWYgKG1hdGNoWzJdKSB7
CiAgICAgICAgICAgIC8vIElmIGVtYmVkZGVkU291cmNlIGNhbiBiZSBibGFuaywgdGhlbiBpdCB3
b3VsZCBtYXRjaCBhdCB0aGUKICAgICAgICAgICAgLy8gYmVnaW5uaW5nIHdoaWNoIHdvdWxkIGNh
dXNlIHVzIHRvIGluZmluaXRlbHkgcmVjdXJzZSBvbiB0aGUKICAgICAgICAgICAgLy8gZW50aXJl
IHRva2VuLCBzbyB3ZSBjYXRjaCB0aGUgcmlnaHQgY29udGV4dCBpbiBtYXRjaFsyXS4KICAgICAg
ICAgICAgZW1iZWRkZWRTb3VyY2VFbmQgPSB0b2tlbi5sZW5ndGggLSBtYXRjaFsyXS5sZW5ndGg7
CiAgICAgICAgICAgIGVtYmVkZGVkU291cmNlU3RhcnQgPSBlbWJlZGRlZFNvdXJjZUVuZCAtIGVt
YmVkZGVkU291cmNlLmxlbmd0aDsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBsYW5nID0gc3R5
bGUuc3Vic3RyaW5nKDUpOwogICAgICAgICAgLy8gRGVjb3JhdGUgdGhlIGxlZnQgb2YgdGhlIGVt
YmVkZGVkIHNvdXJjZQogICAgICAgICAgYXBwZW5kRGVjb3JhdGlvbnMoCiAgICAgICAgICAgICAg
YmFzZVBvcyArIHRva2VuU3RhcnQsCiAgICAgICAgICAgICAgdG9rZW4uc3Vic3RyaW5nKDAsIGVt
YmVkZGVkU291cmNlU3RhcnQpLAogICAgICAgICAgICAgIGRlY29yYXRlLCBkZWNvcmF0aW9ucyk7
CiAgICAgICAgICAvLyBEZWNvcmF0ZSB0aGUgZW1iZWRkZWQgc291cmNlCiAgICAgICAgICBhcHBl
bmREZWNvcmF0aW9ucygKICAgICAgICAgICAgICBiYXNlUG9zICsgdG9rZW5TdGFydCArIGVtYmVk
ZGVkU291cmNlU3RhcnQsCiAgICAgICAgICAgICAgZW1iZWRkZWRTb3VyY2UsCiAgICAgICAgICAg
ICAgbGFuZ0hhbmRsZXJGb3JFeHRlbnNpb24obGFuZywgZW1iZWRkZWRTb3VyY2UpLAogICAgICAg
ICAgICAgIGRlY29yYXRpb25zKTsKICAgICAgICAgIC8vIERlY29yYXRlIHRoZSByaWdodCBvZiB0
aGUgZW1iZWRkZWQgc2VjdGlvbgogICAgICAgICAgYXBwZW5kRGVjb3JhdGlvbnMoCiAgICAgICAg
ICAgICAgYmFzZVBvcyArIHRva2VuU3RhcnQgKyBlbWJlZGRlZFNvdXJjZUVuZCwKICAgICAgICAg
ICAgICB0b2tlbi5zdWJzdHJpbmcoZW1iZWRkZWRTb3VyY2VFbmQpLAogICAgICAgICAgICAgIGRl
Y29yYXRlLCBkZWNvcmF0aW9ucyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGpvYi5kZWNvcmF0
aW9ucyA9IGRlY29yYXRpb25zOwogICAgfTsKICAgIHJldHVybiBkZWNvcmF0ZTsKICB9CgogIC8q
KiByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhIGxpc3Qgb2YgZGVjb3JhdGlvbnMg
ZnJvbSBzb3VyY2UgdGV4dC4KICAgICoKICAgICogVGhpcyBjb2RlIHRyZWF0cyAiLCAnLCBhbmQg
YCBhcyBzdHJpbmcgZGVsaW1pdGVycywgYW5kIFwgYXMgYSBzdHJpbmcKICAgICogZXNjYXBlLiAg
SXQgZG9lcyBub3QgcmVjb2duaXplIHBlcmwncyBxcSgpIHN0eWxlIHN0cmluZ3MuCiAgICAqIEl0
IGhhcyBubyBzcGVjaWFsIGhhbmRsaW5nIGZvciBkb3VibGUgZGVsaW1pdGVyIGVzY2FwZXMgYXMg
aW4gYmFzaWMsIG9yCiAgICAqIHRoZSB0cmlwbGVkIGRlbGltaXRlcnMgdXNlZCBpbiBweXRob24s
IGJ1dCBzaG91bGQgd29yayBvbiB0aG9zZSByZWdhcmRsZXNzCiAgICAqIGFsdGhvdWdoIGluIHRo
b3NlIGNhc2VzIGEgc2luZ2xlIHN0cmluZyBsaXRlcmFsIG1heSBiZSBicm9rZW4gdXAgaW50bwog
ICAgKiBtdWx0aXBsZSBhZGphY2VudCBzdHJpbmcgbGl0ZXJhbHMuCiAgICAqCiAgICAqIEl0IHJl
Y29nbml6ZXMgQywgQysrLCBhbmQgc2hlbGwgc3R5bGUgY29tbWVudHMuCiAgICAqCiAgICAqIEBw
YXJhbSB7T2JqZWN0fSBvcHRpb25zIGEgc2V0IG9mIG9wdGlvbmFsIHBhcmFtZXRlcnMuCiAgICAq
IEByZXR1cm4ge2Z1bmN0aW9uIChPYmplY3QpfSBhIGZ1bmN0aW9uIHRoYXQgZXhhbWluZXMgdGhl
IHNvdXJjZSBjb2RlCiAgICAqICAgICBpbiB0aGUgaW5wdXQgam9iIGFuZCBidWlsZHMgdGhlIGRl
Y29yYXRpb24gbGlzdC4KICAgICovCiAgZnVuY3Rpb24gc291cmNlRGVjb3JhdG9yKG9wdGlvbnMp
IHsKICAgIHZhciBzaG9ydGN1dFN0eWxlUGF0dGVybnMgPSBbXSwgZmFsbHRocm91Z2hTdHlsZVBh
dHRlcm5zID0gW107CiAgICBpZiAob3B0aW9uc1sndHJpcGxlUXVvdGVkU3RyaW5ncyddKSB7CiAg
ICAgIC8vICcnJ211bHRpLWxpbmUtc3RyaW5nJycnLCAnc2luZ2xlLWxpbmUtc3RyaW5nJywgYW5k
IGRvdWJsZS1xdW90ZWQKICAgICAgc2hvcnRjdXRTdHlsZVBhdHRlcm5zLnB1c2goCiAgICAgICAg
ICBbUFJfU1RSSU5HLCAgL14oPzpcJ1wnXCcoPzpbXlwnXFxdfFxcW1xzXFNdfFwnezEsMn0oPz1b
XlwnXSkpKig/OlwnXCdcJ3wkKXxcIlwiXCIoPzpbXlwiXFxdfFxcW1xzXFNdfFwiezEsMn0oPz1b
XlwiXSkpKig/OlwiXCJcInwkKXxcJyg/OlteXFxcJ118XFxbXHNcU10pKig/OlwnfCQpfFwiKD86
W15cXFwiXXxcXFtcc1xTXSkqKD86XCJ8JCkpLywKICAgICAgICAgICBudWxsLCAnXCciJ10pOwog
ICAgfSBlbHNlIGlmIChvcHRpb25zWydtdWx0aUxpbmVTdHJpbmdzJ10pIHsKICAgICAgLy8gJ211
bHRpLWxpbmUtc3RyaW5nJywgIm11bHRpLWxpbmUtc3RyaW5nIgogICAgICBzaG9ydGN1dFN0eWxl
UGF0dGVybnMucHVzaCgKICAgICAgICAgIFtQUl9TVFJJTkcsICAvXig/OlwnKD86W15cXFwnXXxc
XFtcc1xTXSkqKD86XCd8JCl8XCIoPzpbXlxcXCJdfFxcW1xzXFNdKSooPzpcInwkKXxcYCg/Olte
XFxcYF18XFxbXHNcU10pKig/OlxgfCQpKS8sCiAgICAgICAgICAgbnVsbCwgJ1wnImAnXSk7CiAg
ICB9IGVsc2UgewogICAgICAvLyAnc2luZ2xlLWxpbmUtc3RyaW5nJywgInNpbmdsZS1saW5lLXN0
cmluZyIKICAgICAgc2hvcnRjdXRTdHlsZVBhdHRlcm5zLnB1c2goCiAgICAgICAgICBbUFJfU1RS
SU5HLAogICAgICAgICAgIC9eKD86XCcoPzpbXlxcXCdcclxuXXxcXC4pKig/OlwnfCQpfFwiKD86
W15cXFwiXHJcbl18XFwuKSooPzpcInwkKSkvLAogICAgICAgICAgIG51bGwsICciXCcnXSk7CiAg
ICB9CiAgICBpZiAob3B0aW9uc1sndmVyYmF0aW1TdHJpbmdzJ10pIHsKICAgICAgLy8gdmVyYmF0
aW0tc3RyaW5nLWxpdGVyYWwgcHJvZHVjdGlvbiBmcm9tIHRoZSBDIyBncmFtbWFyLiAgU2VlIGlz
c3VlIDkzLgogICAgICBmYWxsdGhyb3VnaFN0eWxlUGF0dGVybnMucHVzaCgKICAgICAgICAgIFtQ
Ul9TVFJJTkcsIC9eQFwiKD86W15cIl18XCJcIikqKD86XCJ8JCkvLCBudWxsXSk7CiAgICB9CiAg
ICB2YXIgaGMgPSBvcHRpb25zWydoYXNoQ29tbWVudHMnXTsKICAgIGlmIChoYykgewogICAgICBp
ZiAob3B0aW9uc1snY1N0eWxlQ29tbWVudHMnXSkgewogICAgICAgIGlmIChoYyA+IDEpIHsgIC8v
IG11bHRpbGluZSBoYXNoIGNvbW1lbnRzCiAgICAgICAgICBzaG9ydGN1dFN0eWxlUGF0dGVybnMu
cHVzaCgKICAgICAgICAgICAgICBbUFJfQ09NTUVOVCwgL14jKD86IyMoPzpbXiNdfCMoPyEjIykp
Kig/OiMjI3wkKXwuKikvLCBudWxsLCAnIyddKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAg
Ly8gU3RvcCBDIHByZXByb2Nlc3NvciBkZWNsYXJhdGlvbnMgYXQgYW4gdW5jbG9zZWQgb3BlbiBj
b21tZW50CiAgICAgICAgICBzaG9ydGN1dFN0eWxlUGF0dGVybnMucHVzaCgKICAgICAgICAgICAg
ICBbUFJfQ09NTUVOVCwgL14jKD86KD86ZGVmaW5lfGVsaWZ8ZWxzZXxlbmRpZnxlcnJvcnxpZmRl
ZnxpbmNsdWRlfGlmbmRlZnxsaW5lfHByYWdtYXx1bmRlZnx3YXJuaW5nKVxifFteXHJcbl0qKS8s
CiAgICAgICAgICAgICAgIG51bGwsICcjJ10pOwogICAgICAgIH0KICAgICAgICBmYWxsdGhyb3Vn
aFN0eWxlUGF0dGVybnMucHVzaCgKICAgICAgICAgICAgW1BSX1NUUklORywKICAgICAgICAgICAg
IC9ePCg/Oig/Oig/OlwuXC5cLykqfFwvPykoPzpbXHctXSsoPzpcL1tcdy1dKykrKT9bXHctXStc
Lmh8W2Etel1cdyopPi8sCiAgICAgICAgICAgICBudWxsXSk7CiAgICAgIH0gZWxzZSB7CiAgICAg
ICAgc2hvcnRjdXRTdHlsZVBhdHRlcm5zLnB1c2goW1BSX0NPTU1FTlQsIC9eI1teXHJcbl0qLywg
bnVsbCwgJyMnXSk7CiAgICAgIH0KICAgIH0KICAgIGlmIChvcHRpb25zWydjU3R5bGVDb21tZW50
cyddKSB7CiAgICAgIGZhbGx0aHJvdWdoU3R5bGVQYXR0ZXJucy5wdXNoKFtQUl9DT01NRU5ULCAv
XlwvXC9bXlxyXG5dKi8sIG51bGxdKTsKICAgICAgZmFsbHRocm91Z2hTdHlsZVBhdHRlcm5zLnB1
c2goCiAgICAgICAgICBbUFJfQ09NTUVOVCwgL15cL1wqW1xzXFNdKj8oPzpcKlwvfCQpLywgbnVs
bF0pOwogICAgfQogICAgaWYgKG9wdGlvbnNbJ3JlZ2V4TGl0ZXJhbHMnXSkgewogICAgICB2YXIg
UkVHRVhfTElURVJBTCA9ICgKICAgICAgICAgIC8vIEEgcmVndWxhciBleHByZXNzaW9uIGxpdGVy
YWwgc3RhcnRzIHdpdGggYSBzbGFzaCB0aGF0IGlzCiAgICAgICAgICAvLyBub3QgZm9sbG93ZWQg
YnkgKiBvciAvIHNvIHRoYXQgaXQgaXMgbm90IGNvbmZ1c2VkIHdpdGgKICAgICAgICAgIC8vIGNv
bW1lbnRzLgogICAgICAgICAgJy8oPz1bXi8qXSknCiAgICAgICAgICAvLyBhbmQgdGhlbiBjb250
YWlucyBhbnkgbnVtYmVyIG9mIHJhdyBjaGFyYWN0ZXJzLAogICAgICAgICAgKyAnKD86W14vXFx4
NUJcXHg1Q10nCiAgICAgICAgICAvLyBlc2NhcGUgc2VxdWVuY2VzIChceDVDKSwKICAgICAgICAg
ICsgICAgJ3xcXHg1Q1tcXHNcXFNdJwogICAgICAgICAgLy8gb3Igbm9uLW5lc3RpbmcgY2hhcmFj
dGVyIHNldHMgKFx4NUJceDVEKTsKICAgICAgICAgICsgICAgJ3xcXHg1Qig/OlteXFx4NUNcXHg1
RF18XFx4NUNbXFxzXFxTXSkqKD86XFx4NUR8JCkpKycKICAgICAgICAgIC8vIGZpbmFsbHkgY2xv
c2VkIGJ5IGEgLy4KICAgICAgICAgICsgJy8nKTsKICAgICAgZmFsbHRocm91Z2hTdHlsZVBhdHRl
cm5zLnB1c2goCiAgICAgICAgICBbJ2xhbmctcmVnZXgnLAogICAgICAgICAgIG5ldyBSZWdFeHAo
J14nICsgUkVHRVhQX1BSRUNFREVSX1BBVFRFUk4gKyAnKCcgKyBSRUdFWF9MSVRFUkFMICsgJykn
KQogICAgICAgICAgIF0pOwogICAgfQoKICAgIHZhciBrZXl3b3JkcyA9IG9wdGlvbnNbJ2tleXdv
cmRzJ10ucmVwbGFjZSgvXlxzK3xccyskL2csICcnKTsKICAgIGlmIChrZXl3b3Jkcy5sZW5ndGgp
IHsKICAgICAgZmFsbHRocm91Z2hTdHlsZVBhdHRlcm5zLnB1c2goCiAgICAgICAgICBbUFJfS0VZ
V09SRCwKICAgICAgICAgICBuZXcgUmVnRXhwKCdeKD86JyArIGtleXdvcmRzLnJlcGxhY2UoL1xz
Ky9nLCAnfCcpICsgJylcXGInKSwgbnVsbF0pOwogICAgfQoKICAgIHNob3J0Y3V0U3R5bGVQYXR0
ZXJucy5wdXNoKFtQUl9QTEFJTiwgICAgICAgL15ccysvLCBudWxsLCAnIFxyXG5cdFx4QTAnXSk7
CiAgICBmYWxsdGhyb3VnaFN0eWxlUGF0dGVybnMucHVzaCgKICAgICAgICAvLyBUT0RPKG1pa2Vz
YW11ZWwpOiByZWNvZ25pemUgbm9uLWxhdGluIGxldHRlcnMgYW5kIG51bWVyYWxzIGluIGlkZW50
cwogICAgICAgIFtQUl9MSVRFUkFMLCAgICAgL15AW2Etel8kXVthLXpfJEAwLTldKi9pLCBudWxs
XSwKICAgICAgICBbUFJfVFlQRSwgICAgICAgIC9eQD9bQS1aXStbYS16XVtBLVphLXpfJEAwLTld
Ki8sIG51bGxdLAogICAgICAgIFtQUl9QTEFJTiwgICAgICAgL15bYS16XyRdW2Etel8kQDAtOV0q
L2ksIG51bGxdLAogICAgICAgIFtQUl9MSVRFUkFMLAogICAgICAgICBuZXcgUmVnRXhwKAogICAg
ICAgICAgICAgJ14oPzonCiAgICAgICAgICAgICAvLyBBIGhleCBudW1iZXIKICAgICAgICAgICAg
ICsgJzB4W2EtZjAtOV0rJwogICAgICAgICAgICAgLy8gb3IgYW4gb2N0YWwgb3IgZGVjaW1hbCBu
dW1iZXIsCiAgICAgICAgICAgICArICd8KD86XFxkKD86X1xcZCspKlxcZCooPzpcXC5cXGQqKT98
XFwuXFxkXFwrKScKICAgICAgICAgICAgIC8vIHBvc3NpYmx5IGluIHNjaWVudGlmaWMgbm90YXRp
b24KICAgICAgICAgICAgICsgJyg/OmVbK1xcLV0/XFxkKyk/JwogICAgICAgICAgICAgKyAnKScK
ICAgICAgICAgICAgIC8vIHdpdGggYW4gb3B0aW9uYWwgbW9kaWZpZXIgbGlrZSBVTCBmb3IgdW5z
aWduZWQgbG9uZwogICAgICAgICAgICAgKyAnW2Etel0qJywgJ2knKSwKICAgICAgICAgbnVsbCwg
JzAxMjM0NTY3ODknXSwKICAgICAgICAvLyBEb24ndCB0cmVhdCBlc2NhcGVkIHF1b3RlcyBpbiBi
YXNoIGFzIHN0YXJ0aW5nIHN0cmluZ3MuICBTZWUgaXNzdWUgMTQ0LgogICAgICAgIFtQUl9QTEFJ
TiwgICAgICAgL15cXFtcc1xTXT8vLCBudWxsXSwKICAgICAgICBbUFJfUFVOQ1RVQVRJT04sIC9e
LlteXHNcd1wuJEBcJ1wiXGBcL1wjXFxdKi8sIG51bGxdKTsKCiAgICByZXR1cm4gY3JlYXRlU2lt
cGxlTGV4ZXIoc2hvcnRjdXRTdHlsZVBhdHRlcm5zLCBmYWxsdGhyb3VnaFN0eWxlUGF0dGVybnMp
OwogIH0KCiAgdmFyIGRlY29yYXRlU291cmNlID0gc291cmNlRGVjb3JhdG9yKHsKICAgICAgICAn
a2V5d29yZHMnOiBBTExfS0VZV09SRFMsCiAgICAgICAgJ2hhc2hDb21tZW50cyc6IHRydWUsCiAg
ICAgICAgJ2NTdHlsZUNvbW1lbnRzJzogdHJ1ZSwKICAgICAgICAnbXVsdGlMaW5lU3RyaW5ncyc6
IHRydWUsCiAgICAgICAgJ3JlZ2V4TGl0ZXJhbHMnOiB0cnVlCiAgICAgIH0pOwoKICAvKioKICAg
KiBHaXZlbiBhIERPTSBzdWJ0cmVlLCB3cmFwcyBpdCBpbiBhIGxpc3QsIGFuZCBwdXRzIGVhY2gg
bGluZSBpbnRvIGl0cyBvd24KICAgKiBsaXN0IGl0ZW0uCiAgICoKICAgKiBAcGFyYW0ge05vZGV9
IG5vZGUgbW9kaWZpZWQgaW4gcGxhY2UuICBJdHMgY29udGVudCBpcyBwdWxsZWQgaW50byBhbgog
ICAqICAgICBIVE1MT0xpc3RFbGVtZW50LCBhbmQgZWFjaCBsaW5lIGlzIG1vdmVkIGludG8gYSBz
ZXBhcmF0ZSBsaXN0IGl0ZW0uCiAgICogICAgIFRoaXMgcmVxdWlyZXMgY2xvbmluZyBlbGVtZW50
cywgc28gdGhlIGlucHV0IG1pZ2h0IG5vdCBoYXZlIHVuaXF1ZQogICAqICAgICBJRHMgYWZ0ZXIg
bnVtYmVyaW5nLgogICAqLwogIGZ1bmN0aW9uIG51bWJlckxpbmVzKG5vZGUsIG9wdF9zdGFydExp
bmVOdW0pIHsKICAgIHZhciBub2NvZGUgPSAvKD86Xnxccylub2NvZGUoPzpcc3wkKS87CiAgICB2
YXIgbGluZUJyZWFrID0gL1xyXG4/fFxuLzsKICAKICAgIHZhciBkb2N1bWVudCA9IG5vZGUub3du
ZXJEb2N1bWVudDsKICAKICAgIHZhciB3aGl0ZXNwYWNlOwogICAgaWYgKG5vZGUuY3VycmVudFN0
eWxlKSB7CiAgICAgIHdoaXRlc3BhY2UgPSBub2RlLmN1cnJlbnRTdHlsZS53aGl0ZVNwYWNlOwog
ICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSkgewogICAgICB3aGl0ZXNwYWNl
ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKQogICAg
ICAgICAgLmdldFByb3BlcnR5VmFsdWUoJ3doaXRlLXNwYWNlJyk7CiAgICB9CiAgICAvLyBJZiBp
dCdzIHByZWZvcm1hdHRlZCwgdGhlbiB3ZSBuZWVkIHRvIHNwbGl0IGxpbmVzIG9uIGxpbmUgYnJl
YWtzCiAgICAvLyBpbiBhZGRpdGlvbiB0byA8QlI+cy4KICAgIHZhciBpc1ByZWZvcm1hdHRlZCA9
IHdoaXRlc3BhY2UgJiYgJ3ByZScgPT09IHdoaXRlc3BhY2Uuc3Vic3RyaW5nKDAsIDMpOwogIAog
ICAgdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnTEknKTsKICAgIHdoaWxlIChub2Rl
LmZpcnN0Q2hpbGQpIHsKICAgICAgbGkuYXBwZW5kQ2hpbGQobm9kZS5maXJzdENoaWxkKTsKICAg
IH0KICAgIC8vIEFuIGFycmF5IG9mIGxpbmVzLiAgV2Ugc3BsaXQgYmVsb3csIHNvIHRoaXMgaXMg
aW5pdGlhbGl6ZWQgdG8gb25lCiAgICAvLyB1bi1zcGxpdCBsaW5lLgogICAgdmFyIGxpc3RJdGVt
cyA9IFtsaV07CiAgCiAgICBmdW5jdGlvbiB3YWxrKG5vZGUpIHsKICAgICAgc3dpdGNoIChub2Rl
Lm5vZGVUeXBlKSB7CiAgICAgICAgY2FzZSAxOiAgLy8gRWxlbWVudAogICAgICAgICAgaWYgKG5v
Y29kZS50ZXN0KG5vZGUuY2xhc3NOYW1lKSkgeyBicmVhazsgfQogICAgICAgICAgaWYgKCdCUicg
PT09IG5vZGUubm9kZU5hbWUpIHsKICAgICAgICAgICAgYnJlYWtBZnRlcihub2RlKTsKICAgICAg
ICAgICAgLy8gRGlzY2FyZCB0aGUgPEJSPiBzaW5jZSBpdCBpcyBub3cgZmx1c2ggYWdhaW5zdCBh
IDwvTEk+LgogICAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgICAg
bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAg
ICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDsg
Y2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHsKICAgICAgICAgICAgICB3YWxrKGNo
aWxkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgYnJlYWs7CiAgICAgICAg
Y2FzZSAzOiBjYXNlIDQ6ICAvLyBUZXh0CiAgICAgICAgICBpZiAoaXNQcmVmb3JtYXR0ZWQpIHsK
ICAgICAgICAgICAgdmFyIHRleHQgPSBub2RlLm5vZGVWYWx1ZTsKICAgICAgICAgICAgdmFyIG1h
dGNoID0gdGV4dC5tYXRjaChsaW5lQnJlYWspOwogICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAg
ICAgICAgICAgICB2YXIgZmlyc3RMaW5lID0gdGV4dC5zdWJzdHJpbmcoMCwgbWF0Y2guaW5kZXgp
OwogICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gZmlyc3RMaW5lOwogICAgICAgICAgICAg
IHZhciB0YWlsID0gdGV4dC5zdWJzdHJpbmcobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgp
OwogICAgICAgICAgICAgIGlmICh0YWlsKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0g
bm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSgKICAg
ICAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0YWlsKSwgbm9kZS5uZXh0
U2libGluZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGJyZWFrQWZ0ZXIobm9kZSk7
CiAgICAgICAgICAgICAgaWYgKCFmaXJzdExpbmUpIHsKICAgICAgICAgICAgICAgIC8vIERvbid0
IGxlYXZlIGJsYW5rIHRleHQgbm9kZXMgaW4gdGhlIERPTS4KICAgICAgICAgICAgICAgIG5vZGUu
cGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAg
IH0KICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgCiAgICAvLyBT
cGxpdCBhIGxpbmUgYWZ0ZXIgdGhlIGdpdmVuIG5vZGUuCiAgICBmdW5jdGlvbiBicmVha0FmdGVy
KGxpbmVFbmROb2RlKSB7CiAgICAgIC8vIElmIHRoZXJlJ3Mgbm90aGluZyB0byB0aGUgcmlnaHQs
IHRoZW4gd2UgY2FuIHNraXAgZW5kaW5nIHRoZSBsaW5lCiAgICAgIC8vIGhlcmUsIGFuZCBtb3Zl
IHJvb3Qtd2FyZHMgc2luY2Ugc3BsaXR0aW5nIGp1c3QgYmVmb3JlIGFuIGVuZC10YWcKICAgICAg
Ly8gd291bGQgcmVxdWlyZSB1cyB0byBjcmVhdGUgYSBidW5jaCBvZiBlbXB0eSBjb3BpZXMuCiAg
ICAgIHdoaWxlICghbGluZUVuZE5vZGUubmV4dFNpYmxpbmcpIHsKICAgICAgICBsaW5lRW5kTm9k
ZSA9IGxpbmVFbmROb2RlLnBhcmVudE5vZGU7CiAgICAgICAgaWYgKCFsaW5lRW5kTm9kZSkgeyBy
ZXR1cm47IH0KICAgICAgfQogIAogICAgICBmdW5jdGlvbiBicmVha0xlZnRPZihsaW1pdCwgY29w
eSkgewogICAgICAgIC8vIENsb25lIHNoYWxsb3dseSBpZiB0aGlzIG5vZGUgbmVlZHMgdG8gYmUg
b24gYm90aCBzaWRlcyBvZiB0aGUgYnJlYWsuCiAgICAgICAgdmFyIHJpZ2h0U2lkZSA9IGNvcHkg
PyBsaW1pdC5jbG9uZU5vZGUoZmFsc2UpIDogbGltaXQ7CiAgICAgICAgdmFyIHBhcmVudCA9IGxp
bWl0LnBhcmVudE5vZGU7CiAgICAgICAgaWYgKHBhcmVudCkgewogICAgICAgICAgLy8gV2UgY2xv
bmUgdGhlIHBhcmVudCBjaGFpbi4KICAgICAgICAgIC8vIFRoaXMgaGVscHMgdXMgcmVzdXJyZWN0
IGltcG9ydGFudCBzdHlsaW5nIGVsZW1lbnRzIHRoYXQgY3Jvc3MgbGluZXMuCiAgICAgICAgICAv
LyBFLmcuIGluIDxpPkZvbzxicj5CYXI8L2k+CiAgICAgICAgICAvLyBzaG91bGQgYmUgcmV3cml0
dGVuIHRvIDxsaT48aT5Gb288L2k+PC9saT48bGk+PGk+QmFyPC9pPjwvbGk+LgogICAgICAgICAg
dmFyIHBhcmVudENsb25lID0gYnJlYWtMZWZ0T2YocGFyZW50LCAxKTsKICAgICAgICAgIC8vIE1v
dmUgdGhlIGNsb25lIGFuZCBldmVyeXRoaW5nIHRvIHRoZSByaWdodCBvZiB0aGUgb3JpZ2luYWwK
ICAgICAgICAgIC8vIG9udG8gdGhlIGNsb25lZCBwYXJlbnQuCiAgICAgICAgICB2YXIgbmV4dCA9
IGxpbWl0Lm5leHRTaWJsaW5nOwogICAgICAgICAgcGFyZW50Q2xvbmUuYXBwZW5kQ2hpbGQocmln
aHRTaWRlKTsKICAgICAgICAgIGZvciAodmFyIHNpYmxpbmcgPSBuZXh0OyBzaWJsaW5nOyBzaWJs
aW5nID0gbmV4dCkgewogICAgICAgICAgICBuZXh0ID0gc2libGluZy5uZXh0U2libGluZzsKICAg
ICAgICAgICAgcGFyZW50Q2xvbmUuYXBwZW5kQ2hpbGQoc2libGluZyk7CiAgICAgICAgICB9CiAg
ICAgICAgfQogICAgICAgIHJldHVybiByaWdodFNpZGU7CiAgICAgIH0KICAKICAgICAgdmFyIGNv
cGllZExpc3RJdGVtID0gYnJlYWtMZWZ0T2YobGluZUVuZE5vZGUubmV4dFNpYmxpbmcsIDApOwog
IAogICAgICAvLyBXYWxrIHRoZSBwYXJlbnQgY2hhaW4gdW50aWwgd2UgcmVhY2ggYW4gdW5hdHRh
Y2hlZCBMSS4KICAgICAgZm9yICh2YXIgcGFyZW50OwogICAgICAgICAgIC8vIENoZWNrIG5vZGVU
eXBlIHNpbmNlIElFIGludmVudHMgZG9jdW1lbnQgZnJhZ21lbnRzLgogICAgICAgICAgIChwYXJl
bnQgPSBjb3BpZWRMaXN0SXRlbS5wYXJlbnROb2RlKSAmJiBwYXJlbnQubm9kZVR5cGUgPT09IDE7
KSB7CiAgICAgICAgY29waWVkTGlzdEl0ZW0gPSBwYXJlbnQ7CiAgICAgIH0KICAgICAgLy8gUHV0
IGl0IG9uIHRoZSBsaXN0IG9mIGxpbmVzIGZvciBsYXRlciBwcm9jZXNzaW5nLgogICAgICBsaXN0
SXRlbXMucHVzaChjb3BpZWRMaXN0SXRlbSk7CiAgICB9CiAgCiAgICAvLyBTcGxpdCBsaW5lcyB3
aGlsZSB0aGVyZSBhcmUgbGluZXMgbGVmdCB0byBzcGxpdC4KICAgIGZvciAodmFyIGkgPSAwOyAg
Ly8gTnVtYmVyIG9mIGxpbmVzIHRoYXQgaGF2ZSBiZWVuIHNwbGl0IHNvIGZhci4KICAgICAgICAg
aSA8IGxpc3RJdGVtcy5sZW5ndGg7ICAvLyBsZW5ndGggdXBkYXRlZCBieSBicmVha0FmdGVyIGNh
bGxzLgogICAgICAgICArK2kpIHsKICAgICAgd2FsayhsaXN0SXRlbXNbaV0pOwogICAgfQogIAog
ICAgLy8gTWFrZSBzdXJlIG51bWVyaWMgaW5kaWNlcyBzaG93IGNvcnJlY3RseS4KICAgIGlmIChv
cHRfc3RhcnRMaW5lTnVtID09PSAob3B0X3N0YXJ0TGluZU51bXwwKSkgewogICAgICBsaXN0SXRl
bXNbMF0uc2V0QXR0cmlidXRlKCd2YWx1ZScsIG9wdF9zdGFydExpbmVOdW0pOwogICAgfQogIAog
ICAgdmFyIG9sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnT0wnKTsKICAgIG9sLmNsYXNzTmFt
ZSA9ICdsaW5lbnVtcyc7CiAgICB2YXIgb2Zmc2V0ID0gTWF0aC5tYXgoMCwgKChvcHRfc3RhcnRM
aW5lTnVtIC0gMSAvKiB6ZXJvIGluZGV4ICovKSkgfCAwKSB8fCAwOwogICAgZm9yICh2YXIgaSA9
IDAsIG4gPSBsaXN0SXRlbXMubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgIGxpID0gbGlzdEl0
ZW1zW2ldOwogICAgICAvLyBTdGljayBhIGNsYXNzIG9uIHRoZSBMSXMgc28gdGhhdCBzdHlsZXNo
ZWV0cyBjYW4KICAgICAgLy8gY29sb3Igb2RkL2V2ZW4gcm93cywgb3IgYW55IG90aGVyIHJvdyBw
YXR0ZXJuIHRoYXQKICAgICAgLy8gaXMgY28tcHJpbWUgd2l0aCAxMC4KICAgICAgbGkuY2xhc3NO
YW1lID0gJ0wnICsgKChpICsgb2Zmc2V0KSAlIDEwKTsKICAgICAgaWYgKCFsaS5maXJzdENoaWxk
KSB7CiAgICAgICAgbGkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1x4QTAn
KSk7CiAgICAgIH0KICAgICAgb2wuYXBwZW5kQ2hpbGQobGkpOwogICAgfQogIAogICAgbm9kZS5h
cHBlbmRDaGlsZChvbCk7CiAgfQoKICAvKioKICAgKiBCcmVha3Mge0Bjb2RlIGpvYi5zb3VyY2V9
IGFyb3VuZCBzdHlsZSBib3VuZGFyaWVzIGluIHtAY29kZSBqb2IuZGVjb3JhdGlvbnN9CiAgICog
YW5kIG1vZGlmaWVzIHtAY29kZSBqb2Iuc291cmNlTm9kZX0gaW4gcGxhY2UuCiAgICogQHBhcmFt
IHtPYmplY3R9IGpvYiBsaWtlIDxwcmU+ewogICAqICAgIHNvdXJjZToge3N0cmluZ30gc291cmNl
IGFzIHBsYWluIHRleHQsCiAgICogICAgc3BhbnM6IHtBcnJheS48bnVtYmVyfE5vZGU+fSBhbHRl
cm5hdGluZyBzcGFuIHN0YXJ0IGluZGljZXMgaW50byBzb3VyY2UKICAgKiAgICAgICBhbmQgdGhl
IHRleHQgbm9kZSBvciBlbGVtZW50IChlLmcuIHtAY29kZSA8QlI+fSkgY29ycmVzcG9uZGluZyB0
byB0aGF0CiAgICogICAgICAgc3Bhbi4KICAgKiAgICBkZWNvcmF0aW9uczoge0FycmF5LjxudW1i
ZXJ8c3RyaW5nfSBhbiBhcnJheSBvZiBzdHlsZSBjbGFzc2VzIHByZWNlZGVkCiAgICogICAgICAg
YnkgdGhlIHBvc2l0aW9uIGF0IHdoaWNoIHRoZXkgc3RhcnQgaW4gam9iLnNvdXJjZSBpbiBvcmRl
cgogICAqIH08L3ByZT4KICAgKiBAcHJpdmF0ZQogICAqLwogIGZ1bmN0aW9uIHJlY29tYmluZVRh
Z3NBbmREZWNvcmF0aW9ucyhqb2IpIHsKICAgIHZhciBpc0lFID0gL1xiTVNJRVxiLy50ZXN0KG5h
dmlnYXRvci51c2VyQWdlbnQpOwogICAgdmFyIG5ld2xpbmVSZSA9IC9cbi9nOwogIAogICAgdmFy
IHNvdXJjZSA9IGpvYi5zb3VyY2U7CiAgICB2YXIgc291cmNlTGVuZ3RoID0gc291cmNlLmxlbmd0
aDsKICAgIC8vIEluZGV4IGludG8gc291cmNlIGFmdGVyIHRoZSBsYXN0IGNvZGUtdW5pdCByZWNv
bWJpbmVkLgogICAgdmFyIHNvdXJjZUluZGV4ID0gMDsKICAKICAgIHZhciBzcGFucyA9IGpvYi5z
cGFuczsKICAgIHZhciBuU3BhbnMgPSBzcGFucy5sZW5ndGg7CiAgICAvLyBJbmRleCBpbnRvIHNw
YW5zIGFmdGVyIHRoZSBsYXN0IHNwYW4gd2hpY2ggZW5kcyBhdCBvciBiZWZvcmUgc291cmNlSW5k
ZXguCiAgICB2YXIgc3BhbkluZGV4ID0gMDsKICAKICAgIHZhciBkZWNvcmF0aW9ucyA9IGpvYi5k
ZWNvcmF0aW9uczsKICAgIHZhciBuRGVjb3JhdGlvbnMgPSBkZWNvcmF0aW9ucy5sZW5ndGg7CiAg
ICAvLyBJbmRleCBpbnRvIGRlY29yYXRpb25zIGFmdGVyIHRoZSBsYXN0IGRlY29yYXRpb24gd2hp
Y2ggZW5kcyBhdCBvciBiZWZvcmUgc291cmNlSW5kZXguCiAgICB2YXIgZGVjb3JhdGlvbkluZGV4
ID0gMDsKICAKICAgIC8vIFNpbXBsaWZ5IGRlY29yYXRpb25zLgogICAgdmFyIGRlY1BvcyA9IDA7
CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5EZWNvcmF0aW9uczspIHsKICAgICAgLy8gU2tpcCBv
dmVyIGFueSB6ZXJvLWxlbmd0aCBkZWNvcmF0aW9ucy4KICAgICAgdmFyIHN0YXJ0UG9zID0gZGVj
b3JhdGlvbnNbaV07CiAgICAgIHZhciBzdGFydCA9IGk7CiAgICAgIHdoaWxlIChzdGFydCArIDIg
PCBuRGVjb3JhdGlvbnMgJiYgZGVjb3JhdGlvbnNbc3RhcnQgKyAyXSA9PT0gc3RhcnRQb3MpIHsK
ICAgICAgICBzdGFydCArPSAyOwogICAgICB9CiAgICAgIC8vIENvbmZsYXRlIGFsbCBhZGphY2Vu
dCBkZWNvcmF0aW9ucyB0aGF0IHVzZSB0aGUgc2FtZSBzdHlsZS4KICAgICAgdmFyIHN0YXJ0RGVj
ID0gZGVjb3JhdGlvbnNbc3RhcnQgKyAxXTsKICAgICAgdmFyIGVuZCA9IHN0YXJ0ICsgMjsKICAg
ICAgd2hpbGUgKGVuZCArIDIgPD0gbkRlY29yYXRpb25zCiAgICAgICAgICAgICAmJiAoZGVjb3Jh
dGlvbnNbZW5kICsgMV0gPT09IHN0YXJ0RGVjCiAgICAgICAgICAgICAgICAgfHwgZGVjb3JhdGlv
bnNbZW5kXSA9PT0gZGVjb3JhdGlvbnNbZW5kICsgMl0pKSB7CiAgICAgICAgZW5kICs9IDI7CiAg
ICAgIH0KICAgICAgZGVjb3JhdGlvbnNbZGVjUG9zKytdID0gc3RhcnRQb3M7CiAgICAgIGRlY29y
YXRpb25zW2RlY1BvcysrXSA9IHN0YXJ0RGVjOwogICAgICBpID0gZW5kOwogICAgfQogIAogICAg
Ly8gU3RyaXAgYW55IHplcm8tbGVuZ3RoIGRlY29yYXRpb24gYXQgdGhlIGVuZC4KICAgIGlmIChk
ZWNQb3MgJiYgZGVjb3JhdGlvbnNbZGVjUG9zIC0gMl0gPT09IHNvdXJjZUxlbmd0aCkgeyBkZWNQ
b3MgLT0gMjsgfQogICAgbkRlY29yYXRpb25zID0gZGVjb3JhdGlvbnMubGVuZ3RoID0gZGVjUG9z
OwogIAogICAgdmFyIGRlY29yYXRpb24gPSBudWxsOwogICAgd2hpbGUgKHNwYW5JbmRleCA8IG5T
cGFucykgewogICAgICB2YXIgc3BhblN0YXJ0ID0gc3BhbnNbc3BhbkluZGV4XTsKICAgICAgdmFy
IHNwYW5FbmQgPSBzcGFuc1tzcGFuSW5kZXggKyAyXSB8fCBzb3VyY2VMZW5ndGg7CiAgCiAgICAg
IHZhciBkZWNTdGFydCA9IGRlY29yYXRpb25zW2RlY29yYXRpb25JbmRleF07CiAgICAgIHZhciBk
ZWNFbmQgPSBkZWNvcmF0aW9uc1tkZWNvcmF0aW9uSW5kZXggKyAyXSB8fCBzb3VyY2VMZW5ndGg7
CiAgCiAgICAgIHZhciBlbmQgPSBNYXRoLm1pbihzcGFuRW5kLCBkZWNFbmQpOwogIAogICAgICB2
YXIgdGV4dE5vZGUgPSBzcGFuc1tzcGFuSW5kZXggKyAxXTsKICAgICAgaWYgKHRleHROb2RlLm5v
ZGVUeXBlICE9PSAxKSB7ICAvLyBEb24ndCBtdWNrIHdpdGggPEJSPnMgb3IgPExJPnMKICAgICAg
ICB2YXIgc3R5bGVkVGV4dCA9IHNvdXJjZS5zdWJzdHJpbmcoc291cmNlSW5kZXgsIGVuZCk7CiAg
ICAgICAgLy8gVGhpcyBtYXkgc2VlbSBiaXphcnJlLCBhbmQgaXQgaXMuICBFbWl0dGluZyBMRiBv
biBJRSBjYXVzZXMgdGhlCiAgICAgICAgLy8gY29kZSB0byBkaXNwbGF5IHdpdGggc3BhY2VzIGlu
c3RlYWQgb2YgbGluZSBicmVha3MuCiAgICAgICAgLy8gRW1pdHRpbmcgV2luZG93cyBzdGFuZGFy
ZCBpc3N1ZSBsaW5lYnJlYWtzIChDUkxGKSBjYXVzZXMgYSBibGFuawogICAgICAgIC8vIHNwYWNl
IHRvIGFwcGVhciBhdCB0aGUgYmVnaW5uaW5nIG9mIGV2ZXJ5IGxpbmUgYnV0IHRoZSBmaXJzdC4K
ICAgICAgICAvLyBFbWl0dGluZyBhbiBvbGQgTWFjIE9TIDkgbGluZSBzZXBhcmF0b3IgbWFrZXMg
ZXZlcnl0aGluZyBzcGlmZnkuCiAgICAgICAgaWYgKGlzSUUpIHsgc3R5bGVkVGV4dCA9IHN0eWxl
ZFRleHQucmVwbGFjZShuZXdsaW5lUmUsICdccicpOyB9CiAgICAgICAgdGV4dE5vZGUubm9kZVZh
bHVlID0gc3R5bGVkVGV4dDsKICAgICAgICB2YXIgZG9jdW1lbnQgPSB0ZXh0Tm9kZS5vd25lckRv
Y3VtZW50OwogICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicp
OwogICAgICAgIHNwYW4uY2xhc3NOYW1lID0gZGVjb3JhdGlvbnNbZGVjb3JhdGlvbkluZGV4ICsg
MV07CiAgICAgICAgdmFyIHBhcmVudE5vZGUgPSB0ZXh0Tm9kZS5wYXJlbnROb2RlOwogICAgICAg
IHBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHNwYW4sIHRleHROb2RlKTsKICAgICAgICBzcGFuLmFw
cGVuZENoaWxkKHRleHROb2RlKTsKICAgICAgICBpZiAoc291cmNlSW5kZXggPCBzcGFuRW5kKSB7
ICAvLyBTcGxpdCBvZmYgYSB0ZXh0IG5vZGUuCiAgICAgICAgICBzcGFuc1tzcGFuSW5kZXggKyAx
XSA9IHRleHROb2RlCiAgICAgICAgICAgICAgLy8gVE9ETzogUG9zc2libHkgb3B0aW1pemUgYnkg
dXNpbmcgJycgaWYgdGhlcmUncyBubyBmbGlja2VyLgogICAgICAgICAgICAgID0gZG9jdW1lbnQu
Y3JlYXRlVGV4dE5vZGUoc291cmNlLnN1YnN0cmluZyhlbmQsIHNwYW5FbmQpKTsKICAgICAgICAg
IHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRleHROb2RlLCBzcGFuLm5leHRTaWJsaW5nKTsKICAg
ICAgICB9CiAgICAgIH0KICAKICAgICAgc291cmNlSW5kZXggPSBlbmQ7CiAgCiAgICAgIGlmIChz
b3VyY2VJbmRleCA+PSBzcGFuRW5kKSB7CiAgICAgICAgc3BhbkluZGV4ICs9IDI7CiAgICAgIH0K
ICAgICAgaWYgKHNvdXJjZUluZGV4ID49IGRlY0VuZCkgewogICAgICAgIGRlY29yYXRpb25JbmRl
eCArPSAyOwogICAgICB9CiAgICB9CiAgfQoKCiAgLyoqIE1hcHMgbGFuZ3VhZ2Utc3BlY2lmaWMg
ZmlsZSBleHRlbnNpb25zIHRvIGhhbmRsZXJzLiAqLwogIHZhciBsYW5nSGFuZGxlclJlZ2lzdHJ5
ID0ge307CiAgLyoqIFJlZ2lzdGVyIGEgbGFuZ3VhZ2UgaGFuZGxlciBmb3IgdGhlIGdpdmVuIGZp
bGUgZXh0ZW5zaW9ucy4KICAgICogQHBhcmFtIHtmdW5jdGlvbiAoT2JqZWN0KX0gaGFuZGxlciBh
IGZ1bmN0aW9uIGZyb20gc291cmNlIGNvZGUgdG8gYSBsaXN0CiAgICAqICAgICAgb2YgZGVjb3Jh
dGlvbnMuICBUYWtlcyBhIHNpbmdsZSBhcmd1bWVudCBqb2Igd2hpY2ggZGVzY3JpYmVzIHRoZQog
ICAgKiAgICAgIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi4gICBUaGUgc2luZ2xlIHBhcmFtZXRl
ciBoYXMgdGhlIGZvcm0KICAgICogICAgICB7QGNvZGUgewogICAgKiAgICAgICAgc291cmNlOiB7
c3RyaW5nfSBhcyBwbGFpbiB0ZXh0LgogICAgKiAgICAgICAgZGVjb3JhdGlvbnM6IHtBcnJheS48
bnVtYmVyfHN0cmluZz59IGFuIGFycmF5IG9mIHN0eWxlIGNsYXNzZXMKICAgICogICAgICAgICAg
ICAgICAgICAgICBwcmVjZWRlZCBieSB0aGUgcG9zaXRpb24gYXQgd2hpY2ggdGhleSBzdGFydCBp
bgogICAgKiAgICAgICAgICAgICAgICAgICAgIGpvYi5zb3VyY2UgaW4gb3JkZXIuCiAgICAqICAg
ICAgICAgICAgICAgICAgICAgVGhlIGxhbmd1YWdlIGhhbmRsZXIgc2hvdWxkIGFzc2lnbmVkIHRo
aXMgZmllbGQuCiAgICAqICAgICAgICBiYXNlUG9zOiB7aW50fSB0aGUgcG9zaXRpb24gb2Ygc291
cmNlIGluIHRoZSBsYXJnZXIgc291cmNlIGNodW5rLgogICAgKiAgICAgICAgICAgICAgICAgQWxs
IHBvc2l0aW9ucyBpbiB0aGUgb3V0cHV0IGRlY29yYXRpb25zIGFycmF5IGFyZSByZWxhdGl2ZQog
ICAgKiAgICAgICAgICAgICAgICAgdG8gdGhlIGxhcmdlciBzb3VyY2UgY2h1bmsuCiAgICAqICAg
ICAgfSB9CiAgICAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZz59IGZpbGVFeHRlbnNpb25zCiAgICAq
LwogIGZ1bmN0aW9uIHJlZ2lzdGVyTGFuZ0hhbmRsZXIoaGFuZGxlciwgZmlsZUV4dGVuc2lvbnMp
IHsKICAgIGZvciAodmFyIGkgPSBmaWxlRXh0ZW5zaW9ucy5sZW5ndGg7IC0taSA+PSAwOykgewog
ICAgICB2YXIgZXh0ID0gZmlsZUV4dGVuc2lvbnNbaV07CiAgICAgIGlmICghbGFuZ0hhbmRsZXJS
ZWdpc3RyeS5oYXNPd25Qcm9wZXJ0eShleHQpKSB7CiAgICAgICAgbGFuZ0hhbmRsZXJSZWdpc3Ry
eVtleHRdID0gaGFuZGxlcjsKICAgICAgfSBlbHNlIGlmICgnY29uc29sZScgaW4gd2luZG93KSB7
CiAgICAgICAgY29uc29sZVsnd2FybiddKCdjYW5ub3Qgb3ZlcnJpZGUgbGFuZ3VhZ2UgaGFuZGxl
ciAlcycsIGV4dCk7CiAgICAgIH0KICAgIH0KICB9CiAgZnVuY3Rpb24gbGFuZ0hhbmRsZXJGb3JF
eHRlbnNpb24oZXh0ZW5zaW9uLCBzb3VyY2UpIHsKICAgIGlmICghKGV4dGVuc2lvbiAmJiBsYW5n
SGFuZGxlclJlZ2lzdHJ5Lmhhc093blByb3BlcnR5KGV4dGVuc2lvbikpKSB7CiAgICAgIC8vIFRy
ZWF0IGl0IGFzIG1hcmt1cCBpZiB0aGUgZmlyc3Qgbm9uIHdoaXRlc3BhY2UgY2hhcmFjdGVyIGlz
IGEgPCBhbmQKICAgICAgLy8gdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyIGlzIGEg
Pi4KICAgICAgZXh0ZW5zaW9uID0gL15ccyo8Ly50ZXN0KHNvdXJjZSkKICAgICAgICAgID8gJ2Rl
ZmF1bHQtbWFya3VwJwogICAgICAgICAgOiAnZGVmYXVsdC1jb2RlJzsKICAgIH0KICAgIHJldHVy
biBsYW5nSGFuZGxlclJlZ2lzdHJ5W2V4dGVuc2lvbl07CiAgfQogIHJlZ2lzdGVyTGFuZ0hhbmRs
ZXIoZGVjb3JhdGVTb3VyY2UsIFsnZGVmYXVsdC1jb2RlJ10pOwogIHJlZ2lzdGVyTGFuZ0hhbmRs
ZXIoCiAgICAgIGNyZWF0ZVNpbXBsZUxleGVyKAogICAgICAgICAgW10sCiAgICAgICAgICBbCiAg
ICAgICAgICAgW1BSX1BMQUlOLCAgICAgICAvXltePD9dKy9dLAogICAgICAgICAgIFtQUl9ERUNM
QVJBVElPTiwgL148IVx3W14+XSooPzo+fCQpL10sCiAgICAgICAgICAgW1BSX0NPTU1FTlQsICAg
ICAvXjxcIS0tW1xzXFNdKj8oPzotXC0+fCQpL10sCiAgICAgICAgICAgLy8gVW5lc2NhcGVkIGNv
bnRlbnQgaW4gYW4gdW5rbm93biBsYW5ndWFnZQogICAgICAgICAgIFsnbGFuZy0nLCAgICAgICAg
L148XD8oW1xzXFNdKz8pKD86XD8+fCQpL10sCiAgICAgICAgICAgWydsYW5nLScsICAgICAgICAv
XjwlKFtcc1xTXSs/KSg/OiU+fCQpL10sCiAgICAgICAgICAgW1BSX1BVTkNUVUFUSU9OLCAvXig/
OjxbJT9dfFslP10+KS9dLAogICAgICAgICAgIFsnbGFuZy0nLCAgICAgICAgL148eG1wXGJbXj5d
Kj4oW1xzXFNdKz8pPFwveG1wXGJbXj5dKj4vaV0sCiAgICAgICAgICAgLy8gVW5lc2NhcGVkIGNv
bnRlbnQgaW4gamF2YXNjcmlwdC4gIChPciBwb3NzaWJseSB2YnNjcmlwdCkuCiAgICAgICAgICAg
WydsYW5nLWpzJywgICAgICAvXjxzY3JpcHRcYltePl0qPihbXHNcU10qPykoPFwvc2NyaXB0XGJb
Xj5dKj4pL2ldLAogICAgICAgICAgIC8vIENvbnRhaW5zIHVuZXNjYXBlZCBzdHlsZXNoZWV0IGNv
bnRlbnQKICAgICAgICAgICBbJ2xhbmctY3NzJywgICAgIC9ePHN0eWxlXGJbXj5dKj4oW1xzXFNd
Kj8pKDxcL3N0eWxlXGJbXj5dKj4pL2ldLAogICAgICAgICAgIFsnbGFuZy1pbi50YWcnLCAgL14o
PFwvP1thLXpdW148Pl0qPikvaV0KICAgICAgICAgIF0pLAogICAgICBbJ2RlZmF1bHQtbWFya3Vw
JywgJ2h0bScsICdodG1sJywgJ214bWwnLCAneGh0bWwnLCAneG1sJywgJ3hzbCddKTsKICByZWdp
c3RlckxhbmdIYW5kbGVyKAogICAgICBjcmVhdGVTaW1wbGVMZXhlcigKICAgICAgICAgIFsKICAg
ICAgICAgICBbUFJfUExBSU4sICAgICAgICAvXltcc10rLywgbnVsbCwgJyBcdFxyXG4nXSwKICAg
ICAgICAgICBbUFJfQVRUUklCX1ZBTFVFLCAvXig/OlwiW15cIl0qXCI/fFwnW15cJ10qXCc/KS8s
IG51bGwsICdcIlwnJ10KICAgICAgICAgICBdLAogICAgICAgICAgWwogICAgICAgICAgIFtQUl9U
QUcsICAgICAgICAgIC9eXjxcLz9bYS16XSg/Oltcdy46LV0qXHcpP3xcLz8+JC9pXSwKICAgICAg
ICAgICBbUFJfQVRUUklCX05BTUUsICAvXig/IXN0eWxlW1xzPV18b24pW2Etel0oPzpbXHc6LV0q
XHcpPy9pXSwKICAgICAgICAgICBbJ2xhbmctdXEudmFsJywgICAvXj1ccyooW14+XCdcIlxzXSoo
PzpbXj5cJ1wiXHNcL118XC8oPz1ccykpKS9dLAogICAgICAgICAgIFtQUl9QVU5DVFVBVElPTiwg
IC9eWz08PlwvXSsvXSwKICAgICAgICAgICBbJ2xhbmctanMnLCAgICAgICAvXm9uXHcrXHMqPVxz
KlwiKFteXCJdKylcIi9pXSwKICAgICAgICAgICBbJ2xhbmctanMnLCAgICAgICAvXm9uXHcrXHMq
PVxzKlwnKFteXCddKylcJy9pXSwKICAgICAgICAgICBbJ2xhbmctanMnLCAgICAgICAvXm9uXHcr
XHMqPVxzKihbXlwiXCc+XHNdKykvaV0sCiAgICAgICAgICAgWydsYW5nLWNzcycsICAgICAgL15z
dHlsZVxzKj1ccypcIihbXlwiXSspXCIvaV0sCiAgICAgICAgICAgWydsYW5nLWNzcycsICAgICAg
L15zdHlsZVxzKj1ccypcJyhbXlwnXSspXCcvaV0sCiAgICAgICAgICAgWydsYW5nLWNzcycsICAg
ICAgL15zdHlsZVxzKj1ccyooW15cIlwnPlxzXSspL2ldCiAgICAgICAgICAgXSksCiAgICAgIFsn
aW4udGFnJ10pOwogIHJlZ2lzdGVyTGFuZ0hhbmRsZXIoCiAgICAgIGNyZWF0ZVNpbXBsZUxleGVy
KFtdLCBbW1BSX0FUVFJJQl9WQUxVRSwgL15bXHNcU10rL11dKSwgWyd1cS52YWwnXSk7CiAgcmVn
aXN0ZXJMYW5nSGFuZGxlcihzb3VyY2VEZWNvcmF0b3IoewogICAgICAgICAgJ2tleXdvcmRzJzog
Q1BQX0tFWVdPUkRTLAogICAgICAgICAgJ2hhc2hDb21tZW50cyc6IHRydWUsCiAgICAgICAgICAn
Y1N0eWxlQ29tbWVudHMnOiB0cnVlCiAgICAgICAgfSksIFsnYycsICdjYycsICdjcHAnLCAnY3h4
JywgJ2N5YycsICdtJ10pOwogIHJlZ2lzdGVyTGFuZ0hhbmRsZXIoc291cmNlRGVjb3JhdG9yKHsK
ICAgICAgICAgICdrZXl3b3Jkcyc6ICdudWxsIHRydWUgZmFsc2UnCiAgICAgICAgfSksIFsnanNv
biddKTsKICByZWdpc3RlckxhbmdIYW5kbGVyKHNvdXJjZURlY29yYXRvcih7CiAgICAgICAgICAn
a2V5d29yZHMnOiBDU0hBUlBfS0VZV09SRFMsCiAgICAgICAgICAnaGFzaENvbW1lbnRzJzogdHJ1
ZSwKICAgICAgICAgICdjU3R5bGVDb21tZW50cyc6IHRydWUsCiAgICAgICAgICAndmVyYmF0aW1T
dHJpbmdzJzogdHJ1ZQogICAgICAgIH0pLCBbJ2NzJ10pOwogIHJlZ2lzdGVyTGFuZ0hhbmRsZXIo
c291cmNlRGVjb3JhdG9yKHsKICAgICAgICAgICdrZXl3b3Jkcyc6IEpBVkFfS0VZV09SRFMsCiAg
ICAgICAgICAnY1N0eWxlQ29tbWVudHMnOiB0cnVlCiAgICAgICAgfSksIFsnamF2YSddKTsKICBy
ZWdpc3RlckxhbmdIYW5kbGVyKHNvdXJjZURlY29yYXRvcih7CiAgICAgICAgICAna2V5d29yZHMn
OiBTSF9LRVlXT1JEUywKICAgICAgICAgICdoYXNoQ29tbWVudHMnOiB0cnVlLAogICAgICAgICAg
J211bHRpTGluZVN0cmluZ3MnOiB0cnVlCiAgICAgICAgfSksIFsnYnNoJywgJ2NzaCcsICdzaCdd
KTsKICByZWdpc3RlckxhbmdIYW5kbGVyKHNvdXJjZURlY29yYXRvcih7CiAgICAgICAgICAna2V5
d29yZHMnOiBQWVRIT05fS0VZV09SRFMsCiAgICAgICAgICAnaGFzaENvbW1lbnRzJzogdHJ1ZSwK
ICAgICAgICAgICdtdWx0aUxpbmVTdHJpbmdzJzogdHJ1ZSwKICAgICAgICAgICd0cmlwbGVRdW90
ZWRTdHJpbmdzJzogdHJ1ZQogICAgICAgIH0pLCBbJ2N2JywgJ3B5J10pOwogIHJlZ2lzdGVyTGFu
Z0hhbmRsZXIoc291cmNlRGVjb3JhdG9yKHsKICAgICAgICAgICdrZXl3b3Jkcyc6IFBFUkxfS0VZ
V09SRFMsCiAgICAgICAgICAnaGFzaENvbW1lbnRzJzogdHJ1ZSwKICAgICAgICAgICdtdWx0aUxp
bmVTdHJpbmdzJzogdHJ1ZSwKICAgICAgICAgICdyZWdleExpdGVyYWxzJzogdHJ1ZQogICAgICAg
IH0pLCBbJ3BlcmwnLCAncGwnLCAncG0nXSk7CiAgcmVnaXN0ZXJMYW5nSGFuZGxlcihzb3VyY2VE
ZWNvcmF0b3IoewogICAgICAgICAgJ2tleXdvcmRzJzogUlVCWV9LRVlXT1JEUywKICAgICAgICAg
ICdoYXNoQ29tbWVudHMnOiB0cnVlLAogICAgICAgICAgJ211bHRpTGluZVN0cmluZ3MnOiB0cnVl
LAogICAgICAgICAgJ3JlZ2V4TGl0ZXJhbHMnOiB0cnVlCiAgICAgICAgfSksIFsncmInXSk7CiAg
cmVnaXN0ZXJMYW5nSGFuZGxlcihzb3VyY2VEZWNvcmF0b3IoewogICAgICAgICAgJ2tleXdvcmRz
JzogSlNDUklQVF9LRVlXT1JEUywKICAgICAgICAgICdjU3R5bGVDb21tZW50cyc6IHRydWUsCiAg
ICAgICAgICAncmVnZXhMaXRlcmFscyc6IHRydWUKICAgICAgICB9KSwgWydqcyddKTsKICByZWdp
c3RlckxhbmdIYW5kbGVyKHNvdXJjZURlY29yYXRvcih7CiAgICAgICAgICAna2V5d29yZHMnOiBD
T0ZGRUVfS0VZV09SRFMsCiAgICAgICAgICAnaGFzaENvbW1lbnRzJzogMywgIC8vICMjIyBzdHls
ZSBibG9jayBjb21tZW50cwogICAgICAgICAgJ2NTdHlsZUNvbW1lbnRzJzogdHJ1ZSwKICAgICAg
ICAgICdtdWx0aWxpbmVTdHJpbmdzJzogdHJ1ZSwKICAgICAgICAgICd0cmlwbGVRdW90ZWRTdHJp
bmdzJzogdHJ1ZSwKICAgICAgICAgICdyZWdleExpdGVyYWxzJzogdHJ1ZQogICAgICAgIH0pLCBb
J2NvZmZlZSddKTsKICByZWdpc3RlckxhbmdIYW5kbGVyKGNyZWF0ZVNpbXBsZUxleGVyKFtdLCBb
W1BSX1NUUklORywgL15bXHNcU10rL11dKSwgWydyZWdleCddKTsKCiAgZnVuY3Rpb24gYXBwbHlE
ZWNvcmF0b3Ioam9iKSB7CiAgICB2YXIgb3B0X2xhbmdFeHRlbnNpb24gPSBqb2IubGFuZ0V4dGVu
c2lvbjsKCiAgICB0cnkgewogICAgICAvLyBFeHRyYWN0IHRhZ3MsIGFuZCBjb252ZXJ0IHRoZSBz
b3VyY2UgY29kZSB0byBwbGFpbiB0ZXh0LgogICAgICB2YXIgc291cmNlQW5kU3BhbnMgPSBleHRy
YWN0U291cmNlU3BhbnMoam9iLnNvdXJjZU5vZGUpOwogICAgICAvKiogUGxhaW4gdGV4dC4gQHR5
cGUge3N0cmluZ30gKi8KICAgICAgdmFyIHNvdXJjZSA9IHNvdXJjZUFuZFNwYW5zLnNvdXJjZTsK
ICAgICAgam9iLnNvdXJjZSA9IHNvdXJjZTsKICAgICAgam9iLnNwYW5zID0gc291cmNlQW5kU3Bh
bnMuc3BhbnM7CiAgICAgIGpvYi5iYXNlUG9zID0gMDsKCiAgICAgIC8vIEFwcGx5IHRoZSBhcHBy
b3ByaWF0ZSBsYW5ndWFnZSBoYW5kbGVyCiAgICAgIGxhbmdIYW5kbGVyRm9yRXh0ZW5zaW9uKG9w
dF9sYW5nRXh0ZW5zaW9uLCBzb3VyY2UpKGpvYik7CgogICAgICAvLyBJbnRlZ3JhdGUgdGhlIGRl
Y29yYXRpb25zIGFuZCB0YWdzIGJhY2sgaW50byB0aGUgc291cmNlIGNvZGUsCiAgICAgIC8vIG1v
ZGlmeWluZyB0aGUgc291cmNlTm9kZSBpbiBwbGFjZS4KICAgICAgcmVjb21iaW5lVGFnc0FuZERl
Y29yYXRpb25zKGpvYik7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlmICgnY29uc29sZScgaW4g
d2luZG93KSB7CiAgICAgICAgY29uc29sZVsnbG9nJ10oZSAmJiBlWydzdGFjayddID8gZVsnc3Rh
Y2snXSA6IGUpOwogICAgICB9CiAgICB9CiAgfQoKICAvKioKICAgKiBAcGFyYW0gc291cmNlQ29k
ZUh0bWwge3N0cmluZ30gVGhlIEhUTUwgdG8gcHJldHR5IHByaW50LgogICAqIEBwYXJhbSBvcHRf
bGFuZ0V4dGVuc2lvbiB7c3RyaW5nfSBUaGUgbGFuZ3VhZ2UgbmFtZSB0byB1c2UuCiAgICogICAg
IFR5cGljYWxseSwgYSBmaWxlbmFtZSBleHRlbnNpb24gbGlrZSAnY3BwJyBvciAnamF2YScuCiAg
ICogQHBhcmFtIG9wdF9udW1iZXJMaW5lcyB7bnVtYmVyfGJvb2xlYW59IFRydWUgdG8gbnVtYmVy
IGxpbmVzLAogICAqICAgICBvciB0aGUgMS1pbmRleGVkIG51bWJlciBvZiB0aGUgZmlyc3QgbGlu
ZSBpbiBzb3VyY2VDb2RlSHRtbC4KICAgKi8KICBmdW5jdGlvbiBwcmV0dHlQcmludE9uZShzb3Vy
Y2VDb2RlSHRtbCwgb3B0X2xhbmdFeHRlbnNpb24sIG9wdF9udW1iZXJMaW5lcykgewogICAgdmFy
IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1BSRScpOwogICAgLy8gVGhpcyBj
b3VsZCBjYXVzZSBpbWFnZXMgdG8gbG9hZCBhbmQgb25sb2FkIGxpc3RlbmVycyB0byBmaXJlLgog
ICAgLy8gRS5nLiA8aW1nIG9uZXJyb3I9ImFsZXJ0KDEzMzcpIiBzcmM9Im5vc3VjaGltYWdlLnBu
ZyI+LgogICAgLy8gV2UgYXNzdW1lIHRoYXQgdGhlIGlubmVyIEhUTUwgaXMgZnJvbSBhIHRydXN0
ZWQgc291cmNlLgogICAgY29udGFpbmVyLmlubmVySFRNTCA9IHNvdXJjZUNvZGVIdG1sOwogICAg
aWYgKG9wdF9udW1iZXJMaW5lcykgewogICAgICBudW1iZXJMaW5lcyhjb250YWluZXIsIG9wdF9u
dW1iZXJMaW5lcyk7CiAgICB9CgogICAgdmFyIGpvYiA9IHsKICAgICAgbGFuZ0V4dGVuc2lvbjog
b3B0X2xhbmdFeHRlbnNpb24sCiAgICAgIG51bWJlckxpbmVzOiBvcHRfbnVtYmVyTGluZXMsCiAg
ICAgIHNvdXJjZU5vZGU6IGNvbnRhaW5lcgogICAgfTsKICAgIGFwcGx5RGVjb3JhdG9yKGpvYik7
CiAgICByZXR1cm4gY29udGFpbmVyLmlubmVySFRNTDsKICB9CgogIGZ1bmN0aW9uIHByZXR0eVBy
aW50KG9wdF93aGVuRG9uZSkgewogICAgZnVuY3Rpb24gYnlUYWdOYW1lKHRuKSB7IHJldHVybiBk
b2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0bik7IH0KICAgIC8vIGZldGNoIGEgbGlzdCBv
ZiBub2RlcyB0byByZXdyaXRlCiAgICB2YXIgY29kZVNlZ21lbnRzID0gW2J5VGFnTmFtZSgncHJl
JyksIGJ5VGFnTmFtZSgnY29kZScpLCBieVRhZ05hbWUoJ3htcCcpXTsKICAgIHZhciBlbGVtZW50
cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2RlU2VnbWVudHMubGVuZ3RoOyArK2kp
IHsKICAgICAgZm9yICh2YXIgaiA9IDAsIG4gPSBjb2RlU2VnbWVudHNbaV0ubGVuZ3RoOyBqIDwg
bjsgKytqKSB7CiAgICAgICAgZWxlbWVudHMucHVzaChjb2RlU2VnbWVudHNbaV1bal0pOwogICAg
ICB9CiAgICB9CiAgICBjb2RlU2VnbWVudHMgPSBudWxsOwoKICAgIHZhciBjbG9jayA9IERhdGU7
CiAgICBpZiAoIWNsb2NrWydub3cnXSkgewogICAgICBjbG9jayA9IHsgJ25vdyc6IGZ1bmN0aW9u
ICgpIHsgcmV0dXJuIChuZXcgRGF0ZSkuZ2V0VGltZSgpOyB9IH07CiAgICB9CgogICAgLy8gVGhl
IGxvb3AgaXMgYnJva2VuIGludG8gYSBzZXJpZXMgb2YgY29udGludWF0aW9ucyB0byBtYWtlIHN1
cmUgdGhhdCB3ZQogICAgLy8gZG9uJ3QgbWFrZSB0aGUgYnJvd3NlciB1bnJlc3BvbnNpdmUgd2hl
biByZXdyaXRpbmcgYSBsYXJnZSBwYWdlLgogICAgdmFyIGsgPSAwOwogICAgdmFyIHByZXR0eVBy
aW50aW5nSm9iOwoKICAgIGZ1bmN0aW9uIGRvV29yaygpIHsKICAgICAgdmFyIGVuZFRpbWUgPSAo
d2luZG93WydQUl9TSE9VTERfVVNFX0NPTlRJTlVBVElPTiddID8KICAgICAgICAgICAgICAgICAg
ICAgY2xvY2subm93KCkgKyAyNTAgLyogbXMgKi8gOgogICAgICAgICAgICAgICAgICAgICBJbmZp
bml0eSk7CiAgICAgIGZvciAoOyBrIDwgZWxlbWVudHMubGVuZ3RoICYmIGNsb2NrLm5vdygpIDwg
ZW5kVGltZTsgaysrKSB7CiAgICAgICAgdmFyIGNzID0gZWxlbWVudHNba107CiAgICAgICAgaWYg
KGNzLmNsYXNzTmFtZSAmJiBjcy5jbGFzc05hbWUuaW5kZXhPZigncHJldHR5cHJpbnQnKSA+PSAw
KSB7CiAgICAgICAgICAvLyBJZiB0aGUgY2xhc3NlcyBpbmNsdWRlcyBhIGxhbmd1YWdlIGV4dGVu
c2lvbnMsIHVzZSBpdC4KICAgICAgICAgIC8vIExhbmd1YWdlIGV4dGVuc2lvbnMgY2FuIGJlIHNw
ZWNpZmllZCBsaWtlCiAgICAgICAgICAvLyAgICAgPHByZSBjbGFzcz0icHJldHR5cHJpbnQgbGFu
Zy1jcHAiPgogICAgICAgICAgLy8gdGhlIGxhbmd1YWdlIGV4dGVuc2lvbiAiY3BwIiBpcyB1c2Vk
IHRvIGZpbmQgYSBsYW5ndWFnZSBoYW5kbGVyIGFzCiAgICAgICAgICAvLyBwYXNzZWQgdG8gUFIu
cmVnaXN0ZXJMYW5nSGFuZGxlci4KICAgICAgICAgIHZhciBsYW5nRXh0ZW5zaW9uID0gY3MuY2xh
c3NOYW1lLm1hdGNoKC9cYmxhbmctKFx3KylcYi8pOwogICAgICAgICAgaWYgKGxhbmdFeHRlbnNp
b24pIHsgbGFuZ0V4dGVuc2lvbiA9IGxhbmdFeHRlbnNpb25bMV07IH0KCiAgICAgICAgICAvLyBt
YWtlIHN1cmUgdGhpcyBpcyBub3QgbmVzdGVkIGluIGFuIGFscmVhZHkgcHJldHRpZmllZCBlbGVt
ZW50CiAgICAgICAgICB2YXIgbmVzdGVkID0gZmFsc2U7CiAgICAgICAgICBmb3IgKHZhciBwID0g
Y3MucGFyZW50Tm9kZTsgcDsgcCA9IHAucGFyZW50Tm9kZSkgewogICAgICAgICAgICBpZiAoKHAu
dGFnTmFtZSA9PT0gJ3ByZScgfHwgcC50YWdOYW1lID09PSAnY29kZScgfHwKICAgICAgICAgICAg
ICAgICBwLnRhZ05hbWUgPT09ICd4bXAnKSAmJgogICAgICAgICAgICAgICAgcC5jbGFzc05hbWUg
JiYgcC5jbGFzc05hbWUuaW5kZXhPZigncHJldHR5cHJpbnQnKSA+PSAwKSB7CiAgICAgICAgICAg
ICAgbmVzdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAg
ICAgICAgfQogICAgICAgICAgaWYgKCFuZXN0ZWQpIHsKICAgICAgICAgICAgLy8gTG9vayBmb3Ig
YSBjbGFzcyBsaWtlIGxpbmVudW1zIG9yIGxpbmVudW1zOjxuPiB3aGVyZSA8bj4gaXMgdGhlCiAg
ICAgICAgICAgIC8vIDEtaW5kZXhlZCBudW1iZXIgb2YgdGhlIGZpcnN0IGxpbmUuCiAgICAgICAg
ICAgIHZhciBsaW5lTnVtcyA9IGNzLmNsYXNzTmFtZS5tYXRjaCgvXGJsaW5lbnVtc1xiKD86Oihc
ZCspKT8vKTsKICAgICAgICAgICAgbGluZU51bXMgPSBsaW5lTnVtcwogICAgICAgICAgICAgICAg
ICA/IGxpbmVOdW1zWzFdICYmIGxpbmVOdW1zWzFdLmxlbmd0aCA/ICtsaW5lTnVtc1sxXSA6IHRy
dWUKICAgICAgICAgICAgICAgICAgOiBmYWxzZTsKICAgICAgICAgICAgaWYgKGxpbmVOdW1zKSB7
IG51bWJlckxpbmVzKGNzLCBsaW5lTnVtcyk7IH0KCiAgICAgICAgICAgIC8vIGRvIHRoZSBwcmV0
dHkgcHJpbnRpbmcKICAgICAgICAgICAgcHJldHR5UHJpbnRpbmdKb2IgPSB7CiAgICAgICAgICAg
ICAgbGFuZ0V4dGVuc2lvbjogbGFuZ0V4dGVuc2lvbiwKICAgICAgICAgICAgICBzb3VyY2VOb2Rl
OiBjcywKICAgICAgICAgICAgICBudW1iZXJMaW5lczogbGluZU51bXMKICAgICAgICAgICAgfTsK
ICAgICAgICAgICAgYXBwbHlEZWNvcmF0b3IocHJldHR5UHJpbnRpbmdKb2IpOwogICAgICAgICAg
fQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoayA8IGVsZW1lbnRzLmxlbmd0aCkgewogICAg
ICAgIC8vIGZpbmlzaCB1cCBpbiBhIGNvbnRpbnVhdGlvbgogICAgICAgIHNldFRpbWVvdXQoZG9X
b3JrLCAyNTApOwogICAgICB9IGVsc2UgaWYgKG9wdF93aGVuRG9uZSkgewogICAgICAgIG9wdF93
aGVuRG9uZSgpOwogICAgICB9CiAgICB9CgogICAgZG9Xb3JrKCk7CiAgfQoKICB3aW5kb3dbJ3By
ZXR0eVByaW50T25lJ10gPSBwcmV0dHlQcmludE9uZTsKICB3aW5kb3dbJ3ByZXR0eVByaW50J10g
PSBwcmV0dHlQcmludDsKICB3aW5kb3dbJ1BSJ10gPSB7CiAgICAgICAgJ2NyZWF0ZVNpbXBsZUxl
eGVyJzogY3JlYXRlU2ltcGxlTGV4ZXIsCiAgICAgICAgJ3JlZ2lzdGVyTGFuZ0hhbmRsZXInOiBy
ZWdpc3RlckxhbmdIYW5kbGVyLAogICAgICAgICdzb3VyY2VEZWNvcmF0b3InOiBzb3VyY2VEZWNv
cmF0b3IsCiAgICAgICAgJ1BSX0FUVFJJQl9OQU1FJzogUFJfQVRUUklCX05BTUUsCiAgICAgICAg
J1BSX0FUVFJJQl9WQUxVRSc6IFBSX0FUVFJJQl9WQUxVRSwKICAgICAgICAnUFJfQ09NTUVOVCc6
IFBSX0NPTU1FTlQsCiAgICAgICAgJ1BSX0RFQ0xBUkFUSU9OJzogUFJfREVDTEFSQVRJT04sCiAg
ICAgICAgJ1BSX0tFWVdPUkQnOiBQUl9LRVlXT1JELAogICAgICAgICdQUl9MSVRFUkFMJzogUFJf
TElURVJBTCwKICAgICAgICAnUFJfTk9DT0RFJzogUFJfTk9DT0RFLAogICAgICAgICdQUl9QTEFJ
Tic6IFBSX1BMQUlOLAogICAgICAgICdQUl9QVU5DVFVBVElPTic6IFBSX1BVTkNUVUFUSU9OLAog
ICAgICAgICdQUl9TT1VSQ0UnOiBQUl9TT1VSQ0UsCiAgICAgICAgJ1BSX1NUUklORyc6IFBSX1NU
UklORywKICAgICAgICAnUFJfVEFHJzogUFJfVEFHLAogICAgICAgICdQUl9UWVBFJzogUFJfVFlQ
RQogICAgICB9Owp9KSgpOwo=
</content>
  </attachment>
  <attachment>
    <filename>logo.png</filename>
    <filesize>1091</filesize>
    <author>xwiki:XWiki.Admin</author>
    <date>1357463041000</date>
    <version>1.1</version>
    <comment/>
    <content>iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAECklEQVR4XtWaMWgTURjH36AQMdob
FBwU0k4ODh06ZMhwQweHtrl7LwEHhwxOpZWisXQQLASt0sGhg4NDBoeCDqIpdOxQJIUODhkydAjY
oYNChw4OBZ/vP5SGkr7/Xd7l2jz4CDfk3f2+7733/77vTgx6VOq5zNy3exPlz7ezYpgHQJ42xlrz
G2N6fmO0Y669oYWZ/57LA+TEZhtjhQsBCILAKxbDahjKj2GolnAdF2aukfO7YXAdF6BcLmeDQM0V
i+pDEMiX09PTt2JPUCzKtoHQJ2Ym3DMT30kTBg40zmydfY5YjoUnTkG6gWQHnkkDxvf9K8ahTQD0
sKXIMAgpAHoDhVuVSiXjBsNBzH0+nf8Msh4DJqwC4HyTX3DDQcEEgVyz3R97J+5a3bcBGeCVQcBg
iRNH7ksp74o4Qyl133jgt31itZTk0RyG4ZRZ4n8tETnEc4l+xsyMmjAAR5bJj80mLVnVvzHa5qKJ
iJR8AnIspcwTAHoYTDIg49GCDQgRAghZBYfkHlMiiQHvA2AQXoMIQjvs+1M+EUkOA7Bqv6E6MGKW
iyuKBmSXHjSDGDj72UkTNUuAVkGzbCC4H5EAYlyVN4kGbGPpcFGUX8nS2gSwMwD3qNy2A6mGzaNQ
cALSTBSEb1rZIRGq96fupZ+YP+0SIQc1JkC1MyALxAEdou5uRhT7AcsSkJ44qHu6hiyBKbexRQsI
7AjzpATARRUPbQH6R0SxJC7TQNJpe2AL6HKyAMv1jHi3kxe1pt/T3u4UxPJWNnZRx22VAeiKyOhn
N/O66vk97fmNgp4V2VOQN82WWNnRxDoGyIuTJRAtWYcWUZDqSEsvetpuIx0D7Qnx+sc4ACIZoofB
1f0X0aA/UZoSeuH6OACiGKJ3Epl2cpGRtSiRQQQjLbEXI+3IkcEAEPYF2TNeP70DEqG1KEDYF7Y9
A5CEMwJZ6Xk8c6AFwjNMOgMg9fiSgKhJou6AeWWDxf/RAyAAqeRmh6RSrEbZT5jnwlIaVJR9ZM21
KJVq6m8IUHeweqaXKOKtggWINcbTrzRR8trUHe1dALj3s917AOusUoRnXZsZAMarlYHB8JJX7aFS
TKrNhCU5kO4M+ldJl7zY7BF6Ce8TjogKiLof4Zi2ANAGPQGqJKUlDwmItvWBtRAZfVVMmN+sZcmN
wyHsHq4gBXiNiaIVJCNa+prQ5rdjrj2b01ifwJIl8PCjf+ySJJqI5AHSZez9zCOS9hz0Xs78pNlz
Lnkzwu+GwbVrLwFAPEvgdQkXRQ6T7jtN/rZZ7RJRJDDuDXqkSs7fAQCEqDKFiZM2ke8AHL7QIOru
AMP3Lk9E+UTwAEKKNUomcITh384gtUHDMOXGOj+aL7UR0WwT0RwuIEQoDZD/0b05QnZ/b5kAAAAA
SUVORK5CYII=
</content>
  </attachment>
  <object>
    <class>
      <name>XWiki.DocumentSheetBinding</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <sheet>
        <customDisplay/>
        <disabled>0</disabled>
        <name>sheet</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Sheet</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </sheet>
    </class>
    <name>Presentation.PresentationSkin</name>
    <number>0</number>
    <className>XWiki.DocumentSheetBinding</className>
    <guid>0091e8a9-12d8-418d-98db-ca6236019533</guid>
    <property>
      <sheet/>
    </property>
  </object>
  <object>
    <class>
      <name>XWiki.XWikiSkins</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <baseskin>
        <customDisplay/>
        <disabled>0</disabled>
        <name>baseskin</name>
        <number>2</number>
        <picker>0</picker>
        <prettyName>Base Skin</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </baseskin>
      <edit.vm>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>edit.vm</name>
        <number>9</number>
        <picker>0</picker>
        <prettyName>Edit</prettyName>
        <rows>15</rows>
        <size>80</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </edit.vm>
      <footer.vm>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>footer.vm</name>
        <number>6</number>
        <picker>0</picker>
        <prettyName>Footer</prettyName>
        <rows>15</rows>
        <size>80</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </footer.vm>
      <header.vm>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>header.vm</name>
        <number>5</number>
        <picker>0</picker>
        <prettyName>Header</prettyName>
        <rows>15</rows>
        <size>80</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </header.vm>
      <logo>
        <customDisplay/>
        <disabled>0</disabled>
        <name>logo</name>
        <number>3</number>
        <picker>0</picker>
        <prettyName>Logo</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </logo>
      <name>
        <customDisplay/>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <style.css>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>style.css</name>
        <number>4</number>
        <picker>0</picker>
        <prettyName>Style</prettyName>
        <rows>15</rows>
        <size>80</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </style.css>
      <view.vm>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>view.vm</name>
        <number>8</number>
        <picker>0</picker>
        <prettyName>View</prettyName>
        <rows>15</rows>
        <size>80</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </view.vm>
      <viewheader.vm>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>PureText</editor>
        <name>viewheader.vm</name>
        <number>7</number>
        <picker>0</picker>
        <prettyName>View Header</prettyName>
        <rows>15</rows>
        <size>80</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </viewheader.vm>
    </class>
    <name>Presentation.PresentationSkin</name>
    <number>0</number>
    <className>XWiki.XWikiSkins</className>
    <guid>95909a9a-4b59-4340-af3d-62c56a7ccc61</guid>
    <property>
      <baseskin/>
    </property>
    <property>
      <edit.vm/>
    </property>
    <property>
      <footer.vm/>
    </property>
    <property>
      <header.vm/>
    </property>
    <property>
      <logo/>
    </property>
    <property>
      <name>HTML5 Presentation</name>
    </property>
    <property>
      <style.css>#template('colorThemeInit.vm')

.wikimodel-emptyline {
  height: 1em;
}

.loading {
  background: url("$xwiki.getSkinFile('icons/xwiki/spinner.gif')") no-repeat scroll center center transparent;
}

.code, .box {
  background-color: $theme.backgroundSecondaryColor;
  border: 1px dotted $theme.borderColor;
  font-size: 70%;
  line-height: 120%
}

.code, .code pre, .code *  {
  font-family: courier, "courier new", monospace;
  white-space: pre;
}

th {
  background-color: #F3F3F3
}
</style.css>
    </property>
    <property>
      <view.vm>&lt;!DOCTYPE html&gt;

&lt;!-- Adapted from http://code.google.com/p/html5slides/ --&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;$doc.plainTitle&lt;/title&gt;
    &lt;meta charset='utf-8'&gt;
    &lt;script src='$xwiki.getSkinFile("js/prototype/prototype.js")'&gt;&lt;/script&gt;
    &lt;script src='$xwiki.getSkinFile("slides.js")'&gt;&lt;/script&gt;
    &lt;script src='$xwiki.getSkinFile("js/xwiki/xwiki.js")'&gt;&lt;/script&gt;
    &lt;!-- com.xpn.xwiki.plugin.skinx.JsResourceSkinExtensionPlugin --&gt;
    &lt;!-- com.xpn.xwiki.plugin.skinx.JsSkinFileExtensionPlugin --&gt;
    &lt;!-- com.xpn.xwiki.plugin.skinx.JsSkinExtensionPlugin --&gt;
    &lt;script type="text/javascript" src="$xwiki.getSkinFile("js/xwiki/markerScript.js", false)" defer="defer"&gt;&lt;/script&gt;
    &lt;link href='$xwiki.getSkinFile("style.css")' rel="stylesheet" type="text/css"/&gt;
    &lt;!-- com.xpn.xwiki.plugin.skinx.CssResourceSkinExtensionPlugin --&gt;
    &lt;!-- com.xpn.xwiki.plugin.skinx.CssSkinExtensionPlugin --&gt;
    &lt;!-- com.xpn.xwiki.plugin.skinx.CssSkinFileExtensionPlugin --&gt;
  &lt;/head&gt;

  &lt;body style='display: none'&gt;

    #set($presentation = $doc.getObject("Presentation.PresentationClass"))
    #set($layout = $presentation.getProperty("layout").value)
    #if ("$!layout" == "")
      #set ($layout = "layout-regular")
    #end
    #set($theme = $presentation.getProperty("theme").value)
    #if ("$!theme" == "")
      #set ($theme = "template-default")
    #end

    &lt;section class='slides $layout $theme'&gt;
      
      &lt;article class='biglogo'&gt;
      &lt;/article&gt;

      ## Save document being presented in the context since we have no way to pass it with includeTopic
      $context.put("presentationDocument", $doc.getFullName())
      #includeInContext("Presentation.PresentationSlideGenerator")
        
    &lt;/section&gt;

  &lt;/body&gt;
&lt;/html&gt;</view.vm>
    </property>
    <property>
      <viewheader.vm/>
    </property>
  </object>
  <content>= Example =

Check out this [[Presentation about XWiki as web development platform&gt;&gt;XWikiPresentation]] to see this skin in action.

= Usage =

To use this Presentation Skin, follow these steps:

1. Create a document with some content such as for example:(((
{{code language="none"}}
= XWiki =

A collaborative development platform runtime based on the wiki paradigm


(% style="font-size: 70%;" %)
(((
Vincent Massol
October 2011
)))

=== Agenda ===

* What is XWiki?
* Development Capabilities
* Why use XWiki?
* QA

=== Slide 1 ===

This is a paragraph on slide 1

(% class="build" %)
* item 1
* item 2

=== Slide 2 ===

Hello world!

image:http://www.xwiki.org/xwiki/bin/download/ColorThemes/MainCT/logo.png

=== Slide 3 ===

|=Header1|=Header2
|//value1//|**value2**

##monospace##

=== Slide 4 ===

{{code language="java"}}
...
// Find all sections and create one &lt;article&gt; per section
def xdom =
   xwiki.getDocument("Main.Test2").getDocument().getXDOM()
xdom.getBlocks(new ClassBlockMatcher(
  HeaderBlock.class), Block.Axes.DESCENDANT).each()
{
...
}
{{/code}}
{{/code}}
)))
1. Attach an Object of type ##Presentation.PresentationClass##
1. Click the "Run the presentation" button!
</content>
</xwikidoc>
